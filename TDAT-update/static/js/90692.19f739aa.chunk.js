"use strict";(self.webpackChunkegis_tdat=self.webpackChunkegis_tdat||[]).push([[90692],{90692:(i,e,a)=>{a.r(e),a.d(e,{default:()=>f});var s=a(50076),r=a(53430),n=a(28383),t=a(90494),o=a(42633),l=a(43508);const p=[...o.i3,"time-only",...r.numericTypes];async function f(i){const{layerAdapter:e,...a}=await async function(i){if(!i?.layer||!(i.field||i.valueExpression||i.sqlExpression))throw new s.A("histogram:missing-parameters","'layer' and 'field', 'valueExpression' or 'sqlExpression' parameters are required");if(i.valueExpression&&!i.sqlExpression&&!i.view)throw new s.A("histogram:missing-parameters","View is required when 'valueExpression' is specified");i.forBinning&&(0,t.p)(i,"histogram");const{layer:e,...a}=i,f=i.forBinning?l.Mi:l.G3,d=(0,l.Jg)(e,f,i.forBinning);if(!d)throw new s.A("histogram:invalid-parameters","'layer' must be one of these types: "+(0,l.Ho)(f).join(", "));const h={layerAdapter:d,...a};h.normalizationType=(0,o.Wy)(h);const m=null!=h.signal?{signal:h.signal}:null;await d.load(m);const w=h.valueExpression||h.sqlExpression,c=h.field,u=c?d.getField(c):null,g=!h.classificationMethod||"equal-interval"===h.classificationMethod,v=await(0,o.EG)({field:c,normalizationField:h.normalizationField,valueExpression:h.valueExpression}),y=(0,n.MH)(d,v,"histogram:invalid-parameters");if(y)throw y;if(u){const i=(0,n.a)(d,u,"histogram:invalid-parameters",p);if(i)throw i;if((0,o.fs)(u)||(0,r.isTimeOnlyField)(u)){if(h.normalizationType)throw new s.A("histogram:invalid-parameters","Normalization is not allowed for date fields");if(!g)throw new s.A("histogram:invalid-parameters","'classificationMethod' other than 'equal-interval' is not allowed for date fields")}}else if(w){if(h.normalizationType)throw new s.A("histogram:invalid-parameters","Normalization is not allowed when 'valueExpression' or 'sqlExpression' is specified");if(!g)throw new s.A("histogram:invalid-parameters","'classificationMethod' other than 'equal-interval' is not allowed when 'valueExpression' or 'sqlExpression' is specified")}h.filter&&!h.filter.spatialRelationship&&(h.filter.spatialRelationship="intersects");const E=(0,n.Wk)(h.filter,"histogram:invalid-parameters");if(E)throw E;return h}(i);return e.histogram(a)}}}]);
//# sourceMappingURL=90692.19f739aa.chunk.js.map