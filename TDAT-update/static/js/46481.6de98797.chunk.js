"use strict";(self.webpackChunkegis_tdat=self.webpackChunkegis_tdat||[]).push([[46481],{46481:(i,s,e)=>{e.r(s),e.d(s,{default:()=>p});var a=e(50076),t=e(53430),r=e(28383),n=e(90494),l=e(42633),o=e(43508);const m=[...t.numericTypes,...l.i3,"time-only","string"];async function p(i){const{layerAdapter:s,...e}=await async function(i){if(!i?.layer||!(i.field||i.valueExpression||i.sqlExpression))throw new a.A("summary-statistics:missing-parameters","'layer' and 'field', 'valueExpression' or 'sqlExpression' parameters are required");if(i.valueExpression&&!i.sqlExpression&&!i.view)throw new a.A("summary-statistics:missing-parameters","View is required when 'valueExpression' is specified");i.forBinning&&(0,n.p)(i,"summary-statistics");const{layer:s,...e}=i,p=i.forBinning?o.Mi:o.G3,u=(0,o.Jg)(s,p,i.forBinning);if(!u)throw new a.A("summary-statistics:invalid-parameters","'layer' must be one of these types: "+(0,o.Ho)(p).join(", "));const f={layerAdapter:u,...e};f.normalizationType=(0,l.Wy)(f);const d=null!=f.signal?{signal:f.signal}:null;await u.load(d);const c=f.field,y=f.normalizationType,w=f.valueExpression||f.sqlExpression,h=c?u.getField(c):null,v=await(0,l.EG)({field:f.field,normalizationField:f.normalizationField,valueExpression:f.valueExpression}),E=(0,r.MH)(u,v,"summary-statistics:invalid-parameters");if(E)throw E;if(h){const i=(0,r.a)(u,h,"summary-statistics:invalid-parameters",m);if(i)throw i;if(((0,l.fs)(h)||(0,t.isTimeOnlyField)(h))&&y)throw new a.A("summary-statistics:invalid-parameters","Normalization is not allowed for date fields")}else if(w&&y)throw new a.A("summary-statistics:invalid-parameters","Normalization is not allowed when 'valueExpression' or 'sqlExpression' is specified");f.filter&&!f.filter.spatialRelationship&&(f.filter.spatialRelationship="intersects");const g=(0,r.Wk)(f.filter,"summary-statistics:invalid-parameters");if(g)throw g;return f}(i);return s.summaryStatistics(e)}}}]);
//# sourceMappingURL=46481.6de98797.chunk.js.map