/*! For license information please see 304.c2b3d92d.chunk.js.LICENSE.txt */
"use strict";(self.webpackChunkegis_tdat=self.webpackChunkegis_tdat||[]).push([[304],{304:(e,r,t)=>{t.d(r,{A:()=>Ps,E:()=>Ss,F:()=>gs,G:()=>Fa,J:()=>Ca,K:()=>Mr,L:()=>bs,M:()=>hs,N:()=>xa,R:()=>vs,S:()=>Es,T:()=>ms,V:()=>ps,W:()=>xs,_:()=>ys,a:()=>Gr,b:()=>Da,c:()=>ks,d:()=>Cs,e:()=>Fs,f:()=>ka,g:()=>Jr,h:()=>_a,i:()=>Aa,j:()=>ds,k:()=>Oa,l:()=>Ba,m:()=>ja,n:()=>fa,o:()=>js,r:()=>ha,s:()=>pa,t:()=>Kr,u:()=>$s,x:()=>ga}),e=t.hmd(e);const a={Blob:"esriFieldTypeBlob",Date:"esriFieldTypeDate",Double:"esriFieldTypeDouble",Geometry:"esriFieldTypeGeometry",GlobalID:"esriFieldTypeGlobalID",GUID:"esriFieldTypeGUID",Integer:"esriFieldTypeInteger",OID:"esriFieldTypeOID",Raster:"esriFieldTypeRaster",Single:"esriFieldTypeSingle",SmallInteger:"esriFieldTypeSmallInteger",String:"esriFieldTypeString",XML:"esriFieldTypeXML"},i={Count:"count",Sum:"sum",Minimum:"min",Maximum:"max",Average:"avg",StandardDeviation:"stddev",Variance:"var",ContinuousPercentile:"percentile_cont",DiscretePercentile:"percentile_disc",EnvelopeAggregate:"envelope-aggregate",CentroidAggregate:"centroid-aggregate",ConvexHullAggregate:"convex-hull-aggregate",NoAggregation:"no_aggregation"},o={Chart:"chart",Text:"chartText",Overlay:"chartOverlay",Overlays:"chartOverlays",Legend:"chartLegend",CursorCrosshair:"cursorCrosshair",Axis:"chartAxis",GaugeAxisTick:"gaugeAxisTick",GaugeNeedle:"gaugeNeedle",CategoryAxisFormat:"category",NumberAxisFormat:"number",DateAxisFormat:"date",Guide:"chartGuide",ScatterSeries:"scatterSeries",PieSeries:"pieSeries",PieTick:"pieTick",GaugeSeries:"gaugeSeries",LineSeries:"lineSeries",BarSeries:"barSeries",HistogramSeries:"histogramSeries",BoxPlotSeries:"boxPlotSeries",RadarSeries:"radarSeries",ProbabilityPlotSeries:"probabilityPlotSeries",ProfileGraphSeries:"profileGraphSeries",ComboLineAndBarSeries:"comboLineAndBarSeries",Buffer:"buffer",SizePolicy:"sizeScale"},s={statisticType:i.Count,sortingOrder:"ASC"},n={Same:"same",Newer:"newer",Older:"older",Unrecognized:"unrecognized"},l={Arabic:"ar",ArabicLatin:"ar-u-nu-latn",Bosnian:"bs",Bulgarian:"bg",Catalan:"ca",Czech:"cs",Danish:"da",German:"de",Greek:"el",English:"en",EnglishUSA:"en-US",Spanish:"es",Estonian:"et",Finnish:"fi",French:"fr",Hebrew:"he",Croatian:"hr",Hungarian:"hu",Indonesian:"id",Italian:"it",Japanese:"ja",Korean:"ko",Lithuanian:"lt",Latvian:"lv",NorwegianBokml:"nb",Dutch:"nl",Polish:"pl",PortugueseBrazil:"pt-BR",PortuguesePortugal:"pt-PT",Romanian:"ro",Russian:"ru",Serbian:"sr",Slovenian:"sl",Slovak:"sk",Swedish:"sv",Thai:"th",Turkish:"tr",Ukrainian:"uk",Vietnamese:"vi",ChineseChina:"zh-CN",ChineseHongKong:"zh-HK",ChineseTaiwan:"zh-TW"},c=[...Object.values(l),"en-AU","en-GB","es-ES","es-MX","de-CH","de-DE","de-AT","it-CH","it-IT"];var u="object"==typeof t.g&&t.g&&t.g.Object===Object&&t.g,d="object"==typeof self&&self&&self.Object===Object&&self,h=u||d||Function("return this")(),p=h.Symbol,f=Object.prototype,m=f.hasOwnProperty,v=f.toString,g=p?p.toStringTag:void 0,y=Object.prototype.toString,b="[object Null]",w="[object Undefined]",P=p?p.toStringTag:void 0;function S(e){return null==e?void 0===e?w:b:P&&P in Object(e)?function(e){var r=m.call(e,g),t=e[g];try{e[g]=void 0;var a=!0}catch(e){}var i=v.call(e);return a&&(r?e[g]=t:delete e[g]),i}(e):function(e){return y.call(e)}(e)}function E(e){return null!=e&&"object"==typeof e}var x="[object Symbol]";function F(e,r){for(var t=-1,a=null==e?0:e.length,i=Array(a);++t<a;)i[t]=r(e[t],t,e);return i}var k=Array.isArray,C=1/0,A=p?p.prototype:void 0,j=A?A.toString:void 0;function $(e){if("string"==typeof e)return e;if(k(e))return F(e,$)+"";if(function(e){return"symbol"==typeof e||E(e)&&S(e)==x}(e))return j?j.call(e):"";var r=e+"";return"0"==r&&1/e==-C?"-0":r}function _(e){var r=typeof e;return null!=e&&("object"==r||"function"==r)}function O(e){return e}var R="[object AsyncFunction]",D="[object Function]",L="[object GeneratorFunction]",I="[object Proxy]";function T(e){if(!_(e))return!1;var r=S(e);return r==D||r==L||r==R||r==I}var N,B=h["__core-js_shared__"],q=(N=/[^.]+$/.exec(B&&B.keys&&B.keys.IE_PROTO||""))?"Symbol(src)_1."+N:"",z=Function.prototype.toString;function V(e){if(null!=e){try{return z.call(e)}catch(e){}try{return e+""}catch(e){}}return""}var M=/^\[object .+?Constructor\]$/,U=Function.prototype,Q=Object.prototype,H=U.toString,K=Q.hasOwnProperty,G=RegExp("^"+H.call(K).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function J(e,r){var t=function(e,r){return null==e?void 0:e[r]}(e,r);return function(e){return!(!_(e)||(r=e,q&&q in r))&&(T(e)?G:M).test(V(e));var r}(t)?t:void 0}var W=J(h,"WeakMap");function Z(e,r,t){switch(t.length){case 0:return e.call(r);case 1:return e.call(r,t[0]);case 2:return e.call(r,t[0],t[1]);case 3:return e.call(r,t[0],t[1],t[2])}return e.apply(r,t)}var X,Y,ee,re=Date.now,te=function(){try{var e=J(Object,"defineProperty");return e({},"",{}),e}catch(e){}}(),ae=te,ie=ae?function(e,r){return ae(e,"toString",{configurable:!0,enumerable:!1,value:(t=r,function(){return t}),writable:!0});var t}:O,oe=(X=ie,Y=0,ee=0,function(){var e=re(),r=16-(e-ee);if(ee=e,r>0){if(++Y>=800)return arguments[0]}else Y=0;return X.apply(void 0,arguments)}),se=9007199254740991,ne=/^(?:0|[1-9]\d*)$/;function le(e,r){var t=typeof e;return!!(r=r??se)&&("number"==t||"symbol"!=t&&ne.test(e))&&e>-1&&e%1==0&&e<r}function ce(e,r,t){"__proto__"==r&&ae?ae(e,r,{configurable:!0,enumerable:!0,value:t,writable:!0}):e[r]=t}function ue(e,r){return e===r||e!=e&&r!=r}var de=Object.prototype.hasOwnProperty;function he(e,r,t){var a=e[r];de.call(e,r)&&ue(a,t)&&(void 0!==t||r in e)||ce(e,r,t)}var pe=Math.max;function fe(e,r){return oe(function(e,r,t){return r=pe(void 0===r?e.length-1:r,0),function(){for(var a=arguments,i=-1,o=pe(a.length-r,0),s=Array(o);++i<o;)s[i]=a[r+i];i=-1;for(var n=Array(r+1);++i<r;)n[i]=a[i];return n[r]=t(s),Z(e,this,n)}}(e,r,O),e+"")}var me=9007199254740991;function ve(e){return"number"==typeof e&&e>-1&&e%1==0&&e<=me}function ge(e){return null!=e&&ve(e.length)&&!T(e)}function ye(e,r,t){if(!_(t))return!1;var a=typeof r;return!!("number"==a?ge(t)&&le(r,t.length):"string"==a&&r in t)&&ue(t[r],e)}var be=Object.prototype;function we(e){var r=e&&e.constructor;return e===("function"==typeof r&&r.prototype||be)}function Pe(e){return E(e)&&"[object Arguments]"==S(e)}var Se=Object.prototype,Ee=Se.hasOwnProperty,xe=Se.propertyIsEnumerable,Fe=Pe(function(){return arguments}())?Pe:function(e){return E(e)&&Ee.call(e,"callee")&&!xe.call(e,"callee")},ke="object"==typeof exports&&exports&&!exports.nodeType&&exports,Ce=ke&&e&&!e.nodeType&&e,Ae=Ce&&Ce.exports===ke?h.Buffer:void 0,je=(Ae?Ae.isBuffer:void 0)||function(){return!1},$e={};$e["[object Float32Array]"]=$e["[object Float64Array]"]=$e["[object Int8Array]"]=$e["[object Int16Array]"]=$e["[object Int32Array]"]=$e["[object Uint8Array]"]=$e["[object Uint8ClampedArray]"]=$e["[object Uint16Array]"]=$e["[object Uint32Array]"]=!0,$e["[object Arguments]"]=$e["[object Array]"]=$e["[object ArrayBuffer]"]=$e["[object Boolean]"]=$e["[object DataView]"]=$e["[object Date]"]=$e["[object Error]"]=$e["[object Function]"]=$e["[object Map]"]=$e["[object Number]"]=$e["[object Object]"]=$e["[object RegExp]"]=$e["[object Set]"]=$e["[object String]"]=$e["[object WeakMap]"]=!1;var _e,Oe="object"==typeof exports&&exports&&!exports.nodeType&&exports,Re=Oe&&e&&!e.nodeType&&e,De=Re&&Re.exports===Oe&&u.process,Le=function(){try{return Re&&Re.require&&Re.require("util").types||De&&De.binding&&De.binding("util")}catch(_e){}}(),Ie=Le&&Le.isTypedArray,Te=Ie?(_e=Ie,function(e){return _e(e)}):function(e){return E(e)&&ve(e.length)&&!!$e[S(e)]},Ne=Object.prototype.hasOwnProperty;function Be(e,r){var t=k(e),a=!t&&Fe(e),i=!t&&!a&&je(e),o=!t&&!a&&!i&&Te(e),s=t||a||i||o,n=s?function(e,r){for(var t=-1,a=Array(e);++t<e;)a[t]=r(t);return a}(e.length,String):[],l=n.length;for(var c in e)!r&&!Ne.call(e,c)||s&&("length"==c||i&&("offset"==c||"parent"==c)||o&&("buffer"==c||"byteLength"==c||"byteOffset"==c)||le(c,l))||n.push(c);return n}function qe(e,r){return function(t){return e(r(t))}}var ze=qe(Object.keys,Object),Ve=Object.prototype.hasOwnProperty;function Me(e){return ge(e)?Be(e):function(e){if(!we(e))return ze(e);var r=[];for(var t in Object(e))Ve.call(e,t)&&"constructor"!=t&&r.push(t);return r}(e)}var Ue=Object.prototype.hasOwnProperty;function Qe(e){return ge(e)?Be(e,!0):function(e){if(!_(e))return function(e){var r=[];if(null!=e)for(var t in Object(e))r.push(t);return r}(e);var r=we(e),t=[];for(var a in e)("constructor"!=a||!r&&Ue.call(e,a))&&t.push(a);return t}(e)}var He,Ke=(He=function(e,r,t,a){!function(e,r,t,a){var i=!t;t||(t={});for(var o=-1,s=r.length;++o<s;){var n=r[o],l=a?a(t[n],e[n],n,t,e):void 0;void 0===l&&(l=e[n]),i?ce(t,n,l):he(t,n,l)}}(r,Qe(r),e,a)},fe((function(e,r){var t=-1,a=r.length,i=a>1?r[a-1]:void 0,o=a>2?r[2]:void 0;for(i=He.length>3&&"function"==typeof i?(a--,i):void 0,o&&ye(r[0],r[1],o)&&(i=a<3?void 0:i,a=1),e=Object(e);++t<a;){var s=r[t];s&&He(e,s,0,i)}return e}))),Ge=Ke;J(Object,"create");var Je=J(h,"Map");function We(e){return null==e?"":$(e)}var Ze=qe(Object.getPrototypeOf,Object),Xe="[object Object]",Ye=Function.prototype,er=Object.prototype,rr=Ye.toString,tr=er.hasOwnProperty,ar=rr.call(Object),ir="[object DOMException]",or="[object Error]";function sr(e){if(!E(e))return!1;var r=S(e);return r==or||r==ir||"string"==typeof e.message&&"string"==typeof e.name&&!function(e){if(!E(e)||S(e)!=Xe)return!1;var r=Ze(e);if(null===r)return!0;var t=tr.call(r,"constructor")&&r.constructor;return"function"==typeof t&&t instanceof t&&rr.call(t)==ar}(e)}var nr=fe((function(e,r){try{return Z(e,void 0,r)}catch(e){return sr(e)?e:new Error(e)}})),lr=nr;"object"==typeof exports&&exports&&!exports.nodeType&&exports&&e&&e.nodeType;var cr=J(h,"DataView"),ur=J(h,"Promise"),dr=J(h,"Set"),hr="[object Map]",pr="[object Promise]",fr="[object Set]",mr="[object WeakMap]",vr="[object DataView]",gr=V(cr),yr=V(Je),br=V(ur),wr=V(dr),Pr=V(W),Sr=S;(cr&&Sr(new cr(new ArrayBuffer(1)))!=vr||Je&&Sr(new Je)!=hr||ur&&Sr(ur.resolve())!=pr||dr&&Sr(new dr)!=fr||W&&Sr(new W)!=mr)&&(Sr=function(e){var r=S(e),t="[object Object]"==r?e.constructor:void 0,a=t?V(t):"";if(a)switch(a){case gr:return vr;case yr:return hr;case br:return pr;case wr:return fr;case Pr:return mr}return r});var Er,xr=(Er={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"},function(e){return null==Er?void 0:Er[e]}),Fr=/[&<>"']/g,kr=RegExp(Fr.source),Cr=Object.prototype,Ar=Cr.hasOwnProperty;function jr(e,r,t,a){return void 0===e||ue(e,Cr[t])&&!Ar.call(a,t)?r:e}var $r={"\\":"\\","'":"'","\n":"n","\r":"r","\u2028":"u2028","\u2029":"u2029"};function _r(e){return"\\"+$r[e]}var Or=/<%=([\s\S]+?)%>/g,Rr={escape:/<%-([\s\S]+?)%>/g,evaluate:/<%([\s\S]+?)%>/g,interpolate:Or,variable:"",imports:{_:{escape:function(e){return(e=We(e))&&kr.test(e)?e.replace(Fr,xr):e}}}},Dr="Invalid `variable` option passed into `_.template`",Lr=/\b__p \+= '';/g,Ir=/\b(__p \+=) '' \+/g,Tr=/(__e\(.*?\)|\b__t\)) \+\n'';/g,Nr=/[()=,{}\[\]\/\s]/,Br=/\$\{([^\\}]*(?:\\.[^\\}]*)*)\}/g,qr=/($^)/,zr=/['\n\r\u2028\u2029\\]/g,Vr=Object.prototype.hasOwnProperty;function Mr(e,r){return function(e,r,t){var a=Rr.imports._.templateSettings||Rr;t&&ye(e,r,t)&&(r=void 0),e=We(e),r=Ge({},r,a,jr);var i,o,s=Ge({},r.imports,a.imports,jr),n=Me(s),l=function(e,r){return F(r,(function(r){return e[r]}))}(s,n),c=0,u=r.interpolate||qr,d="__p += '",h=RegExp((r.escape||qr).source+"|"+u.source+"|"+(u===Or?Br:qr).source+"|"+(r.evaluate||qr).source+"|$","g"),p=Vr.call(r,"sourceURL")?"//# sourceURL="+(r.sourceURL+"").replace(/\s/g," ")+"\n":"";e.replace(h,(function(r,t,a,s,n,l){return a||(a=s),d+=e.slice(c,l).replace(zr,_r),t&&(i=!0,d+="' +\n__e("+t+") +\n'"),n&&(o=!0,d+="';\n"+n+";\n__p += '"),a&&(d+="' +\n((__t = ("+a+")) == null ? '' : __t) +\n'"),c=l+r.length,r})),d+="';\n";var f=Vr.call(r,"variable")&&r.variable;if(f){if(Nr.test(f))throw new Error(Dr)}else d="with (obj) {\n"+d+"\n}\n";d=(o?d.replace(Lr,""):d).replace(Ir,"$1").replace(Tr,"$1;"),d="function("+(f||"obj")+") {\n"+(f?"":"obj || (obj = {});\n")+"var __t, __p = ''"+(i?", __e = _.escape":"")+(o?", __j = Array.prototype.join;\nfunction print() { __p += __j.call(arguments, '') }\n":";\n")+d+"return __p\n}";var m=lr((function(){return Function(n,p+"return "+d).apply(void 0,l)}));if(m.source=d,sr(m))throw m;return m}(e)(r)}function Ur(e,r){let t=l.English;const a=function(e){let r=e;if(void 0!==e&&e.includes("-")){const[t,a]=e.split("-");r=`${t}-${a.toUpperCase()}`}return r}(e);if(void 0!==a)if(r.includes(a))t=a;else{const e=function(e){const r=e?.match(/^([a-z]{2})-([A-Z]{2})$/u);let t=l.English;return null!=r&&r?.length>1?t=r[1]:2===e?.length&&e.toLowerCase()===e&&(t=e),t}(a);r.includes(e)&&(t=e)}return t}function Qr(e,r){return function r(t){let a;return a=void 0===t||t===document||t===window?null:t.closest(e)||r(t.getRootNode().host),a}(r)}function Hr(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:document.documentElement;const r=Qr("[lang]",e),t=r?.lang??window.navigator.language,a=Object.values(l),i=Object.values(c),o=Ur(t,a);let s=Ur(t,i);return s="ar"===s?"ar-u-nu-latn":s,{locale:o,rtl:"rtl"===Qr("[dir]",e)?.getAttribute("dir"),formatLocale:s}}function Kr(e){let r;return"unknown"===e?r="UTC":void 0!==e&&"system"!==e&&(r=e),r}async function Gr(e,r,t){let a=e.tagName.toLowerCase();t&&(a=a.replace("arcgis-",""));const{locale:i,rtl:o}=Hr(e),s=await async function(e){const{path:r,locale:t,baseURL:a}=e;let i={};try{const e=await fetch(`${a}assets/${r}/t9n/${r}.t9n.${t}.json`);i=await e.json()}catch(e){const t=await fetch(`${a}assets/${r}/t9n/${r}.t9n.${l.English}.json`);i=await t.json()}return i}({path:a,locale:i,baseURL:r});let n=e.getAttribute("dir");return"ltr"!==n&&"rtl"!==n&&(n=o?"rtl":"ltr"),{strings:s,direction:n}}async function Jr(e){const{element:r,baseURL:t,filePrefix:a}=e,{locale:i}=Hr(r);let o;try{const e=await fetch(`${t}/${a}.t9n.${i}.json`);o=await e.json()}catch(e){o="common"===a?{statistics:{mean:"Mean",median:"Median",sum:"Sum",discretePercentile:"Discrete percentile",minimum:"Minimum",maximum:"Maximum",firstQuartile:"First quartile",thirdQuartile:"Third quartile",iqr:"IQR",standardDeviation:"Standard deviation",variance:"Variance",count:"Count",aggregation:"${ statistics } of ${ fieldName }",percent:"Percent",noAggregation:"No aggregation",meanValue:"Mean value"},overlays:{mean:"Mean",median:"Median",stdDev:"Standard Deviation",normal:"Normal Distribution",trendline:"Trendline"},guideTooltipLabel:"From ${ guideStart } to ${ guideEnd }",pieChart:{defaultSliceGroupingLabel:"Other"},notAvailable:"Not Available",field:"Field"}:{errorHeading:"Error",tooManySelectedElements:{title:"Selection limit exceeded",message:"Selections are limited to 500 elements"},incompatibleChartVersion:{title:"Incompatible chart version",message:"Chart version ${ chartVersion } is not compatible with this application. Some features may not be available."},modalHeaders:{invalidData:"Invalid data",invalidChart:"Invalid chart",noDataAvailable:"No data available to display",tooManyFeatures:"Too many features",cannotCombineNegativeAndPositiveSlices:"Pie charts cannot combine slices with positive values to slices with negative values",error:"Error",warning:"Warning",newChart:"New chart"},errors:{divNode:"Creating a chart requires an HTML div node.",errorRequest:"Please fix the following errors: ",warningRequest:"Please address the following warnings: ",newChartRequest:"Configure chart.",invalidValueFormatForLineChart:"The axis 'valueFormat' is invalid. Only numeric type is allowed on the line chart y-axis.",invalidValueFormatForBarChart:"The axis 'valueFormat' is invalid. Only numeric type is allowed on the bar chart y-axis.",invalidValueFormatForComboBarLineChart:"The axis 'valueFormat' is invalid. Only numeric type is allowed on the bar-line chart y-axis, and category and date types on the x-axis.",invalidValueFormatForBoxPlot:"The axis 'valueFormat' is invalid. Only numeric type is allowed on the box plot y-axis, and category and date types on the x-axis.",invalidValueFormatForHistogram:"The axis 'valueFormat' is invalid. Only numeric type is allowed on the histogram axes.",invalidValueFormatForScatterPlot:"The axis 'valueFormat' is invalid. Only numeric type is allowed on the scatter plot axes.",invalidValueFormatForGauge:"The axis 'valueFormat' is invalid. Only numeric type is allowed on the gauge.",mismatchAxisAndValueFormat:"There's a mismatch between the axis type and the axis 'valueFormat'.",queryError:"Failure to read input data.",simpleError:"Something went wrong.",defaultInvalidChart:"There was an error creating the chart.",categoryCountCannotExceedLimit:"There are ${ categoryCount } categories on this chart. Charts are limited to ${ maxCategoryCount } categories. Choose a Category field with fewer unique values or apply a filter to your data.",uniqueSeriesBarCountCannotExceedLimit:"There are a total of ${ elementCount } bars in this chart. Bar charts with one series are limited to ${ totalLimit } bars. Choose a Category field with fewer unique values or apply a filter to your data.",twoSeriesBarCountCannotExceedLimit:"Bar charts with two series are limited to ${ totalLimit } bars, or ${ seriesLimit } bars per series. Choose a Category field with fewer unique values or apply a filter to your data.",threePlusSeriesBarCountCannotExceedLimit:"Bar charts with three or more series are limited to ${ totalLimit } bars, or ${ seriesLimit } bars per series. Choose a Category field with fewer unique values or apply a filter to your data.",barSeriesCountCannotExceedLimit:"Bar charts are limited to ${ seriesLimit } series. Choose a split-by field with fewer unique values",uniqueSeriesLineCountCannotExceedLimit:"There are a total of ${ elementCount } markers in this chart. Line charts with one series are limited to ${ totalLimit } markers. Choose a numeric field with fewer unique values or apply a filter to your data.",twoSeriesLineCountCannotExceedLimit:"Line charts with two series are limited to ${ totalLimit } markers, or ${ seriesLimit } markers per series. Choose a numeric field with fewer unique values or apply a filter to your data.",threePlusSeriesLineCountCannotExceedLimit:"Line charts with three or more series are limited to ${ totalLimit } markers, or ${ seriesLimit } markers per series. Choose a numeric field with fewer unique values or apply a filter to your data.",uniqueTemporalSeriesLineCountCannotExceedLimit:"There are a total of ${ elementCount } markers in this chart. Line charts with one series are limited to ${ totalLimit } markers. Choose a larger temporal bin size or apply a filter to your data.",twoTemporalSeriesLineCountCannotExceedLimit:"Line charts with two series are limited to ${ totalLimit } markers, or ${ seriesLimit } markers per series. Choose a larger temporal bin size or apply a filter to your data.",threePlusTemporalSeriesLineCountCannotExceedLimit:"Line charts with three or more series are limited to ${ totalLimit } markers, or ${ seriesLimit } markers per series. Choose a larger temporal bin size or apply a filter to your data.",lineSeriesCountCannotExceedLimit:"Line charts are limited to ${ seriesLimit } series. Choose a split-by field with fewer unique values",uniqueSeriesBoxCountCannotExceedLimit:"There are a total of ${ elementCount } boxes in this chart. Box plots with one series are limited to ${ totalLimit } boxes. Choose a Category field with fewer unique values or apply a filter to your data.",twoSeriesBoxCountCannotExceedLimit:"Box plots with two series are limited to ${ totalLimit } boxes, or ${ seriesLimit } boxes per series. Choose a Category field with fewer unique values or apply a filter to your data.",threePlusBoxLineCountCannotExceedLimit:"Box plots with three or more series are limited to ${ totalLimit } boxes, or ${ seriesLimit } boxes per series. Choose a Category field with fewer unique values or apply a filter to your data.",boxSeriesCountCannotExceedLimit:"Box plots are limited to ${ seriesLimit } series. Choose a split-by field with fewer unique values",boxSeriesOutlierCannotExceedLimit:"Box plots can only display up to ${ totalLimit } outlier points. Filter you data.",pieChartCannotHaveMixtureOfPositiveAndNegativeSlices:"Ensure the sum total of the chosen numeric field(s) returns all positive values or all negative values.",pieChartSlicesCannotExceedLimit:"There are a total of ${ sliceCount } slices in this chart. Pie charts are limited to ${ totalLimit } slices. Choose a Category field with fewer unique values, add fewer Numeric fields, or apply a filter to your data.",gaugeCannotExceedLimit:"Feature-based gauges are limited to ${ totalLimit } features. Filter your data.",negativeValueInDataForLogTransformation:"Cannot apply a log transformation to negative or zero values.",negativeValueInDataForSqrtTransformation:"Cannot apply a square root transformation to negative values.",logarithmicXAxisNotPossible:"Logarithmic value x-axis cannot have negative or zero values.",logarithmicYAxisNotPossible:"Logarithmic value y-axis cannot have negative or zero values.",histogramEmptyField:"Histograms require at least two numeric values.",noDataMessage:"No data is available to display due to empty data field(s) and/or combination of filters.",noDataFBSMessage:"Filter by selection is enabled. There are no selected features to display.",noDataFBEMessage:"Filter by extent is enabled. There are no features in the map extent to display."}}}return o}const Wr={maxRecordCountFactor:5,maxParallelRequests:4,maxRecords:2e3,orderByJSAPIDelimiter:" ",outStatistics:{statisticType:s.statisticType,onStatisticField:"OBJECTID",outStatisticFieldName:"arcgis_charts_outStatisticFieldName_default_key"},uniqueIdsName:"arcgisChartsUniqueIds"},Zr="arcgis_charts_box_plot_category";var Xr="undefined"!=typeof window&&"$arcgis"in window&&"object"==typeof window.$arcgis&&"import"in window.$arcgis&&!("forceESM"in window.$arcgis);function Yr(e){return void 0!==e.default}async function et(){if(Xr)return await window.$arcgis.import("esri/geometry/support/jsonUtils");const e=await Promise.resolve().then(t.bind(t,19902));return Yr(e)?e.default:e}function rt(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var tt={exports:{}};function at(e,r,t,a){var i,o=null==(i=a)||"number"==typeof i||"boolean"==typeof i?a:t(a),s=r.get(o);return void 0===s&&(s=e.call(this,a),r.set(o,s)),s}function it(e,r,t){var a=Array.prototype.slice.call(arguments,3),i=t(a),o=r.get(i);return void 0===o&&(o=e.apply(this,a),r.set(i,o)),o}function ot(e,r,t,a,i){return t.bind(r,e,a,i)}function st(e,r){return ot(e,this,1===e.length?at:it,r.cache.create(),r.serializer)}function nt(){return JSON.stringify(arguments)}function lt(){this.cache=Object.create(null)}lt.prototype.has=function(e){return e in this.cache},lt.prototype.get=function(e){return this.cache[e]},lt.prototype.set=function(e,r){this.cache[e]=r};var ct={create:function(){return new lt}};tt.exports=function(e,r){var t=r&&r.cache?r.cache:ct,a=r&&r.serializer?r.serializer:nt;return(r&&r.strategy?r.strategy:st)(e,{cache:t,serializer:a})},tt.exports.strategies={variadic:function(e,r){return ot(e,this,it,r.cache.create(),r.serializer)},monadic:function(e,r){return ot(e,this,at,r.cache.create(),r.serializer)}};var ut=rt(tt.exports),dt={exports:{}},ht={},pt={exports:{}},ft={};function mt(){return{"align-content":!1,"align-items":!1,"align-self":!1,"alignment-adjust":!1,"alignment-baseline":!1,all:!1,"anchor-point":!1,animation:!1,"animation-delay":!1,"animation-direction":!1,"animation-duration":!1,"animation-fill-mode":!1,"animation-iteration-count":!1,"animation-name":!1,"animation-play-state":!1,"animation-timing-function":!1,azimuth:!1,"backface-visibility":!1,background:!0,"background-attachment":!0,"background-clip":!0,"background-color":!0,"background-image":!0,"background-origin":!0,"background-position":!0,"background-repeat":!0,"background-size":!0,"baseline-shift":!1,binding:!1,bleed:!1,"bookmark-label":!1,"bookmark-level":!1,"bookmark-state":!1,border:!0,"border-bottom":!0,"border-bottom-color":!0,"border-bottom-left-radius":!0,"border-bottom-right-radius":!0,"border-bottom-style":!0,"border-bottom-width":!0,"border-collapse":!0,"border-color":!0,"border-image":!0,"border-image-outset":!0,"border-image-repeat":!0,"border-image-slice":!0,"border-image-source":!0,"border-image-width":!0,"border-left":!0,"border-left-color":!0,"border-left-style":!0,"border-left-width":!0,"border-radius":!0,"border-right":!0,"border-right-color":!0,"border-right-style":!0,"border-right-width":!0,"border-spacing":!0,"border-style":!0,"border-top":!0,"border-top-color":!0,"border-top-left-radius":!0,"border-top-right-radius":!0,"border-top-style":!0,"border-top-width":!0,"border-width":!0,bottom:!1,"box-decoration-break":!0,"box-shadow":!0,"box-sizing":!0,"box-snap":!0,"box-suppress":!0,"break-after":!0,"break-before":!0,"break-inside":!0,"caption-side":!1,chains:!1,clear:!0,clip:!1,"clip-path":!1,"clip-rule":!1,color:!0,"color-interpolation-filters":!0,"column-count":!1,"column-fill":!1,"column-gap":!1,"column-rule":!1,"column-rule-color":!1,"column-rule-style":!1,"column-rule-width":!1,"column-span":!1,"column-width":!1,columns:!1,contain:!1,content:!1,"counter-increment":!1,"counter-reset":!1,"counter-set":!1,crop:!1,cue:!1,"cue-after":!1,"cue-before":!1,cursor:!1,direction:!1,display:!0,"display-inside":!0,"display-list":!0,"display-outside":!0,"dominant-baseline":!1,elevation:!1,"empty-cells":!1,filter:!1,flex:!1,"flex-basis":!1,"flex-direction":!1,"flex-flow":!1,"flex-grow":!1,"flex-shrink":!1,"flex-wrap":!1,float:!1,"float-offset":!1,"flood-color":!1,"flood-opacity":!1,"flow-from":!1,"flow-into":!1,font:!0,"font-family":!0,"font-feature-settings":!0,"font-kerning":!0,"font-language-override":!0,"font-size":!0,"font-size-adjust":!0,"font-stretch":!0,"font-style":!0,"font-synthesis":!0,"font-variant":!0,"font-variant-alternates":!0,"font-variant-caps":!0,"font-variant-east-asian":!0,"font-variant-ligatures":!0,"font-variant-numeric":!0,"font-variant-position":!0,"font-weight":!0,grid:!1,"grid-area":!1,"grid-auto-columns":!1,"grid-auto-flow":!1,"grid-auto-rows":!1,"grid-column":!1,"grid-column-end":!1,"grid-column-start":!1,"grid-row":!1,"grid-row-end":!1,"grid-row-start":!1,"grid-template":!1,"grid-template-areas":!1,"grid-template-columns":!1,"grid-template-rows":!1,"hanging-punctuation":!1,height:!0,hyphens:!1,icon:!1,"image-orientation":!1,"image-resolution":!1,"ime-mode":!1,"initial-letters":!1,"inline-box-align":!1,"justify-content":!1,"justify-items":!1,"justify-self":!1,left:!1,"letter-spacing":!0,"lighting-color":!0,"line-box-contain":!1,"line-break":!1,"line-grid":!1,"line-height":!1,"line-snap":!1,"line-stacking":!1,"line-stacking-ruby":!1,"line-stacking-shift":!1,"line-stacking-strategy":!1,"list-style":!0,"list-style-image":!0,"list-style-position":!0,"list-style-type":!0,margin:!0,"margin-bottom":!0,"margin-left":!0,"margin-right":!0,"margin-top":!0,"marker-offset":!1,"marker-side":!1,marks:!1,mask:!1,"mask-box":!1,"mask-box-outset":!1,"mask-box-repeat":!1,"mask-box-slice":!1,"mask-box-source":!1,"mask-box-width":!1,"mask-clip":!1,"mask-image":!1,"mask-origin":!1,"mask-position":!1,"mask-repeat":!1,"mask-size":!1,"mask-source-type":!1,"mask-type":!1,"max-height":!0,"max-lines":!1,"max-width":!0,"min-height":!0,"min-width":!0,"move-to":!1,"nav-down":!1,"nav-index":!1,"nav-left":!1,"nav-right":!1,"nav-up":!1,"object-fit":!1,"object-position":!1,opacity:!1,order:!1,orphans:!1,outline:!1,"outline-color":!1,"outline-offset":!1,"outline-style":!1,"outline-width":!1,overflow:!1,"overflow-wrap":!1,"overflow-x":!1,"overflow-y":!1,padding:!0,"padding-bottom":!0,"padding-left":!0,"padding-right":!0,"padding-top":!0,page:!1,"page-break-after":!1,"page-break-before":!1,"page-break-inside":!1,"page-policy":!1,pause:!1,"pause-after":!1,"pause-before":!1,perspective:!1,"perspective-origin":!1,pitch:!1,"pitch-range":!1,"play-during":!1,position:!1,"presentation-level":!1,quotes:!1,"region-fragment":!1,resize:!1,rest:!1,"rest-after":!1,"rest-before":!1,richness:!1,right:!1,rotation:!1,"rotation-point":!1,"ruby-align":!1,"ruby-merge":!1,"ruby-position":!1,"shape-image-threshold":!1,"shape-outside":!1,"shape-margin":!1,size:!1,speak:!1,"speak-as":!1,"speak-header":!1,"speak-numeral":!1,"speak-punctuation":!1,"speech-rate":!1,stress:!1,"string-set":!1,"tab-size":!1,"table-layout":!1,"text-align":!0,"text-align-last":!0,"text-combine-upright":!0,"text-decoration":!0,"text-decoration-color":!0,"text-decoration-line":!0,"text-decoration-skip":!0,"text-decoration-style":!0,"text-emphasis":!0,"text-emphasis-color":!0,"text-emphasis-position":!0,"text-emphasis-style":!0,"text-height":!0,"text-indent":!0,"text-justify":!0,"text-orientation":!0,"text-overflow":!0,"text-shadow":!0,"text-space-collapse":!0,"text-transform":!0,"text-underline-position":!0,"text-wrap":!0,top:!1,transform:!1,"transform-origin":!1,"transform-style":!1,transition:!1,"transition-delay":!1,"transition-duration":!1,"transition-property":!1,"transition-timing-function":!1,"unicode-bidi":!1,"vertical-align":!1,visibility:!1,"voice-balance":!1,"voice-duration":!1,"voice-family":!1,"voice-pitch":!1,"voice-range":!1,"voice-rate":!1,"voice-stress":!1,"voice-volume":!1,volume:!1,"white-space":!1,widows:!1,width:!0,"will-change":!1,"word-break":!0,"word-spacing":!0,"word-wrap":!0,"wrap-flow":!1,"wrap-through":!1,"writing-mode":!1,"z-index":!1}}var vt=/javascript\s*\:/gim;ft.whiteList={"align-content":!1,"align-items":!1,"align-self":!1,"alignment-adjust":!1,"alignment-baseline":!1,all:!1,"anchor-point":!1,animation:!1,"animation-delay":!1,"animation-direction":!1,"animation-duration":!1,"animation-fill-mode":!1,"animation-iteration-count":!1,"animation-name":!1,"animation-play-state":!1,"animation-timing-function":!1,azimuth:!1,"backface-visibility":!1,background:!0,"background-attachment":!0,"background-clip":!0,"background-color":!0,"background-image":!0,"background-origin":!0,"background-position":!0,"background-repeat":!0,"background-size":!0,"baseline-shift":!1,binding:!1,bleed:!1,"bookmark-label":!1,"bookmark-level":!1,"bookmark-state":!1,border:!0,"border-bottom":!0,"border-bottom-color":!0,"border-bottom-left-radius":!0,"border-bottom-right-radius":!0,"border-bottom-style":!0,"border-bottom-width":!0,"border-collapse":!0,"border-color":!0,"border-image":!0,"border-image-outset":!0,"border-image-repeat":!0,"border-image-slice":!0,"border-image-source":!0,"border-image-width":!0,"border-left":!0,"border-left-color":!0,"border-left-style":!0,"border-left-width":!0,"border-radius":!0,"border-right":!0,"border-right-color":!0,"border-right-style":!0,"border-right-width":!0,"border-spacing":!0,"border-style":!0,"border-top":!0,"border-top-color":!0,"border-top-left-radius":!0,"border-top-right-radius":!0,"border-top-style":!0,"border-top-width":!0,"border-width":!0,bottom:!1,"box-decoration-break":!0,"box-shadow":!0,"box-sizing":!0,"box-snap":!0,"box-suppress":!0,"break-after":!0,"break-before":!0,"break-inside":!0,"caption-side":!1,chains:!1,clear:!0,clip:!1,"clip-path":!1,"clip-rule":!1,color:!0,"color-interpolation-filters":!0,"column-count":!1,"column-fill":!1,"column-gap":!1,"column-rule":!1,"column-rule-color":!1,"column-rule-style":!1,"column-rule-width":!1,"column-span":!1,"column-width":!1,columns:!1,contain:!1,content:!1,"counter-increment":!1,"counter-reset":!1,"counter-set":!1,crop:!1,cue:!1,"cue-after":!1,"cue-before":!1,cursor:!1,direction:!1,display:!0,"display-inside":!0,"display-list":!0,"display-outside":!0,"dominant-baseline":!1,elevation:!1,"empty-cells":!1,filter:!1,flex:!1,"flex-basis":!1,"flex-direction":!1,"flex-flow":!1,"flex-grow":!1,"flex-shrink":!1,"flex-wrap":!1,float:!1,"float-offset":!1,"flood-color":!1,"flood-opacity":!1,"flow-from":!1,"flow-into":!1,font:!0,"font-family":!0,"font-feature-settings":!0,"font-kerning":!0,"font-language-override":!0,"font-size":!0,"font-size-adjust":!0,"font-stretch":!0,"font-style":!0,"font-synthesis":!0,"font-variant":!0,"font-variant-alternates":!0,"font-variant-caps":!0,"font-variant-east-asian":!0,"font-variant-ligatures":!0,"font-variant-numeric":!0,"font-variant-position":!0,"font-weight":!0,grid:!1,"grid-area":!1,"grid-auto-columns":!1,"grid-auto-flow":!1,"grid-auto-rows":!1,"grid-column":!1,"grid-column-end":!1,"grid-column-start":!1,"grid-row":!1,"grid-row-end":!1,"grid-row-start":!1,"grid-template":!1,"grid-template-areas":!1,"grid-template-columns":!1,"grid-template-rows":!1,"hanging-punctuation":!1,height:!0,hyphens:!1,icon:!1,"image-orientation":!1,"image-resolution":!1,"ime-mode":!1,"initial-letters":!1,"inline-box-align":!1,"justify-content":!1,"justify-items":!1,"justify-self":!1,left:!1,"letter-spacing":!0,"lighting-color":!0,"line-box-contain":!1,"line-break":!1,"line-grid":!1,"line-height":!1,"line-snap":!1,"line-stacking":!1,"line-stacking-ruby":!1,"line-stacking-shift":!1,"line-stacking-strategy":!1,"list-style":!0,"list-style-image":!0,"list-style-position":!0,"list-style-type":!0,margin:!0,"margin-bottom":!0,"margin-left":!0,"margin-right":!0,"margin-top":!0,"marker-offset":!1,"marker-side":!1,marks:!1,mask:!1,"mask-box":!1,"mask-box-outset":!1,"mask-box-repeat":!1,"mask-box-slice":!1,"mask-box-source":!1,"mask-box-width":!1,"mask-clip":!1,"mask-image":!1,"mask-origin":!1,"mask-position":!1,"mask-repeat":!1,"mask-size":!1,"mask-source-type":!1,"mask-type":!1,"max-height":!0,"max-lines":!1,"max-width":!0,"min-height":!0,"min-width":!0,"move-to":!1,"nav-down":!1,"nav-index":!1,"nav-left":!1,"nav-right":!1,"nav-up":!1,"object-fit":!1,"object-position":!1,opacity:!1,order:!1,orphans:!1,outline:!1,"outline-color":!1,"outline-offset":!1,"outline-style":!1,"outline-width":!1,overflow:!1,"overflow-wrap":!1,"overflow-x":!1,"overflow-y":!1,padding:!0,"padding-bottom":!0,"padding-left":!0,"padding-right":!0,"padding-top":!0,page:!1,"page-break-after":!1,"page-break-before":!1,"page-break-inside":!1,"page-policy":!1,pause:!1,"pause-after":!1,"pause-before":!1,perspective:!1,"perspective-origin":!1,pitch:!1,"pitch-range":!1,"play-during":!1,position:!1,"presentation-level":!1,quotes:!1,"region-fragment":!1,resize:!1,rest:!1,"rest-after":!1,"rest-before":!1,richness:!1,right:!1,rotation:!1,"rotation-point":!1,"ruby-align":!1,"ruby-merge":!1,"ruby-position":!1,"shape-image-threshold":!1,"shape-outside":!1,"shape-margin":!1,size:!1,speak:!1,"speak-as":!1,"speak-header":!1,"speak-numeral":!1,"speak-punctuation":!1,"speech-rate":!1,stress:!1,"string-set":!1,"tab-size":!1,"table-layout":!1,"text-align":!0,"text-align-last":!0,"text-combine-upright":!0,"text-decoration":!0,"text-decoration-color":!0,"text-decoration-line":!0,"text-decoration-skip":!0,"text-decoration-style":!0,"text-emphasis":!0,"text-emphasis-color":!0,"text-emphasis-position":!0,"text-emphasis-style":!0,"text-height":!0,"text-indent":!0,"text-justify":!0,"text-orientation":!0,"text-overflow":!0,"text-shadow":!0,"text-space-collapse":!0,"text-transform":!0,"text-underline-position":!0,"text-wrap":!0,top:!1,transform:!1,"transform-origin":!1,"transform-style":!1,transition:!1,"transition-delay":!1,"transition-duration":!1,"transition-property":!1,"transition-timing-function":!1,"unicode-bidi":!1,"vertical-align":!1,visibility:!1,"voice-balance":!1,"voice-duration":!1,"voice-family":!1,"voice-pitch":!1,"voice-range":!1,"voice-rate":!1,"voice-stress":!1,"voice-volume":!1,volume:!1,"white-space":!1,widows:!1,width:!0,"will-change":!1,"word-break":!0,"word-spacing":!0,"word-wrap":!0,"wrap-flow":!1,"wrap-through":!1,"writing-mode":!1,"z-index":!1},ft.getDefaultWhiteList=mt,ft.onAttr=function(e,r,t){},ft.onIgnoreAttr=function(e,r,t){},ft.safeAttrValue=function(e,r){return vt.test(r)?"":r};var gt=function(e){return String.prototype.trim?e.trim():e.replace(/(^\s*)|(\s*$)/g,"")},yt=function(e){return String.prototype.trimRight?e.trimRight():e.replace(/(\s*$)/g,"")},bt=ft,wt=function(e,r){";"!==(e=yt(e))[e.length-1]&&(e+=";");var t=e.length,a=!1,i=0,o=0,s="";function n(){if(!a){var t=gt(e.slice(i,o)),n=t.indexOf(":");if(-1!==n){var l=gt(t.slice(0,n)),c=gt(t.slice(n+1));if(l){var u=r(i,s.length,l,c,t);u&&(s+=u+"; ")}}}i=o+1}for(;o<t;o++){var l=e[o];if("/"===l&&"*"===e[o+1]){var c=e.indexOf("*/",o+2);if(-1===c)break;i=(o=c+1)+1,a=!1}else"("===l?a=!0:")"===l?a=!1:";"===l?a||n():"\n"===l&&n()}return gt(s)};function Pt(e){return null==e}function St(e){(e=function(e){var r={};for(var t in e)r[t]=e[t];return r}(e||{})).whiteList=e.whiteList||bt.whiteList,e.onAttr=e.onAttr||bt.onAttr,e.onIgnoreAttr=e.onIgnoreAttr||bt.onIgnoreAttr,e.safeAttrValue=e.safeAttrValue||bt.safeAttrValue,this.options=e}St.prototype.process=function(e){if(!(e=(e=e||"").toString()))return"";var r=this.options,t=r.whiteList,a=r.onAttr,i=r.onIgnoreAttr,o=r.safeAttrValue;return wt(e,(function(e,r,s,n,l){var c=t[s],u=!1;if(!0===c?u=c:"function"==typeof c?u=c(n):c instanceof RegExp&&(u=c.test(n)),!0!==u&&(u=!1),n=o(s,n)){var d,h={position:r,sourcePosition:e,source:l,isWhite:u};return u?Pt(d=a(s,n,h))?s+":"+n:d:Pt(d=i(s,n,h))?void 0:d}}))};var Et=St;!function(e,r){var t=ft,a=Et;for(var i in(r=e.exports=function(e,r){return new a(r).process(e)}).FilterCSS=a,t)r[i]=t[i]}(pt,pt.exports);var xt=pt.exports,Ft={indexOf:function(e,r){var t,a;if(Array.prototype.indexOf)return e.indexOf(r);for(t=0,a=e.length;t<a;t++)if(e[t]===r)return t;return-1},forEach:function(e,r,t){var a,i;if(Array.prototype.forEach)return e.forEach(r,t);for(a=0,i=e.length;a<i;a++)r.call(t,e[a],a,e)},trim:function(e){return String.prototype.trim?e.trim():e.replace(/(^\s*)|(\s*$)/g,"")},spaceIndex:function(e){var r=/\s|\n|\t/.exec(e);return r?r.index:-1}},kt=xt.FilterCSS,Ct=xt.getDefaultWhiteList,At=Ft;var jt=new kt;function $t(e){return e.replace(_t,"&lt;").replace(Ot,"&gt;")}var _t=/</g,Ot=/>/g,Rt=/"/g,Dt=/&quot;/g,Lt=/&#([a-zA-Z0-9]*);?/gim,It=/&colon;?/gim,Tt=/&newline;?/gim,Nt=/((j\s*a\s*v\s*a|v\s*b|l\s*i\s*v\s*e)\s*s\s*c\s*r\s*i\s*p\s*t\s*|m\s*o\s*c\s*h\s*a):/gi,Bt=/e\s*x\s*p\s*r\s*e\s*s\s*s\s*i\s*o\s*n\s*\(.*/gi,qt=/u\s*r\s*l\s*\(.*/gi;function zt(e){return e.replace(Rt,"&quot;")}function Vt(e){return e.replace(Dt,'"')}function Mt(e){return e.replace(Lt,(function(e,r){return"x"===r[0]||"X"===r[0]?String.fromCharCode(parseInt(r.substr(1),16)):String.fromCharCode(parseInt(r,10))}))}function Ut(e){return e.replace(It,":").replace(Tt," ")}function Qt(e){for(var r="",t=0,a=e.length;t<a;t++)r+=e.charCodeAt(t)<32?" ":e.charAt(t);return At.trim(r)}function Ht(e){return Qt(e=Ut(e=Mt(e=Vt(e))))}function Kt(e){return $t(e=zt(e))}ht.whiteList={a:["target","href","title"],abbr:["title"],address:[],area:["shape","coords","href","alt"],article:[],aside:[],audio:["autoplay","controls","crossorigin","loop","muted","preload","src"],b:[],bdi:["dir"],bdo:["dir"],big:[],blockquote:["cite"],br:[],caption:[],center:[],cite:[],code:[],col:["align","valign","span","width"],colgroup:["align","valign","span","width"],dd:[],del:["datetime"],details:["open"],div:[],dl:[],dt:[],em:[],figcaption:[],figure:[],font:["color","size","face"],footer:[],h1:[],h2:[],h3:[],h4:[],h5:[],h6:[],header:[],hr:[],i:[],img:["src","alt","title","width","height"],ins:["datetime"],li:[],mark:[],nav:[],ol:[],p:[],pre:[],s:[],section:[],small:[],span:[],sub:[],summary:[],sup:[],strong:[],strike:[],table:["width","border","align","valign"],tbody:["align","valign"],td:["width","rowspan","colspan","align","valign"],tfoot:["align","valign"],th:["width","rowspan","colspan","align","valign"],thead:["align","valign"],tr:["rowspan","align","valign"],tt:[],u:[],ul:[],video:["autoplay","controls","crossorigin","loop","muted","playsinline","poster","preload","src","height","width"]},ht.getDefaultWhiteList=function(){return{a:["target","href","title"],abbr:["title"],address:[],area:["shape","coords","href","alt"],article:[],aside:[],audio:["autoplay","controls","crossorigin","loop","muted","preload","src"],b:[],bdi:["dir"],bdo:["dir"],big:[],blockquote:["cite"],br:[],caption:[],center:[],cite:[],code:[],col:["align","valign","span","width"],colgroup:["align","valign","span","width"],dd:[],del:["datetime"],details:["open"],div:[],dl:[],dt:[],em:[],figcaption:[],figure:[],font:["color","size","face"],footer:[],h1:[],h2:[],h3:[],h4:[],h5:[],h6:[],header:[],hr:[],i:[],img:["src","alt","title","width","height"],ins:["datetime"],li:[],mark:[],nav:[],ol:[],p:[],pre:[],s:[],section:[],small:[],span:[],sub:[],summary:[],sup:[],strong:[],strike:[],table:["width","border","align","valign"],tbody:["align","valign"],td:["width","rowspan","colspan","align","valign"],tfoot:["align","valign"],th:["width","rowspan","colspan","align","valign"],thead:["align","valign"],tr:["rowspan","align","valign"],tt:[],u:[],ul:[],video:["autoplay","controls","crossorigin","loop","muted","playsinline","poster","preload","src","height","width"]}},ht.onTag=function(e,r,t){},ht.onIgnoreTag=function(e,r,t){},ht.onTagAttr=function(e,r,t){},ht.onIgnoreTagAttr=function(e,r,t){},ht.safeAttrValue=function(e,r,t,a){if(t=Ht(t),"href"===r||"src"===r){if("#"===(t=At.trim(t)))return"#";if("http://"!==t.substr(0,7)&&"https://"!==t.substr(0,8)&&"mailto:"!==t.substr(0,7)&&"tel:"!==t.substr(0,4)&&"data:image/"!==t.substr(0,11)&&"ftp://"!==t.substr(0,6)&&"./"!==t.substr(0,2)&&"../"!==t.substr(0,3)&&"#"!==t[0]&&"/"!==t[0])return""}else if("background"===r){if(Nt.lastIndex=0,Nt.test(t))return""}else if("style"===r){if(Bt.lastIndex=0,Bt.test(t))return"";if(qt.lastIndex=0,qt.test(t)&&(Nt.lastIndex=0,Nt.test(t)))return"";!1!==a&&(t=(a=a||jt).process(t))}return Kt(t)},ht.escapeHtml=$t,ht.escapeQuote=zt,ht.unescapeQuote=Vt,ht.escapeHtmlEntities=Mt,ht.escapeDangerHtml5Entities=Ut,ht.clearNonPrintableCharacter=Qt,ht.friendlyAttrValue=Ht,ht.escapeAttrValue=Kt,ht.onIgnoreTagStripAll=function(){return""},ht.StripTagBody=function(e,r){"function"!=typeof r&&(r=function(){});var t=!Array.isArray(e),a=[],i=!1;return{onIgnoreTag:function(o,s,n){if(function(r){return!!t||-1!==At.indexOf(e,r)}(o)){if(n.isClosing){var l=n.position+10;return a.push([!1!==i?i:n.position,l]),i=!1,"[/removed]"}return i||(i=n.position),"[removed]"}return r(o,s,n)},remove:function(e){var r="",t=0;return At.forEach(a,(function(a){r+=e.slice(t,a[0]),t=a[1]})),r+=e.slice(t)}}},ht.stripCommentTag=function(e){for(var r="",t=0;t<e.length;){var a=e.indexOf("\x3c!--",t);if(-1===a){r+=e.slice(t);break}r+=e.slice(t,a);var i=e.indexOf("--\x3e",a);if(-1===i)break;t=i+3}return r},ht.stripBlankChar=function(e){var r=e.split("");return(r=r.filter((function(e){var r=e.charCodeAt(0);return 127!==r&&(!(r<=31)||10===r||13===r)}))).join("")},ht.cssFilter=jt,ht.getDefaultCSSWhiteList=Ct;var Gt={},Jt=Ft;function Wt(e){var r,t=Jt.spaceIndex(e);return r=-1===t?e.slice(1,-1):e.slice(1,t+1),"/"===(r=Jt.trim(r).toLowerCase()).slice(0,1)&&(r=r.slice(1)),"/"===r.slice(-1)&&(r=r.slice(0,-1)),r}function Zt(e){return"</"===e.slice(0,2)}var Xt=/[^a-zA-Z0-9\\_:.-]/gim;function Yt(e,r){for(;r<e.length;r++){var t=e[r];if(" "!==t)return"="===t?r:-1}}function ea(e,r){for(;r<e.length;r++){var t=e[r];if(" "!==t)return"'"===t||'"'===t?r:-1}}function ra(e,r){for(;r>0;r--){var t=e[r];if(" "!==t)return"="===t?r:-1}}function ta(e){return function(e){return'"'===e[0]&&'"'===e[e.length-1]||"'"===e[0]&&"'"===e[e.length-1]}(e)?e.substr(1,e.length-2):e}Gt.parseTag=function(e,r,t){var a="",i=0,o=!1,s=!1,n=0,l=e.length,c="",u="";e:for(n=0;n<l;n++){var d=e.charAt(n);if(!1===o){if("<"===d){o=n;continue}}else if(!1===s){if("<"===d){a+=t(e.slice(i,n)),o=n,i=n;continue}if(">"===d){a+=t(e.slice(i,o)),c=Wt(u=e.slice(o,n+1)),a+=r(o,a.length,c,u,Zt(u)),i=n+1,o=!1;continue}if('"'===d||"'"===d)for(var h=1,p=e.charAt(n-h);""===p.trim()||"="===p;){if("="===p){s=d;continue e}p=e.charAt(n-++h)}}else if(d===s){s=!1;continue}}return i<e.length&&(a+=t(e.substr(i))),a},Gt.parseAttr=function(e,r){var t=0,a=0,i=[],o=!1,s=e.length;function n(e,t){if(!((e=(e=Jt.trim(e)).replace(Xt,"").toLowerCase()).length<1)){var a=r(e,t||"");a&&i.push(a)}}for(var l=0;l<s;l++){var c,u=e.charAt(l);if(!1!==o||"="!==u)if(!1===o||l!==a){if(/\s|\n|\t/.test(u)){if(e=e.replace(/\s|\n|\t/g," "),!1===o){if(-1===(c=Yt(e,l))){n(Jt.trim(e.slice(t,l))),o=!1,t=l+1;continue}l=c-1;continue}if(-1===(c=ra(e,l-1))){n(o,ta(Jt.trim(e.slice(t,l)))),o=!1,t=l+1;continue}}}else{if(-1===(c=e.indexOf(u,l+1)))break;n(o,Jt.trim(e.slice(a+1,c))),o=!1,t=(l=c)+1}else o=e.slice(t,l),t=l+1,a='"'===e.charAt(t)||"'"===e.charAt(t)?t:ea(e,l+1)}return t<e.length&&(!1===o?n(e.slice(t)):n(o,ta(Jt.trim(e.slice(t))))),Jt.trim(i.join(" "))};var aa=xt.FilterCSS,ia=ht,oa=Gt,sa=oa.parseTag,na=oa.parseAttr,la=Ft;function ca(e){return null==e}function ua(e){(e=function(e){var r={};for(var t in e)r[t]=e[t];return r}(e||{})).stripIgnoreTag&&(e.onIgnoreTag&&console.error('Notes: cannot use these two options "stripIgnoreTag" and "onIgnoreTag" at the same time'),e.onIgnoreTag=ia.onIgnoreTagStripAll),e.whiteList||e.allowList?e.whiteList=function(e){var r={};for(var t in e)Array.isArray(e[t])?r[t.toLowerCase()]=e[t].map((function(e){return e.toLowerCase()})):r[t.toLowerCase()]=e[t];return r}(e.whiteList||e.allowList):e.whiteList=ia.whiteList,e.onTag=e.onTag||ia.onTag,e.onTagAttr=e.onTagAttr||ia.onTagAttr,e.onIgnoreTag=e.onIgnoreTag||ia.onIgnoreTag,e.onIgnoreTagAttr=e.onIgnoreTagAttr||ia.onIgnoreTagAttr,e.safeAttrValue=e.safeAttrValue||ia.safeAttrValue,e.escapeHtml=e.escapeHtml||ia.escapeHtml,this.options=e,!1===e.css?this.cssFilter=!1:(e.css=e.css||{},this.cssFilter=new aa(e.css))}ua.prototype.process=function(e){if(!(e=(e=e||"").toString()))return"";var r=this.options,t=r.whiteList,a=r.onTag,i=r.onIgnoreTag,o=r.onTagAttr,s=r.onIgnoreTagAttr,n=r.safeAttrValue,l=r.escapeHtml,c=this.cssFilter;r.stripBlankChar&&(e=ia.stripBlankChar(e)),r.allowCommentTag||(e=ia.stripCommentTag(e));var u=!1;r.stripIgnoreTagBody&&(u=ia.StripTagBody(r.stripIgnoreTagBody,i),i=u.onIgnoreTag);var d=sa(e,(function(e,r,u,d,h){var p={sourcePosition:e,position:r,isClosing:h,isWhite:Object.prototype.hasOwnProperty.call(t,u)},f=a(u,d,p);if(!ca(f))return f;if(p.isWhite){if(p.isClosing)return"</"+u+">";var m=function(e){var r=la.spaceIndex(e);if(-1===r)return{html:"",closing:"/"===e[e.length-2]};var t="/"===(e=la.trim(e.slice(r+1,-1)))[e.length-1];return t&&(e=la.trim(e.slice(0,-1))),{html:e,closing:t}}(d),v=t[u],g=na(m.html,(function(e,r){var t=-1!==la.indexOf(v,e),a=o(u,e,r,t);return ca(a)?t?(r=n(u,e,r,c))?e+'="'+r+'"':e:ca(a=s(u,e,r,t))?void 0:a:a}));return d="<"+u,g&&(d+=" "+g),m.closing&&(d+=" /"),d+">"}return ca(f=i(u,d,p))?l(d):f}),l);return u&&(d=u.remove(d)),d};var da=ua;!function(e,r){var t=ht,a=Gt,i=da;function o(e,r){return new i(r).process(e)}(r=e.exports=o).filterXSS=o,r.FilterXSS=i,function(){for(var e in t)r[e]=t[e];for(var i in a)r[i]=a[i]}(),"undefined"!=typeof self&&"undefined"!=typeof DedicatedWorkerGlobalScope&&self instanceof DedicatedWorkerGlobalScope&&(self.filterXSS=e.exports)}(dt,dt.exports);const ha={NonSpecific:"nonSpecific",BarAndLineNoAggregation:"barAndLineNoAggregation",BarAndLineMonoField:"barAndLineMonoField",BarAndLineMultiFields:"barAndLineMultiFields",BarAndLineFromFields:"barAndLineFromFields",BarAndLineSplitBy:"barAndLineSplitBy",BarAndLineSplitByNoAggregation:"barAndLineSplitByNoAggregation",PieNoAggregation:"pieNoAggregation",PieFromCategory:"pieFromCategory",PieFromFields:"pieFromFields",BoxPlotMonoField:"boxPlotMonoField",BoxPlotMultiFields:"boxPlotMultiFields",BoxPlotMonoFieldAndCategory:"boxPlotMonoFieldAndCategory",BoxPlotMultiFieldsAndCategory:"boxPlotMultiFieldsAndCategory",BoxPlotMonoFieldAndSplitBy:"boxPlotMonoFieldAndSplitBy",BoxPlotMultiFieldsAndSplitBy:"boxPlotMultiFieldsAndSplitBy",BoxPlotMonoFieldAndCategoryAndSplitBy:"boxPlotMonoFieldAndCategoryAndSplitBy"};function pa(e){return e?.colorMatch??!1}function fa(e,r){let t;if(void 0!==e&&e.length>0)if(void 0!==r&&r>=0&&r<e.length)t=e[r].type;else{const r=new Set(e.map((e=>e.type))),a=function(e){return 2===e.size&&e.has(o.LineSeries)&&e.has(o.BarSeries)}(r),i=function(e){return 2===e.size&&e.has(o.LineSeries)&&e.has(o.BoxPlotSeries)||1===e.size&&e.has(o.BoxPlotSeries)}(r);t=!0===a?o.ComboLineAndBarSeries:i?o.BoxPlotSeries:r.size>=2?void 0:e[0].type}return t}function ma(e){const{value:r,keepSurroundingQuotes:t,escape:a}=e;let i=r?.trim();if(!va(i)){let e="";i.startsWith("'")&&i.endsWith("'")&&(i=i.slice(1,-1),t&&(e="'")),!1!==a&&(i=function(e){let r=e;return r=r.replace(/'/gu,"''"),r=r.replace(/[/\\"|[\]\\]/gu,"\\$&"),r}(i)),i=`${e}${i}${e}`}return i}function va(e){return null==e||"string"==typeof e&&""===e.trim()}function ga(e,r){let t;return void 0!==r&&(t={...r,rotated:e}),t}function ya(e){const r=ka(e)?.sourceJSON;let t=r?.maxRecordCount??Wr.maxRecords;return r?.advancedQueryCapabilities?.supportsMaxRecordCountFactor&&void 0!==r?.maxRecordCount&&(t=r.maxRecordCount*Wr.maxRecordCountFactor),t}function ba(e,r){let t;const a=Array.from(new Set(e)).filter((e=>null!=e&&""!==e&&!$a(e)));return a.sort(((e,r)=>r.length-e.length)),1===a.length?[t]=a:a?.forEach((e=>{void 0!==e&&(va(t)?t=`(${e})`:t?.includes(`(${e})`)||(t=`${t} ${r??"AND"} (${e})`))})),t??"1=1"}async function wa(e){let r;return void 0!==e&&(r=await async function(e){return new(await async function(){if(Xr)return await window.$arcgis.import("esri/time/TimeExtent");const e=await Promise.resolve().then(t.bind(t,59187));return Yr(e)?e.default:e}())(e)}({start:new Date(e[0]),end:new Date(e[1])})),r}async function Pa(e){const{queryObject:r,queryConfig:a,maxRecordCountFactor:o}=e,{where:s,groupByFieldsForStatistics:n,orderByFields:l,outStatistics:c,gdbVersion:u,geometry:d,distance:h,units:p,timeExtent:f,start:m,num:v,returnDistinctValues:g,outFields:y}=a??{},b=await async function(e){return new(await async function(){if(Xr)return await window.$arcgis.import("esri/rest/support/Query");const e=await Promise.resolve().then(t.bind(t,68295));return Yr(e)?e.default:e}())(e)}({});b.returnGeometry=!1;const w=xa(r),P=ka(w),S=[s,P.definitionExpression];if(b.where=ba(S),b.outFields=function(e){return void 0===e?["*"]:Array.from(new Set(e))}(y),b.groupByFieldsForStatistics=n??b.groupByFieldsForStatistics,b.orderByFields=l??[],b.returnDistinctValues=g??!1,void 0!==c){const e=function(e){let r=!1;const t=ka(e).sourceJSON?.advancedQueryCapabilities?.supportedSpatialAggregationStatistics??[],a=e.capabilities?.query.supportedSpatialAggregationStatistics??[];return r=t.includes("EnvelopeAggregate")||void 0!==a.envelope&&a.envelope,r}(w),r=await async function(){if(Xr)return await window.$arcgis.import("esri/rest/support/StatisticDefinition");const e=await Promise.resolve().then(t.bind(t,21820));return Yr(e)?e.default:e}();b.outStatistics=c.filter((r=>r.statisticType!==i.EnvelopeAggregate||e)).map((e=>r.fromJSON(e)))}void 0!==o&&(b.maxRecordCountFactor=o),void 0!==u&&""!==u?b.gdbVersion=u:void 0!==P.gdbVersion&&""!==P.gdbVersion&&(b.gdbVersion=P.gdbVersion);const E=await async function(e){let r;return void 0!==e&&(r=(await et()).fromJSON(e)),r}(d);void 0!==E&&(b.geometry=E,function(e){return e.capabilities?.query?.supportsDistance||!0===ka(e).sourceJSON?.advancedQueryCapabilities?.supportsQueryWithDistance}(w)&&(void 0!==h&&(b.distance=h),void 0!==p&&(b.units=p)));const x=await wa(f);return void 0!==x?b.timeExtent=x:void 0!==P.timeExtent&&(b.timeExtent=P.timeExtent),void 0!==v&&(b.num=v),void 0!==m&&(b.start=m,b.num=b.num??ya(w)),function(e){const r=!e.geometry,t=(e.where??"").toUpperCase(),a=!t.includes("CURRENT_TIMESTAMP")&&!t.includes("CURRENT_DATE")&&!t.includes("CURRENT_TIME");return r&&a}(b)&&(b.cacheHint=!0),b}const Sa=ut((async e=>{const r=e.featureCollection;let a,i;if(void 0!==r?.layers?.[0]){const e=r.layers[0];a=e.featureSet,i=e.layerDefinition}else i=e.layerDefinition;const o={};if(void 0!==a){const e=await async function(){if(Xr)return await window.$arcgis.import("esri/rest/support/FeatureSet");const e=await Promise.resolve().then(t.bind(t,77725));return Yr(e)?e.default:e}();if(o.source=e.fromJSON(a).features,void 0!==i?.fields){const e=await async function(){if(Xr)return await window.$arcgis.import("esri/layers/support/Field");const e=await Promise.resolve().then(t.bind(t,44135));return Yr(e)?e.default:e}();o.fields=i.fields.map((r=>e.fromJSON(r)))}void 0!==i?.objectIdField&&(o.objectIdField=i.objectIdField);const r=await et();if(void 0!==i?.geometryType){const e=r.fromJSON({geometryType:i.geometryType});void 0!==e?.type&&"extent"!==e?.type&&(o.geometryType=e.type)}void 0!==i?.spatialReference&&(o.spatialReference=i.spatialReference)}else o.id=e.id,void 0!==i?.id&&(o.layerId=i.id),void 0!==e.url&&(o.url=e.url),void 0!==e.itemId&&void 0!==i?.id&&(o.portalItem={id:e.itemId});if(void 0!==i){const e=i.drawingInfo;if(void 0!==e?.renderer){const r=await async function(){if(Xr)return await window.$arcgis.import("esri/renderers/support/jsonUtils");const e=await Promise.resolve().then(t.bind(t,86616));return Yr(e)?e.default:e}();o.renderer=r.fromJSON(e.renderer)}}return await async function(e){return new(await async function(){if(Xr)return await window.$arcgis.import("esri/layers/FeatureLayer");const e=await Promise.resolve().then(t.bind(t,38451));return Yr(e)?e.default:e}())(e)}(o)}));function Ea(e){return void 0!==e&&"layer"in e}function xa(e){let r;return r=Ea(e)?e.layer:e,r}async function Fa(e){const{layer:r,view:t,chartConfig:a}=e;let i;if(void 0!==r){const e=ka(xa(r));if(void 0===t||e.isTable)i=r;else{e.outFields=["*"];const r=e=>"highlight"in e,a=await t.whenLayerView(e);r(a)&&(i=a)}}else"iLayer"in a&&a.iLayer&&(i=await Sa(a.iLayer));return i}function ka(e){return function(e){return void 0!==e&&"type"in e&&"subtype-sublayer"===e.type}(e)?e.parent:e}function Ca(e){return[a.Single,a.Double,a.SmallInteger,a.Integer].includes(e.type)}function Aa(e,r){let t="";return void 0!==e&&e.includes("=")&&(t=!1!==r?ma({value:e.split("=")[0]}):e.split("=")[0].trim()),t}function ja(e){const{where:r,normalize:t,keepSurroundingQuotes:a,escape:i}=e;let o="";return void 0!==r&&r.includes("=")&&(o=r.split("=").slice(1).join("=").trim(),"null"===o?o=null:""===o.trim()||Number.isNaN(Number(o))?!1===t?!0===i&&(o=function(e){let r=e,t="";e.startsWith("'")&&e.endsWith("'")&&(r=e.slice(1,-1),t="'"),r=r.replace(/'/gu,"''");let a="";return function(e){let r=!1;return"number"!=typeof e&&(r=[...e].some((e=>e.charCodeAt(0)>255))),r}(r)&&(a="N"),`${a}${t}${r}${t}`}(o)):o=ma({value:o,keepSurroundingQuotes:a,escape:i}):o=Number(o)),o}function $a(e){let r=!1;return void 0===e||""===e?r=!0:e.includes("=")&&(r=Aa(e,!1)===`${ja({where:e,normalize:!1})}`),r}function _a(e){let r=ha.NonSpecific;if(void 0!==e?.[0])switch(fa(e)){case o.PieSeries:r=function(e){let r=ha.PieFromCategory;return void 0===e[0].query?.outStatistics?r=ha.PieNoAggregation:void 0===e[0].query?.groupByFieldsForStatistics&&(r=ha.PieFromFields),r}(e);break;case o.RadarSeries:case o.BarSeries:case o.LineSeries:case o.ComboLineAndBarSeries:r=function(e){let r=ha.BarAndLineMonoField;const t=e[0].query?.where;return void 0===e[0].query?.groupByFieldsForStatistics&&(e[0].query?.outStatistics??[]).length>0?r=ha.BarAndLineFromFields:void 0===t&&void 0===e[0].query?.outStatistics?r=ha.BarAndLineNoAggregation:$a(t)?e.length>1&&(r=ha.BarAndLineMultiFields):r=void 0===e[0].query?.outStatistics?ha.BarAndLineSplitByNoAggregation:ha.BarAndLineSplitBy,r}(e);break;case o.BoxPlotSeries:r=function(e){let r=ha.BoxPlotMonoField;const t=1===e.length,a=e.find((e=>e.type===o.LineSeries))??e[0],{x:i}=a,s="y"in a?a.y:"",n=a.query?.where;return i===Zr?"object"==typeof s&&s.length>1?$a(n)?t&&(r=ha.BoxPlotMultiFields):r=ha.BoxPlotMultiFieldsAndSplitBy:t?r=ha.BoxPlotMonoField:$a(n)||(r=ha.BoxPlotMonoFieldAndSplitBy):r=t?ha.BoxPlotMonoFieldAndCategory:$a(n)?ha.BoxPlotMultiFieldsAndCategory:ha.BoxPlotMonoFieldAndCategoryAndSplitBy,r}(e)}return r}function Oa(e){const{queryObject:r,chartConfig:t,runtimeDataFilters:a,ignoreViewExtent:o}=e,{series:s,dataFilters:n}=t,{where:l,gdbVersion:c,timeExtent:u,geometry:d,distance:h,units:p}=n??{},{where:f,gdbVersion:m,timeExtent:v,geometry:g,distance:y,units:b}=a??{},w=s[0],{query:P}=w,{where:S}=P??{},E=_a(s),x={...P};return x.where=ba([l,f]),E!==ha.BarAndLineSplitBy&&E!==ha.BoxPlotMonoFieldAndSplitBy&&E!==ha.BoxPlotMonoFieldAndCategoryAndSplitBy&&E!==ha.BoxPlotMultiFieldsAndSplitBy&&E!==ha.BarAndLineSplitByNoAggregation&&(x.where=ba([x.where,S])),void 0!==t.orderOptions?.orderByFields&&(x.orderByFields=t.orderOptions.orderByFields),x.gdbVersion=m??c,x.timeExtent=function(e,r){let t=r;if(void 0!==e){const r=ka(xa(e)).timeExtent;null!=r&&(t=[r.start.valueOf(),r.end.valueOf()])}return t}(r,v??u),x.geometry=function(e){const{queryObject:r,defaultGeometry:t,ignoreViewExtent:a}=e;let i=t;if(!a&&Ea(r)){const e=r.view.extent,{xmin:t,xmax:a,ymin:o,ymax:s,zmin:n,zmax:l,spatialReference:c}=e;i={xmin:t,ymin:o,zmin:n,xmax:a,ymax:s,zmax:l,spatialReference:c}}return i}({queryObject:r,defaultGeometry:g??d,ignoreViewExtent:o}),x.distance=y??h,x.units=b??p,P?.outStatistics?.[0]?.statisticType===i.Count&&(x.returnDistinctValues=P?.returnDistinctValues??!1),x}const Ra=new Map,Da={Default:"defaultError",LayerLoadFailure:"layerLoadFailure",QueryFeaturesError:"queryFeaturesError",ChartDisposed:"ChartDisposeError"};class La extends Error{constructor(e,r,t){super(r),this.name=e,this.details=t}}async function Ia(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Hr().locale,r=await t.e(10733).then(t.bind(t,10733));switch(e){case l.Arabic:r=await t.e(24033).then(t.bind(t,24033));break;case l.Bosnian:r=await t.e(78264).then(t.bind(t,78264));break;case l.Bulgarian:r=await t.e(63777).then(t.bind(t,63777));break;case l.Catalan:r=await t.e(22017).then(t.bind(t,22017));break;case l.Czech:r=await t.e(34998).then(t.bind(t,34998));break;case l.Danish:r=await t.e(60589).then(t.bind(t,60589));break;case l.German:r=await t.e(98363).then(t.bind(t,98363));break;case l.Greek:r=await t.e(84240).then(t.bind(t,84240));break;case l.EnglishUSA:r=await t.e(52459).then(t.bind(t,52459));break;case l.Spanish:r=await t.e(53668).then(t.bind(t,53668));break;case l.Estonian:r=await t.e(95609).then(t.bind(t,95609));break;case l.Finnish:r=await t.e(30911).then(t.bind(t,30911));break;case l.French:r=await t.e(59476).then(t.bind(t,59476));break;case l.Hebrew:r=await t.e(7270).then(t.bind(t,7270));break;case l.Croatian:r=await t.e(13550).then(t.bind(t,13550));break;case l.Hungarian:r=await t.e(68995).then(t.bind(t,68995));break;case l.Indonesian:r=await t.e(13918).then(t.bind(t,13918));break;case l.Italian:r=await t.e(68567).then(t.bind(t,68567));break;case l.Japanese:r=await t.e(68044).then(t.bind(t,68044));break;case l.Korean:r=await t.e(82118).then(t.bind(t,82118));break;case l.Lithuanian:r=await t.e(42748).then(t.bind(t,42748));break;case l.Latvian:r=await t.e(42950).then(t.bind(t,42950));break;case l.NorwegianBokml:r=await t.e(30855).then(t.bind(t,30855));break;case l.Dutch:r=await t.e(45144).then(t.bind(t,45144));break;case l.Polish:r=await t.e(5560).then(t.bind(t,5560));break;case l.PortugueseBrazil:r=await t.e(21989).then(t.bind(t,21989));break;case l.PortuguesePortugal:r=await t.e(9322).then(t.bind(t,9322));break;case l.Romanian:r=await t.e(624).then(t.bind(t,624));break;case l.Russian:r=await t.e(86469).then(t.bind(t,86469));break;case l.Serbian:r=await t.e(54850).then(t.bind(t,54850));break;case l.Slovak:r=await t.e(41929).then(t.bind(t,41929));break;case l.Slovenian:r=await t.e(55579).then(t.bind(t,55579));break;case l.Swedish:r=await t.e(17071).then(t.bind(t,17071));break;case l.Thai:r=await t.e(21397).then(t.bind(t,21397));break;case l.Turkish:r=await t.e(78909).then(t.bind(t,78909));break;case l.Ukrainian:r=await t.e(42686).then(t.bind(t,42686));break;case l.Vietnamese:r=await t.e(65290).then(t.bind(t,65290));break;case l.ChineseChina:r=await t.e(17321).then(t.bind(t,17321));break;case l.ChineseHongKong:r=await t.e(33750).then(t.bind(t,11369));break;case l.ChineseTaiwan:r=await t.e(81790).then(t.bind(t,81790))}return r}async function Ta(e){const{queryObject:r,queryConfig:a,returnUniqueIdsOnly:i,abortKey:o}=e;let s=[];const n=xa(r);if(void 0!==r){const l=function(e){return!0===ka(e)?.sourceJSON?.advancedQueryCapabilities?.supportsMaxRecordCountFactor?Wr.maxRecordCountFactor:void 0}(n),c=await Pa({queryObject:r,queryConfig:a,maxRecordCountFactor:l});try{!0===i?"queryObjectIds"in r?s=await r.queryObjectIds(c):(c.outFields=[n.objectIdField],s=(await r.queryFeatures(c,{signal:void 0!==o?Ra.get(o)?.signal:void 0})).features.map((e=>e.attributes[n.objectIdField]))):s=(await r.queryFeatures(c,{signal:void 0!==o?Ra.get(o)?.signal:void 0})).features}catch(e){if(!(await async function(){if(Xr)return await window.$arcgis.import("esri/core/promiseUtils");const e=await Promise.resolve().then(t.bind(t,50346));return Yr(e)?e.default:e}()).isAbortError(e)){const r=await Ia();throw new La(Da.QueryFeaturesError,r.queryError,e)}}}return s}async function Na(e){const r=[],{featureCount:t,maxRecords:a,queryConfig:i}=e;let o=[],s=0,n=i?.start??0;for(;s<Wr.maxParallelRequests&&n<t;){const o={...e};o.queryConfig={...i,start:n,num:Math.min(a,t-n)},r.push(Ta(o)),n+=a,s+=1}return o=(await Promise.all(r)).flat(),o}async function Ba(e){const{queryObject:r,queryConfig:t,category:a,splitByField:o,chartLimits:s,abortKey:n}=e,l=void 0!==o,c=a!==Zr?[a]:[];l&&c.push(o);const u=xa(r),d={...t,groupByFieldsForStatistics:Array.from(new Set(c)),outStatistics:[{statisticType:i.Count,onStatisticField:u.objectIdField,outStatisticFieldName:`${i.Count}_OBJECTID`}],orderByFields:void 0,num:s?.maxBarThreePlusSeriesCountTotal},h=await async function(e){const{queryObject:r,queryConfig:t,returnUniqueIdsOnly:a,featureCount:i,noBatch:o,abortKey:s}=e;let n=[];const l=xa(r);if(void 0!==r){const e=i??1,c=ya(l);if(!0!==o&&e>c&&l.capabilities.query.supportsPagination){let i=0,o=0;const l=Math.ceil(e/c),u=Math.ceil(l/Wr.maxParallelRequests),d=[];for(;o<u;){i=o*Wr.maxParallelRequests*c;const n=Na({queryConfig:{...t,start:i},queryObject:r,maxRecords:c,featureCount:e,returnUniqueIdsOnly:a,abortKey:s});d.push(n),o+=1}n=(await Promise.all(d)).flat()}else(Number.isNaN(e)||e>=0)&&(n=await Ta({queryObject:r,queryConfig:t,returnUniqueIdsOnly:a,abortKey:s}))}return n}({queryObject:r,featureCount:1,queryConfig:d,abortKey:n});return Array.from(new Set(h.map((e=>e.attributes[l?o:a])))).sort(((e,r)=>"string"==typeof e&&"string"==typeof r?e.localeCompare(r):Number(e)-Number(r)))}const qa=["1.0.0","1.0.1","2.0.0","3.0.0","3.1.0","3.2.0","3.3.0","3.4.0","3.5.0","3.6.0","3.7.0","3.8.0","3.9.0","3.9.1","3.9.2","3.10.0","3.11.0","4.0.0","4.0.1","5.0.0","6.0.0","6.1.0","6.2.0","6.2.1","6.3.0","6.4.0","7.0.0","7.1.0","7.1.1","7.2.0","7.2.1","7.3.1","7.4.0","7.4.1","7.5.0","7.5.1","7.6.0","8.0.0","8.0.1","9.0.0","9.1.0","9.2.0","9.3.0","9.4.0","9.5.0","9.6.0","9.6.1","9.7.0","10.0.0","11.0.0","12.0.0","13.0.0","14.0.0","14.0.1","15.0.0","16.0.0","16.1.0","16.1.1","17.0.0","17.1.0","17.2.0"],za="1.0.0",Va="unrecognized.version";var Ma={};!function(e){function r(){for(var e=arguments.length,r=Array(e),t=0;t<e;t++)r[t]=arguments[t];if(r.length>1){r[0]=r[0].slice(0,-1);for(var a=r.length-1,i=1;i<a;++i)r[i]=r[i].slice(1,-1);return r[a]=r[a].slice(1),r.join("")}return r[0]}function t(e){return"(?:"+e+")"}function a(e){return void 0===e?"undefined":null===e?"null":Object.prototype.toString.call(e).split(" ").pop().split("]").shift().toLowerCase()}function i(e){return e.toUpperCase()}function o(e){var a="[A-Za-z]",i="[0-9]",o=r(i,"[A-Fa-f]"),s=t(t("%[EFef]"+o+"%"+o+o+"%"+o+o)+"|"+t("%[89A-Fa-f]"+o+"%"+o+o)+"|"+t("%"+o+o)),n="[\\!\\$\\&\\'\\(\\)\\*\\+\\,\\;\\=]",l=r("[\\:\\/\\?\\#\\[\\]\\@]",n),c=e?"[\\uE000-\\uF8FF]":"[]",u=r(a,i,"[\\-\\.\\_\\~]",e?"[\\xA0-\\u200D\\u2010-\\u2029\\u202F-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFEF]":"[]");t(a+r(a,i,"[\\+\\-\\.]")+"*"),t(t(s+"|"+r(u,n,"[\\:]"))+"*");var d=t(t("25[0-5]")+"|"+t("2[0-4]"+i)+"|"+t("1"+i+i)+"|"+t("0?[1-9]"+i)+"|0?0?"+i),h=t(d+"\\."+d+"\\."+d+"\\."+d),p=t(o+"{1,4}"),f=t(t(p+"\\:"+p)+"|"+h),m=t(t(p+"\\:")+"{6}"+f),v=t("\\:\\:"+t(p+"\\:")+"{5}"+f),g=t(t(p)+"?\\:\\:"+t(p+"\\:")+"{4}"+f),y=t(t(t(p+"\\:")+"{0,1}"+p)+"?\\:\\:"+t(p+"\\:")+"{3}"+f),b=t(t(t(p+"\\:")+"{0,2}"+p)+"?\\:\\:"+t(p+"\\:")+"{2}"+f),w=t(t(t(p+"\\:")+"{0,3}"+p)+"?\\:\\:"+p+"\\:"+f),P=t(t(t(p+"\\:")+"{0,4}"+p)+"?\\:\\:"+f),S=t(t(t(p+"\\:")+"{0,5}"+p)+"?\\:\\:"+p),E=t(t(t(p+"\\:")+"{0,6}"+p)+"?\\:\\:"),x=t([m,v,g,y,b,w,P,S,E].join("|")),F=t(t(u+"|"+s)+"+");t("[vV]"+o+"+\\."+r(u,n,"[\\:]")+"+"),t(t(s+"|"+r(u,n))+"*");var k=t(s+"|"+r(u,n,"[\\:\\@]"));return t(t(s+"|"+r(u,n,"[\\@]"))+"+"),t(t(k+"|"+r("[\\/\\?]",c))+"*"),{NOT_SCHEME:new RegExp(r("[^]",a,i,"[\\+\\-\\.]"),"g"),NOT_USERINFO:new RegExp(r("[^\\%\\:]",u,n),"g"),NOT_HOST:new RegExp(r("[^\\%\\[\\]\\:]",u,n),"g"),NOT_PATH:new RegExp(r("[^\\%\\/\\:\\@]",u,n),"g"),NOT_PATH_NOSCHEME:new RegExp(r("[^\\%\\/\\@]",u,n),"g"),NOT_QUERY:new RegExp(r("[^\\%]",u,n,"[\\:\\@\\/\\?]",c),"g"),NOT_FRAGMENT:new RegExp(r("[^\\%]",u,n,"[\\:\\@\\/\\?]"),"g"),ESCAPE:new RegExp(r("[^]",u,n),"g"),UNRESERVED:new RegExp(u,"g"),OTHER_CHARS:new RegExp(r("[^\\%]",u,l),"g"),PCT_ENCODED:new RegExp(s,"g"),IPV4ADDRESS:new RegExp("^("+h+")$"),IPV6ADDRESS:new RegExp("^\\[?("+x+")"+t(t("\\%25|\\%(?!"+o+"{2})")+"("+F+")")+"?\\]?$")}}var s=o(!1),n=o(!0),l=function(e,r){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return function(e,r){var t=[],a=!0,i=!1,o=void 0;try{for(var s,n=e[Symbol.iterator]();!(a=(s=n.next()).done)&&(t.push(s.value),!r||t.length!==r);a=!0);}catch(e){i=!0,o=e}finally{try{!a&&n.return&&n.return()}finally{if(i)throw o}}return t}(e,r);throw new TypeError("Invalid attempt to destructure non-iterable instance")},c=2147483647,u=36,d=/^xn--/,h=/[^\0-\x7E]/,p=/[\x2E\u3002\uFF0E\uFF61]/g,f={overflow:"Overflow: input needs wider integers to process","not-basic":"Illegal input >= 0x80 (not a basic code point)","invalid-input":"Invalid input"},m=Math.floor,v=String.fromCharCode;function g(e){throw new RangeError(f[e])}function y(e,r){var t=e.split("@"),a="";return t.length>1&&(a=t[0]+"@",e=t[1]),a+function(e,r){for(var t=[],a=e.length;a--;)t[a]=r(e[a]);return t}((e=e.replace(p,".")).split("."),r).join(".")}function b(e){for(var r=[],t=0,a=e.length;t<a;){var i=e.charCodeAt(t++);if(i>=55296&&i<=56319&&t<a){var o=e.charCodeAt(t++);56320==(64512&o)?r.push(((1023&i)<<10)+(1023&o)+65536):(r.push(i),t--)}else r.push(i)}return r}var w=function(e){return e-48<10?e-22:e-65<26?e-65:e-97<26?e-97:u},P=function(e,r){return e+22+75*(e<26)-((0!=r)<<5)},S=function(e,r,t){var a=0;for(e=t?m(e/700):e>>1,e+=m(e/r);e>455;a+=u)e=m(e/35);return m(a+36*e/(e+38))},E=function(e){var r=[],t=e.length,a=0,i=128,o=72,s=e.lastIndexOf("-");s<0&&(s=0);for(var n=0;n<s;++n)e.charCodeAt(n)>=128&&g("not-basic"),r.push(e.charCodeAt(n));for(var l=s>0?s+1:0;l<t;){for(var d=a,h=1,p=u;;p+=u){l>=t&&g("invalid-input");var f=w(e.charCodeAt(l++));(f>=u||f>m((c-a)/h))&&g("overflow"),a+=f*h;var v=p<=o?1:p>=o+26?26:p-o;if(f<v)break;var y=u-v;h>m(c/y)&&g("overflow"),h*=y}var b=r.length+1;o=S(a-d,b,0==d),m(a/b)>c-i&&g("overflow"),i+=m(a/b),a%=b,r.splice(a++,0,i)}return String.fromCodePoint.apply(String,r)},x=function(e){var r=[],t=(e=b(e)).length,a=128,i=0,o=72,s=!0,n=!1,l=void 0;try{for(var d,h=e[Symbol.iterator]();!(s=(d=h.next()).done);s=!0){var p=d.value;p<128&&r.push(v(p))}}catch(e){n=!0,l=e}finally{try{!s&&h.return&&h.return()}finally{if(n)throw l}}var f=r.length,y=f;for(f&&r.push("-");y<t;){var w=c,E=!0,x=!1,F=void 0;try{for(var k,C=e[Symbol.iterator]();!(E=(k=C.next()).done);E=!0){var A=k.value;A>=a&&A<w&&(w=A)}}catch(e){x=!0,F=e}finally{try{!E&&C.return&&C.return()}finally{if(x)throw F}}var j=y+1;w-a>m((c-i)/j)&&g("overflow"),i+=(w-a)*j,a=w;var $=!0,_=!1,O=void 0;try{for(var R,D=e[Symbol.iterator]();!($=(R=D.next()).done);$=!0){var L=R.value;if(L<a&&++i>c&&g("overflow"),L==a){for(var I=i,T=u;;T+=u){var N=T<=o?1:T>=o+26?26:T-o;if(I<N)break;var B=I-N,q=u-N;r.push(v(P(N+B%q,0))),I=m(B/q)}r.push(v(P(I,0))),o=S(i,j,y==f),i=0,++y}}}catch(e){_=!0,O=e}finally{try{!$&&D.return&&D.return()}finally{if(_)throw O}}++i,++a}return r.join("")},F=function(e){return y(e,(function(e){return h.test(e)?"xn--"+x(e):e}))},k=function(e){return y(e,(function(e){return d.test(e)?E(e.slice(4).toLowerCase()):e}))},C={};function A(e){var r=e.charCodeAt(0);return r<16?"%0"+r.toString(16).toUpperCase():r<128?"%"+r.toString(16).toUpperCase():r<2048?"%"+(r>>6|192).toString(16).toUpperCase()+"%"+(63&r|128).toString(16).toUpperCase():"%"+(r>>12|224).toString(16).toUpperCase()+"%"+(r>>6&63|128).toString(16).toUpperCase()+"%"+(63&r|128).toString(16).toUpperCase()}function j(e){for(var r="",t=0,a=e.length;t<a;){var i=parseInt(e.substr(t+1,2),16);if(i<128)r+=String.fromCharCode(i),t+=3;else if(i>=194&&i<224){if(a-t>=6){var o=parseInt(e.substr(t+4,2),16);r+=String.fromCharCode((31&i)<<6|63&o)}else r+=e.substr(t,6);t+=6}else if(i>=224){if(a-t>=9){var s=parseInt(e.substr(t+4,2),16),n=parseInt(e.substr(t+7,2),16);r+=String.fromCharCode((15&i)<<12|(63&s)<<6|63&n)}else r+=e.substr(t,9);t+=9}else r+=e.substr(t,3),t+=3}return r}function $(e,r){function t(e){var t=j(e);return t.match(r.UNRESERVED)?t:e}return e.scheme&&(e.scheme=String(e.scheme).replace(r.PCT_ENCODED,t).toLowerCase().replace(r.NOT_SCHEME,"")),void 0!==e.userinfo&&(e.userinfo=String(e.userinfo).replace(r.PCT_ENCODED,t).replace(r.NOT_USERINFO,A).replace(r.PCT_ENCODED,i)),void 0!==e.host&&(e.host=String(e.host).replace(r.PCT_ENCODED,t).toLowerCase().replace(r.NOT_HOST,A).replace(r.PCT_ENCODED,i)),void 0!==e.path&&(e.path=String(e.path).replace(r.PCT_ENCODED,t).replace(e.scheme?r.NOT_PATH:r.NOT_PATH_NOSCHEME,A).replace(r.PCT_ENCODED,i)),void 0!==e.query&&(e.query=String(e.query).replace(r.PCT_ENCODED,t).replace(r.NOT_QUERY,A).replace(r.PCT_ENCODED,i)),void 0!==e.fragment&&(e.fragment=String(e.fragment).replace(r.PCT_ENCODED,t).replace(r.NOT_FRAGMENT,A).replace(r.PCT_ENCODED,i)),e}function _(e){return e.replace(/^0*(.*)/,"$1")||"0"}function O(e,r){var t=e.match(r.IPV4ADDRESS)||[],a=l(t,2)[1];return a?a.split(".").map(_).join("."):e}function R(e,r){var t=e.match(r.IPV6ADDRESS)||[],a=l(t,3),i=a[1],o=a[2];if(i){for(var s=i.toLowerCase().split("::").reverse(),n=l(s,2),c=n[0],u=n[1],d=u?u.split(":").map(_):[],h=c.split(":").map(_),p=r.IPV4ADDRESS.test(h[h.length-1]),f=p?7:8,m=h.length-f,v=Array(f),g=0;g<f;++g)v[g]=d[g]||h[m+g]||"";p&&(v[f-1]=O(v[f-1],r));var y=v.reduce((function(e,r,t){if(!r||"0"===r){var a=e[e.length-1];a&&a.index+a.length===t?a.length++:e.push({index:t,length:1})}return e}),[]).sort((function(e,r){return r.length-e.length}))[0],b=void 0;if(y&&y.length>1){var w=v.slice(0,y.index),P=v.slice(y.index+y.length);b=w.join(":")+"::"+P.join(":")}else b=v.join(":");return o&&(b+="%"+o),b}return e}var D=/^(?:([^:\/?#]+):)?(?:\/\/((?:([^\/?#@]*)@)?(\[[^\/?#\]]+\]|[^\/?#:]*)(?:\:(\d*))?))?([^?#]*)(?:\?([^#]*))?(?:#((?:.|\n|\r)*))?/i,L=void 0==="".match(/(){0}/)[1];function I(e){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},t={},a=!1!==r.iri?n:s;"suffix"===r.reference&&(e=(r.scheme?r.scheme+":":"")+"//"+e);var i=e.match(D);if(i){L?(t.scheme=i[1],t.userinfo=i[3],t.host=i[4],t.port=parseInt(i[5],10),t.path=i[6]||"",t.query=i[7],t.fragment=i[8],isNaN(t.port)&&(t.port=i[5])):(t.scheme=i[1]||void 0,t.userinfo=-1!==e.indexOf("@")?i[3]:void 0,t.host=-1!==e.indexOf("//")?i[4]:void 0,t.port=parseInt(i[5],10),t.path=i[6]||"",t.query=-1!==e.indexOf("?")?i[7]:void 0,t.fragment=-1!==e.indexOf("#")?i[8]:void 0,isNaN(t.port)&&(t.port=e.match(/\/\/(?:.|\n)*\:(?:\/|\?|\#|$)/)?i[4]:void 0)),t.host&&(t.host=R(O(t.host,a),a)),void 0!==t.scheme||void 0!==t.userinfo||void 0!==t.host||void 0!==t.port||t.path||void 0!==t.query?void 0===t.scheme?t.reference="relative":void 0===t.fragment?t.reference="absolute":t.reference="uri":t.reference="same-document",r.reference&&"suffix"!==r.reference&&r.reference!==t.reference&&(t.error=t.error||"URI is not a "+r.reference+" reference.");var o=C[(r.scheme||t.scheme||"").toLowerCase()];if(r.unicodeSupport||o&&o.unicodeSupport)$(t,a);else{if(t.host&&(r.domainHost||o&&o.domainHost))try{t.host=F(t.host.replace(a.PCT_ENCODED,j).toLowerCase())}catch(e){t.error=t.error||"Host's domain name can not be converted to ASCII via punycode: "+e}$(t,s)}o&&o.parse&&o.parse(t,r)}else t.error=t.error||"URI can not be parsed.";return t}var T=/^\.\.?\//,N=/^\/\.(\/|$)/,B=/^\/\.\.(\/|$)/,q=/^\/?(?:.|\n)*?(?=\/|$)/;function z(e){for(var r=[];e.length;)if(e.match(T))e=e.replace(T,"");else if(e.match(N))e=e.replace(N,"/");else if(e.match(B))e=e.replace(B,"/"),r.pop();else if("."===e||".."===e)e="";else{var t=e.match(q);if(!t)throw new Error("Unexpected dot segment condition");var a=t[0];e=e.slice(a.length),r.push(a)}return r.join("")}function V(e){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},t=r.iri?n:s,a=[],i=C[(r.scheme||e.scheme||"").toLowerCase()];if(i&&i.serialize&&i.serialize(e,r),e.host)if(t.IPV6ADDRESS.test(e.host));else if(r.domainHost||i&&i.domainHost)try{e.host=r.iri?k(e.host):F(e.host.replace(t.PCT_ENCODED,j).toLowerCase())}catch(t){e.error=e.error||"Host's domain name can not be converted to "+(r.iri?"Unicode":"ASCII")+" via punycode: "+t}$(e,t),"suffix"!==r.reference&&e.scheme&&(a.push(e.scheme),a.push(":"));var o=function(e,r){var t=!1!==r.iri?n:s,a=[];return void 0!==e.userinfo&&(a.push(e.userinfo),a.push("@")),void 0!==e.host&&a.push(R(O(String(e.host),t),t).replace(t.IPV6ADDRESS,(function(e,r,t){return"["+r+(t?"%25"+t:"")+"]"}))),"number"!=typeof e.port&&"string"!=typeof e.port||(a.push(":"),a.push(String(e.port))),a.length?a.join(""):void 0}(e,r);if(void 0!==o&&("suffix"!==r.reference&&a.push("//"),a.push(o),e.path&&"/"!==e.path.charAt(0)&&a.push("/")),void 0!==e.path){var l=e.path;r.absolutePath||i&&i.absolutePath||(l=z(l)),void 0===o&&(l=l.replace(/^\/\//,"/%2F")),a.push(l)}return void 0!==e.query&&(a.push("?"),a.push(e.query)),void 0!==e.fragment&&(a.push("#"),a.push(e.fragment)),a.join("")}function M(e,r){var t=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},a={};return arguments[3]||(e=I(V(e,t),t),r=I(V(r,t),t)),!(t=t||{}).tolerant&&r.scheme?(a.scheme=r.scheme,a.userinfo=r.userinfo,a.host=r.host,a.port=r.port,a.path=z(r.path||""),a.query=r.query):(void 0!==r.userinfo||void 0!==r.host||void 0!==r.port?(a.userinfo=r.userinfo,a.host=r.host,a.port=r.port,a.path=z(r.path||""),a.query=r.query):(r.path?("/"===r.path.charAt(0)?a.path=z(r.path):(void 0===e.userinfo&&void 0===e.host&&void 0===e.port||e.path?e.path?a.path=e.path.slice(0,e.path.lastIndexOf("/")+1)+r.path:a.path=r.path:a.path="/"+r.path,a.path=z(a.path)),a.query=r.query):(a.path=e.path,void 0!==r.query?a.query=r.query:a.query=e.query),a.userinfo=e.userinfo,a.host=e.host,a.port=e.port),a.scheme=e.scheme),a.fragment=r.fragment,a}function U(e,r){return e&&e.toString().replace(r&&r.iri?n.PCT_ENCODED:s.PCT_ENCODED,j)}var Q={scheme:"http",domainHost:!0,parse:function(e,r){return e.host||(e.error=e.error||"HTTP URIs must have a host."),e},serialize:function(e,r){var t="https"===String(e.scheme).toLowerCase();return e.port!==(t?443:80)&&""!==e.port||(e.port=void 0),e.path||(e.path="/"),e}},H={scheme:"https",domainHost:Q.domainHost,parse:Q.parse,serialize:Q.serialize};function K(e){return"boolean"==typeof e.secure?e.secure:"wss"===String(e.scheme).toLowerCase()}var G={scheme:"ws",domainHost:!0,parse:function(e,r){var t=e;return t.secure=K(t),t.resourceName=(t.path||"/")+(t.query?"?"+t.query:""),t.path=void 0,t.query=void 0,t},serialize:function(e,r){if(e.port!==(K(e)?443:80)&&""!==e.port||(e.port=void 0),"boolean"==typeof e.secure&&(e.scheme=e.secure?"wss":"ws",e.secure=void 0),e.resourceName){var t=e.resourceName.split("?"),a=l(t,2),i=a[0],o=a[1];e.path=i&&"/"!==i?i:void 0,e.query=o,e.resourceName=void 0}return e.fragment=void 0,e}},J={scheme:"wss",domainHost:G.domainHost,parse:G.parse,serialize:G.serialize},W={},Z="[A-Za-z0-9\\-\\.\\_\\~\\xA0-\\u200D\\u2010-\\u2029\\u202F-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFEF]",X="[0-9A-Fa-f]",Y=t(t("%[EFef]"+X+"%"+X+X+"%"+X+X)+"|"+t("%[89A-Fa-f]"+X+"%"+X+X)+"|"+t("%"+X+X)),ee=r("[\\!\\$\\%\\'\\(\\)\\*\\+\\,\\-\\.0-9\\<\\>A-Z\\x5E-\\x7E]",'[\\"\\\\]'),re=new RegExp(Z,"g"),te=new RegExp(Y,"g"),ae=new RegExp(r("[^]","[A-Za-z0-9\\!\\$\\%\\'\\*\\+\\-\\^\\_\\`\\{\\|\\}\\~]","[\\.]",'[\\"]',ee),"g"),ie=new RegExp(r("[^]",Z,"[\\!\\$\\'\\(\\)\\*\\+\\,\\;\\:\\@]"),"g"),oe=ie;function se(e){var r=j(e);return r.match(re)?r:e}var ne={scheme:"mailto",parse:function(e,r){var t=e,a=t.to=t.path?t.path.split(","):[];if(t.path=void 0,t.query){for(var i=!1,o={},s=t.query.split("&"),n=0,l=s.length;n<l;++n){var c=s[n].split("=");switch(c[0]){case"to":for(var u=c[1].split(","),d=0,h=u.length;d<h;++d)a.push(u[d]);break;case"subject":t.subject=U(c[1],r);break;case"body":t.body=U(c[1],r);break;default:i=!0,o[U(c[0],r)]=U(c[1],r)}}i&&(t.headers=o)}t.query=void 0;for(var p=0,f=a.length;p<f;++p){var m=a[p].split("@");if(m[0]=U(m[0]),r.unicodeSupport)m[1]=U(m[1],r).toLowerCase();else try{m[1]=F(U(m[1],r).toLowerCase())}catch(e){t.error=t.error||"Email address's domain name can not be converted to ASCII via punycode: "+e}a[p]=m.join("@")}return t},serialize:function(e,r){var t=e,a=function(e){return null!=e?e instanceof Array?e:"number"!=typeof e.length||e.split||e.setInterval||e.call?[e]:Array.prototype.slice.call(e):[]}(e.to);if(a){for(var o=0,s=a.length;o<s;++o){var n=String(a[o]),l=n.lastIndexOf("@"),c=n.slice(0,l).replace(te,se).replace(te,i).replace(ae,A),u=n.slice(l+1);try{u=r.iri?k(u):F(U(u,r).toLowerCase())}catch(e){t.error=t.error||"Email address's domain name can not be converted to "+(r.iri?"Unicode":"ASCII")+" via punycode: "+e}a[o]=c+"@"+u}t.path=a.join(",")}var d=e.headers=e.headers||{};e.subject&&(d.subject=e.subject),e.body&&(d.body=e.body);var h=[];for(var p in d)d[p]!==W[p]&&h.push(p.replace(te,se).replace(te,i).replace(ie,A)+"="+d[p].replace(te,se).replace(te,i).replace(oe,A));return h.length&&(t.query=h.join("&")),t}},le=/^([^\:]+)\:(.*)/,ce={scheme:"urn",parse:function(e,r){var t=e.path&&e.path.match(le),a=e;if(t){var i=r.scheme||a.scheme||"urn",o=t[1].toLowerCase(),s=t[2],n=i+":"+(r.nid||o),l=C[n];a.nid=o,a.nss=s,a.path=void 0,l&&(a=l.parse(a,r))}else a.error=a.error||"URN can not be parsed.";return a},serialize:function(e,r){var t=r.scheme||e.scheme||"urn",a=e.nid,i=t+":"+(r.nid||a),o=C[i];o&&(e=o.serialize(e,r));var s=e,n=e.nss;return s.path=(a||r.nid)+":"+n,s}},ue=/^[0-9A-Fa-f]{8}(?:\-[0-9A-Fa-f]{4}){3}\-[0-9A-Fa-f]{12}$/,de={scheme:"urn:uuid",parse:function(e,r){var t=e;return t.uuid=t.nss,t.nss=void 0,r.tolerant||t.uuid&&t.uuid.match(ue)||(t.error=t.error||"UUID is not valid."),t},serialize:function(e,r){var t=e;return t.nss=(e.uuid||"").toLowerCase(),t}};C[Q.scheme]=Q,C[H.scheme]=H,C[G.scheme]=G,C[J.scheme]=J,C[ne.scheme]=ne,C[ce.scheme]=ce,C[de.scheme]=de,e.SCHEMES=C,e.pctEncChar=A,e.pctDecChars=j,e.parse=I,e.removeDotSegments=z,e.serialize=V,e.resolveComponents=M,e.resolve=function(e,r,t){var a=function(e,r){var t=e;if(r)for(var a in r)t[a]=r[a];return t}({scheme:"null"},t);return V(M(I(e,a),I(r,a),a,!0),a)},e.normalize=function(e,r){return"string"==typeof e?e=V(I(e,r),r):"object"===a(e)&&(e=I(V(e,r),r)),e},e.equal=function(e,r,t){return"string"==typeof e?e=V(I(e,t),t):"object"===a(e)&&(e=V(e,t)),"string"==typeof r?r=V(I(r,t),t):"object"===a(r)&&(r=V(r,t)),e===r},e.escapeComponent=function(e,r){return e&&e.toString().replace(r&&r.iri?n.ESCAPE:s.ESCAPE,A)},e.unescapeComponent=U,Object.defineProperty(e,"__esModule",{value:!0})}(Ma);var Ua=Ma,Qa=function e(r,t){if(r===t)return!0;if(r&&t&&"object"==typeof r&&"object"==typeof t){if(r.constructor!==t.constructor)return!1;var a,i,o;if(Array.isArray(r)){if((a=r.length)!=t.length)return!1;for(i=a;0!=i--;)if(!e(r[i],t[i]))return!1;return!0}if(r.constructor===RegExp)return r.source===t.source&&r.flags===t.flags;if(r.valueOf!==Object.prototype.valueOf)return r.valueOf()===t.valueOf();if(r.toString!==Object.prototype.toString)return r.toString()===t.toString();if((a=(o=Object.keys(r)).length)!==Object.keys(t).length)return!1;for(i=a;0!=i--;)if(!Object.prototype.hasOwnProperty.call(t,o[i]))return!1;for(i=a;0!=i--;){var s=o[i];if(!e(r[s],t[s]))return!1}return!0}return r!=r&&t!=t},Ha={copy:function(e,r){for(var t in r=r||{},e)r[t]=e[t];return r},checkDataType:Ka,checkDataTypes:function(e,r,t){if(1===e.length)return Ka(e[0],r,t,!0);var a="",i=Ja(e);for(var o in i.array&&i.object&&(a=i.null?"(":"(!"+r+" || ",a+="typeof "+r+' !== "object")',delete i.null,delete i.array,delete i.object),i.number&&delete i.integer,i)a+=(a?" && ":"")+Ka(o,r,t,!0);return a},coerceToTypes:function(e,r){if(Array.isArray(r)){for(var t=[],a=0;a<r.length;a++){var i=r[a];(Ga[i]||"array"===e&&"array"===i)&&(t[t.length]=i)}if(t.length)return t}else{if(Ga[r])return[r];if("array"===e&&"array"===r)return["array"]}},toHash:Ja,getProperty:Xa,escapeQuotes:Ya,equal:Qa,ucs2length:function(e){for(var r,t=0,a=e.length,i=0;i<a;)t++,(r=e.charCodeAt(i++))>=55296&&r<=56319&&i<a&&56320==(64512&(r=e.charCodeAt(i)))&&i++;return t},varOccurences:function(e,r){r+="[^0-9]";var t=e.match(new RegExp(r,"g"));return t?t.length:0},varReplace:function(e,r,t){return r+="([^0-9])",t=t.replace(/\$/g,"$$$$"),e.replace(new RegExp(r,"g"),t+"$1")},schemaHasRules:function(e,r){if("boolean"==typeof e)return!e;for(var t in e)if(r[t])return!0},schemaHasRulesExcept:function(e,r,t){if("boolean"==typeof e)return!e&&"not"!=t;for(var a in e)if(a!=t&&r[a])return!0},schemaUnknownRules:function(e,r){if("boolean"!=typeof e)for(var t in e)if(!r[t])return t},toQuotedString:ei,getPathExpr:function(e,r,t,a){return ai(e,t?"'/' + "+r+(a?"":".replace(/~/g, '~0').replace(/\\//g, '~1')"):a?"'[' + "+r+" + ']'":"'[\\'' + "+r+" + '\\']'")},getPath:function(e,r,t){return ai(e,ei(t?"/"+ii(r):Xa(r)))},getData:function(e,r,t){var a,i,o,s;if(""===e)return"rootData";if("/"==e[0]){if(!ri.test(e))throw new Error("Invalid JSON-pointer: "+e);i=e,o="rootData"}else{if(!(s=e.match(ti)))throw new Error("Invalid JSON-pointer: "+e);if(a=+s[1],"#"==(i=s[2])){if(a>=r)throw new Error("Cannot access property/index "+a+" levels up, current level is "+r);return t[r-a]}if(a>r)throw new Error("Cannot access data "+a+" levels up, current level is "+r);if(o="data"+(r-a||""),!i)return o}for(var n=o,l=i.split("/"),c=0;c<l.length;c++){var u=l[c];u&&(n+=" && "+(o+=Xa(oi(u))))}return n},unescapeFragment:function(e){return oi(decodeURIComponent(e))},unescapeJsonPointer:oi,escapeFragment:function(e){return encodeURIComponent(ii(e))},escapeJsonPointer:ii};function Ka(e,r,t,a){var i=a?" !== ":" === ",o=a?" || ":" && ",s=a?"!":"",n=a?"":"!";switch(e){case"null":return r+i+"null";case"array":return s+"Array.isArray("+r+")";case"object":return"("+s+r+o+"typeof "+r+i+'"object"'+o+n+"Array.isArray("+r+"))";case"integer":return"(typeof "+r+i+'"number"'+o+n+"("+r+" % 1)"+o+r+i+r+(t?o+s+"isFinite("+r+")":"")+")";case"number":return"(typeof "+r+i+'"'+e+'"'+(t?o+s+"isFinite("+r+")":"")+")";default:return"typeof "+r+i+'"'+e+'"'}}var Ga=Ja(["string","number","integer","boolean","null"]);function Ja(e){for(var r={},t=0;t<e.length;t++)r[e[t]]=!0;return r}var Wa=/^[a-z$_][a-z$_0-9]*$/i,Za=/'|\\/g;function Xa(e){return"number"==typeof e?"["+e+"]":Wa.test(e)?"."+e:"['"+Ya(e)+"']"}function Ya(e){return e.replace(Za,"\\$&").replace(/\n/g,"\\n").replace(/\r/g,"\\r").replace(/\f/g,"\\f").replace(/\t/g,"\\t")}function ei(e){return"'"+Ya(e)+"'"}var ri=/^\/(?:[^~]|~0|~1)*$/,ti=/^([0-9]+)(#|\/(?:[^~]|~0|~1)*)?$/;function ai(e,r){return'""'==e?r:(e+" + "+r).replace(/([^\\])' \+ '/g,"$1")}function ii(e){return e.replace(/~/g,"~0").replace(/\//g,"~1")}function oi(e){return e.replace(/~1/g,"/").replace(/~0/g,"~")}var si=Ha,ni=function(e){si.copy(e,this)},li={exports:{}},ci=li.exports=function(e,r,t){"function"==typeof r&&(t=r,r={}),ui(r,"function"==typeof(t=r.cb||t)?t:t.pre||function(){},t.post||function(){},e,"",e)};function ui(e,r,t,a,i,o,s,n,l,c){if(a&&"object"==typeof a&&!Array.isArray(a)){for(var u in r(a,i,o,s,n,l,c),a){var d=a[u];if(Array.isArray(d)){if(u in ci.arrayKeywords)for(var h=0;h<d.length;h++)ui(e,r,t,d[h],i+"/"+u+"/"+h,o,i,u,a,h)}else if(u in ci.propsKeywords){if(d&&"object"==typeof d)for(var p in d)ui(e,r,t,d[p],i+"/"+u+"/"+p.replace(/~/g,"~0").replace(/\//g,"~1"),o,i,u,a,p)}else(u in ci.keywords||e.allKeys&&!(u in ci.skipKeywords))&&ui(e,r,t,d,i+"/"+u,o,i,u,a)}t(a,i,o,s,n,l,c)}}ci.keywords={additionalItems:!0,items:!0,contains:!0,additionalProperties:!0,propertyNames:!0,not:!0},ci.arrayKeywords={items:!0,allOf:!0,anyOf:!0,oneOf:!0},ci.propsKeywords={definitions:!0,properties:!0,patternProperties:!0,dependencies:!0},ci.skipKeywords={default:!0,enum:!0,const:!0,required:!0,maximum:!0,minimum:!0,exclusiveMaximum:!0,exclusiveMinimum:!0,multipleOf:!0,maxLength:!0,minLength:!0,pattern:!0,format:!0,maxItems:!0,minItems:!0,uniqueItems:!0,maxProperties:!0,minProperties:!0};var di=li.exports,hi=Ua,pi=Qa,fi=Ha,mi=ni,vi=di,gi=yi;function yi(e,r,t){var a=this._refs[t];if("string"==typeof a){if(!this._refs[a])return yi.call(this,e,r,a);a=this._refs[a]}if((a=a||this._schemas[t])instanceof mi)return xi(a.schema,this._opts.inlineRefs)?a.schema:a.validate||this._compile(a);var i,o,s,n=bi.call(this,r,t);return n&&(i=n.schema,r=n.root,s=n.baseId),i instanceof mi?o=i.validate||e.call(this,i.schema,r,void 0,s):void 0!==i&&(o=xi(i,this._opts.inlineRefs)?i:e.call(this,i,r,void 0,s)),o}function bi(e,r){var t=hi.parse(r),a=Ai(t),i=Ci(this._getId(e.schema));if(0===Object.keys(e.schema).length||a!==i){var o=$i(a),s=this._refs[o];if("string"==typeof s)return wi.call(this,e,s,t);if(s instanceof mi)s.validate||this._compile(s),e=s;else{if(!((s=this._schemas[o])instanceof mi))return;if(s.validate||this._compile(s),o==$i(r))return{schema:s,root:e,baseId:i};e=s}if(!e.schema)return;i=Ci(this._getId(e.schema))}return Si.call(this,t,i,e.schema,e)}function wi(e,r,t){var a=bi.call(this,e,r);if(a){var i=a.schema,o=a.baseId;e=a.root;var s=this._getId(i);return s&&(o=_i(o,s)),Si.call(this,t,o,i,e)}}yi.normalizeId=$i,yi.fullPath=Ci,yi.url=_i,yi.ids=function(e){var r=$i(this._getId(e)),t={"":r},a={"":Ci(r,!1)},i={},o=this;return vi(e,{allKeys:!0},(function(e,r,s,n,l,c,u){if(""!==r){var d=o._getId(e),h=t[n],p=a[n]+"/"+l;if(void 0!==u&&(p+="/"+("number"==typeof u?u:fi.escapeFragment(u))),"string"==typeof d){d=h=$i(h?hi.resolve(h,d):d);var f=o._refs[d];if("string"==typeof f&&(f=o._refs[f]),f&&f.schema){if(!pi(e,f.schema))throw new Error('id "'+d+'" resolves to more than one schema')}else if(d!=$i(p))if("#"==d[0]){if(i[d]&&!pi(e,i[d]))throw new Error('id "'+d+'" resolves to more than one schema');i[d]=e}else o._refs[d]=p}t[r]=h,a[r]=p}})),i},yi.inlineRef=xi,yi.schema=bi;var Pi=fi.toHash(["properties","patternProperties","enum","dependencies","definitions"]);function Si(e,r,t,a){if(e.fragment=e.fragment||"","/"==e.fragment.slice(0,1)){for(var i=e.fragment.split("/"),o=1;o<i.length;o++){var s=i[o];if(s){if(void 0===(t=t[s=fi.unescapeFragment(s)]))break;var n;if(!Pi[s]&&((n=this._getId(t))&&(r=_i(r,n)),t.$ref)){var l=_i(r,t.$ref),c=bi.call(this,a,l);c&&(t=c.schema,a=c.root,r=c.baseId)}}}return void 0!==t&&t!==a.schema?{schema:t,root:a,baseId:r}:void 0}}var Ei=fi.toHash(["type","format","pattern","maxLength","minLength","maxProperties","minProperties","maxItems","minItems","maximum","minimum","uniqueItems","multipleOf","required","enum"]);function xi(e,r){return!1!==r&&(void 0===r||!0===r?Fi(e):r?ki(e)<=r:void 0)}function Fi(e){var r;if(Array.isArray(e)){for(var t=0;t<e.length;t++)if("object"==typeof(r=e[t])&&!Fi(r))return!1}else for(var a in e){if("$ref"==a)return!1;if("object"==typeof(r=e[a])&&!Fi(r))return!1}return!0}function ki(e){var r,t=0;if(Array.isArray(e)){for(var a=0;a<e.length;a++)if("object"==typeof(r=e[a])&&(t+=ki(r)),t==1/0)return 1/0}else for(var i in e){if("$ref"==i)return 1/0;if(Ei[i])t++;else if("object"==typeof(r=e[i])&&(t+=ki(r)+1),t==1/0)return 1/0}return t}function Ci(e,r){return!1!==r&&(e=$i(e)),Ai(hi.parse(e))}function Ai(e){return hi.serialize(e).split("#")[0]+"#"}var ji=/#\/?$/;function $i(e){return e?e.replace(ji,""):""}function _i(e,r){return r=$i(r),hi.resolve(e,r)}var Oi=gi,Ri={Validation:Li((function(e){this.message="validation failed",this.errors=e,this.ajv=this.validation=!0})),MissingRef:Li(Di)};function Di(e,r,t){this.message=t||Di.message(e,r),this.missingRef=Oi.url(e,r),this.missingSchema=Oi.normalizeId(Oi.fullPath(this.missingRef))}function Li(e){return e.prototype=Object.create(Error.prototype),e.prototype.constructor=e,e}Di.message=function(e,r){return"can't resolve reference "+r+" from id "+e};var Ii=function(e,r){r||(r={}),"function"==typeof r&&(r={cmp:r});var t,a="boolean"==typeof r.cycles&&r.cycles,i=r.cmp&&(t=r.cmp,function(e){return function(r,a){var i={key:r,value:e[r]},o={key:a,value:e[a]};return t(i,o)}}),o=[];return function e(r){if(r&&r.toJSON&&"function"==typeof r.toJSON&&(r=r.toJSON()),void 0!==r){if("number"==typeof r)return isFinite(r)?""+r:"null";if("object"!=typeof r)return JSON.stringify(r);var t,s;if(Array.isArray(r)){for(s="[",t=0;t<r.length;t++)t&&(s+=","),s+=e(r[t])||"null";return s+"]"}if(null===r)return"null";if(-1!==o.indexOf(r)){if(a)return JSON.stringify("__cycle__");throw new TypeError("Converting circular structure to JSON")}var n=o.push(r)-1,l=Object.keys(r).sort(i&&i(r));for(s="",t=0;t<l.length;t++){var c=l[t],u=e(r[c]);u&&(s&&(s+=","),s+=JSON.stringify(c)+":"+u)}return o.splice(n,1),"{"+s+"}"}}(e)},Ti=function(e,r,t){var a="",i=!0===e.schema.$async,o=e.util.schemaHasRulesExcept(e.schema,e.RULES.all,"$ref"),s=e.self._getId(e.schema);if(e.opts.strictKeywords){var n=e.util.schemaUnknownRules(e.schema,e.RULES.keywords);if(n){var l="unknown keyword: "+n;if("log"!==e.opts.strictKeywords)throw new Error(l);e.logger.warn(l)}}if(e.isTop&&(a+=" var validate = ",i&&(e.async=!0,a+="async "),a+="function(data, dataPath, parentData, parentDataProperty, rootData) { 'use strict'; ",s&&(e.opts.sourceCode||e.opts.processCode)&&(a+=" /*# sourceURL="+s+" */ ")),"boolean"==typeof e.schema||!o&&!e.schema.$ref){r="false schema";var c=e.level,u=e.dataLevel,d=e.schema[r],h=e.schemaPath+e.util.getProperty(r),p=e.errSchemaPath+"/"+r,f=!e.opts.allErrors,m="data"+(u||""),v="valid"+c;if(!1===e.schema){e.isTop?f=!0:a+=" var "+v+" = false; ",(Q=Q||[]).push(a),a="",!1!==e.createErrors?(a+=" { keyword: 'false schema' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(p)+" , params: {} ",!1!==e.opts.messages&&(a+=" , message: 'boolean schema is false' "),e.opts.verbose&&(a+=" , schema: false , parentSchema: validate.schema"+e.schemaPath+" , data: "+m+" "),a+=" } "):a+=" {} ";var g=a;a=Q.pop(),!e.compositeRule&&f?e.async?a+=" throw new ValidationError(["+g+"]); ":a+=" validate.errors = ["+g+"]; return false; ":a+=" var err = "+g+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; "}else e.isTop?a+=i?" return data; ":" validate.errors = null; return true; ":a+=" var "+v+" = true; ";return e.isTop&&(a+=" }; return validate; "),a}if(e.isTop){var y=e.isTop;if(c=e.level=0,u=e.dataLevel=0,m="data",e.rootId=e.resolve.fullPath(e.self._getId(e.root.schema)),e.baseId=e.baseId||e.rootId,delete e.isTop,e.dataPathArr=[""],void 0!==e.schema.default&&e.opts.useDefaults&&e.opts.strictDefaults){var b="default is ignored in the schema root";if("log"!==e.opts.strictDefaults)throw new Error(b);e.logger.warn(b)}a+=" var vErrors = null; ",a+=" var errors = 0;     ",a+=" if (rootData === undefined) rootData = data; "}else{if(c=e.level,m="data"+((u=e.dataLevel)||""),s&&(e.baseId=e.resolve.url(e.baseId,s)),i&&!e.async)throw new Error("async schema in sync schema");a+=" var errs_"+c+" = errors;"}v="valid"+c,f=!e.opts.allErrors;var w="",P="",S=e.schema.type,E=Array.isArray(S);if(S&&e.opts.nullable&&!0===e.schema.nullable&&(E?-1==S.indexOf("null")&&(S=S.concat("null")):"null"!=S&&(S=[S,"null"],E=!0)),E&&1==S.length&&(S=S[0],E=!1),e.schema.$ref&&o){if("fail"==e.opts.extendRefs)throw new Error('$ref: validation keywords used in schema at path "'+e.errSchemaPath+'" (see option extendRefs)');!0!==e.opts.extendRefs&&(o=!1,e.logger.warn('$ref: keywords ignored in schema at path "'+e.errSchemaPath+'"'))}if(e.schema.$comment&&e.opts.$comment&&(a+=" "+e.RULES.all.$comment.code(e,"$comment")),S){if(e.opts.coerceTypes)var x=e.util.coerceToTypes(e.opts.coerceTypes,S);var F=e.RULES.types[S];if(x||E||!0===F||F&&!Z(F)){h=e.schemaPath+".type",p=e.errSchemaPath+"/type",h=e.schemaPath+".type",p=e.errSchemaPath+"/type";var k=E?"checkDataTypes":"checkDataType";if(a+=" if ("+e.util[k](S,m,e.opts.strictNumbers,!0)+") { ",x){var C="dataType"+c,A="coerced"+c;a+=" var "+C+" = typeof "+m+"; var "+A+" = undefined; ","array"==e.opts.coerceTypes&&(a+=" if ("+C+" == 'object' && Array.isArray("+m+") && "+m+".length == 1) { "+m+" = "+m+"[0]; "+C+" = typeof "+m+"; if ("+e.util.checkDataType(e.schema.type,m,e.opts.strictNumbers)+") "+A+" = "+m+"; } "),a+=" if ("+A+" !== undefined) ; ";var j=x;if(j)for(var $,_=-1,O=j.length-1;_<O;)"string"==($=j[_+=1])?a+=" else if ("+C+" == 'number' || "+C+" == 'boolean') "+A+" = '' + "+m+"; else if ("+m+" === null) "+A+" = ''; ":"number"==$||"integer"==$?(a+=" else if ("+C+" == 'boolean' || "+m+" === null || ("+C+" == 'string' && "+m+" && "+m+" == +"+m+" ","integer"==$&&(a+=" && !("+m+" % 1)"),a+=")) "+A+" = +"+m+"; "):"boolean"==$?a+=" else if ("+m+" === 'false' || "+m+" === 0 || "+m+" === null) "+A+" = false; else if ("+m+" === 'true' || "+m+" === 1) "+A+" = true; ":"null"==$?a+=" else if ("+m+" === '' || "+m+" === 0 || "+m+" === false) "+A+" = null; ":"array"==e.opts.coerceTypes&&"array"==$&&(a+=" else if ("+C+" == 'string' || "+C+" == 'number' || "+C+" == 'boolean' || "+m+" == null) "+A+" = ["+m+"]; ");a+=" else {   ",(Q=Q||[]).push(a),a="",!1!==e.createErrors?(a+=" { keyword: 'type' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(p)+" , params: { type: '",a+=E?""+S.join(","):""+S,a+="' } ",!1!==e.opts.messages&&(a+=" , message: 'should be ",a+=E?""+S.join(","):""+S,a+="' "),e.opts.verbose&&(a+=" , schema: validate.schema"+h+" , parentSchema: validate.schema"+e.schemaPath+" , data: "+m+" "),a+=" } "):a+=" {} ",g=a,a=Q.pop(),!e.compositeRule&&f?e.async?a+=" throw new ValidationError(["+g+"]); ":a+=" validate.errors = ["+g+"]; return false; ":a+=" var err = "+g+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",a+=" } if ("+A+" !== undefined) {  ";var R=u?"data"+(u-1||""):"parentData";a+=" "+m+" = "+A+"; ",u||(a+="if ("+R+" !== undefined)"),a+=" "+R+"["+(u?e.dataPathArr[u]:"parentDataProperty")+"] = "+A+"; } "}else(Q=Q||[]).push(a),a="",!1!==e.createErrors?(a+=" { keyword: 'type' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(p)+" , params: { type: '",a+=E?""+S.join(","):""+S,a+="' } ",!1!==e.opts.messages&&(a+=" , message: 'should be ",a+=E?""+S.join(","):""+S,a+="' "),e.opts.verbose&&(a+=" , schema: validate.schema"+h+" , parentSchema: validate.schema"+e.schemaPath+" , data: "+m+" "),a+=" } "):a+=" {} ",g=a,a=Q.pop(),!e.compositeRule&&f?e.async?a+=" throw new ValidationError(["+g+"]); ":a+=" validate.errors = ["+g+"]; return false; ":a+=" var err = "+g+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ";a+=" } "}}if(e.schema.$ref&&!o)a+=" "+e.RULES.all.$ref.code(e,"$ref")+" ",f&&(a+=" } if (errors === ",a+=y?"0":"errs_"+c,a+=") { ",P+="}");else{var D=e.RULES;if(D)for(var L=-1,I=D.length-1;L<I;)if(Z(F=D[L+=1])){if(F.type&&(a+=" if ("+e.util.checkDataType(F.type,m,e.opts.strictNumbers)+") { "),e.opts.useDefaults)if("object"==F.type&&e.schema.properties){d=e.schema.properties;var T=Object.keys(d);if(T)for(var N,B=-1,q=T.length-1;B<q;)if(void 0!==(M=d[N=T[B+=1]]).default){var z=m+e.util.getProperty(N);if(e.compositeRule){if(e.opts.strictDefaults){if(b="default is ignored for: "+z,"log"!==e.opts.strictDefaults)throw new Error(b);e.logger.warn(b)}}else a+=" if ("+z+" === undefined ","empty"==e.opts.useDefaults&&(a+=" || "+z+" === null || "+z+" === '' "),a+=" ) "+z+" = ","shared"==e.opts.useDefaults?a+=" "+e.useDefault(M.default)+" ":a+=" "+JSON.stringify(M.default)+" ",a+="; "}}else if("array"==F.type&&Array.isArray(e.schema.items)){var V=e.schema.items;if(V){_=-1;for(var M,U=V.length-1;_<U;)if(void 0!==(M=V[_+=1]).default)if(z=m+"["+_+"]",e.compositeRule){if(e.opts.strictDefaults){if(b="default is ignored for: "+z,"log"!==e.opts.strictDefaults)throw new Error(b);e.logger.warn(b)}}else a+=" if ("+z+" === undefined ","empty"==e.opts.useDefaults&&(a+=" || "+z+" === null || "+z+" === '' "),a+=" ) "+z+" = ","shared"==e.opts.useDefaults?a+=" "+e.useDefault(M.default)+" ":a+=" "+JSON.stringify(M.default)+" ",a+="; "}}var Q,H=F.rules;if(H)for(var K,G=-1,J=H.length-1;G<J;)if(X(K=H[G+=1])){var W=K.code(e,K.keyword,F.type);W&&(a+=" "+W+" ",f&&(w+="}"))}if(f&&(a+=" "+w+" ",w=""),F.type&&(a+=" } ",S&&S===F.type&&!x))a+=" else { ",h=e.schemaPath+".type",p=e.errSchemaPath+"/type",(Q=Q||[]).push(a),a="",!1!==e.createErrors?(a+=" { keyword: 'type' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(p)+" , params: { type: '",a+=E?""+S.join(","):""+S,a+="' } ",!1!==e.opts.messages&&(a+=" , message: 'should be ",a+=E?""+S.join(","):""+S,a+="' "),e.opts.verbose&&(a+=" , schema: validate.schema"+h+" , parentSchema: validate.schema"+e.schemaPath+" , data: "+m+" "),a+=" } "):a+=" {} ",g=a,a=Q.pop(),!e.compositeRule&&f?e.async?a+=" throw new ValidationError(["+g+"]); ":a+=" validate.errors = ["+g+"]; return false; ":a+=" var err = "+g+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",a+=" } ";f&&(a+=" if (errors === ",a+=y?"0":"errs_"+c,a+=") { ",P+="}")}}function Z(e){for(var r=e.rules,t=0;t<r.length;t++)if(X(r[t]))return!0}function X(r){return void 0!==e.schema[r.keyword]||r.implements&&function(r){for(var t=r.implements,a=0;a<t.length;a++)if(void 0!==e.schema[t[a]])return!0}(r)}return f&&(a+=" "+P+" "),y?(i?(a+=" if (errors === 0) return data;           ",a+=" else throw new ValidationError(vErrors); "):(a+=" validate.errors = vErrors; ",a+=" return errors === 0;       "),a+=" }; return validate;"):a+=" var "+v+" = errors === errs_"+c+";",a},Ni=gi,Bi=Ha,qi=Ri,zi=Ii,Vi=Ti,Mi=Bi.ucs2length,Ui=Qa,Qi=qi.Validation;function Hi(e,r,t){var a=Gi.call(this,e,r,t);return a>=0?{index:a,compiling:!0}:(a=this._compilations.length,this._compilations[a]={schema:e,root:r,baseId:t},{index:a,compiling:!1})}function Ki(e,r,t){var a=Gi.call(this,e,r,t);a>=0&&this._compilations.splice(a,1)}function Gi(e,r,t){for(var a=0;a<this._compilations.length;a++){var i=this._compilations[a];if(i.schema==e&&i.root==r&&i.baseId==t)return a}return-1}function Ji(e,r){return"var pattern"+e+" = new RegExp("+Bi.toQuotedString(r[e])+");"}function Wi(e){return"var default"+e+" = defaults["+e+"];"}function Zi(e,r){return void 0===r[e]?"":"var refVal"+e+" = refVal["+e+"];"}function Xi(e){return"var customRule"+e+" = customRules["+e+"];"}function Yi(e,r){if(!e.length)return"";for(var t="",a=0;a<e.length;a++)t+=r(a,e);return t}var eo={exports:{}},ro=eo.exports=function(){this._cache={}};ro.prototype.put=function(e,r){this._cache[e]=r},ro.prototype.get=function(e){return this._cache[e]},ro.prototype.del=function(e){delete this._cache[e]},ro.prototype.clear=function(){this._cache={}};var to=eo.exports,ao=Ha,io=/^(\d\d\d\d)-(\d\d)-(\d\d)$/,oo=[0,31,28,31,30,31,30,31,31,30,31,30,31],so=/^(\d\d):(\d\d):(\d\d)(\.\d+)?(z|[+-]\d\d(?::?\d\d)?)?$/i,no=/^(?=.{1,253}\.?$)[a-z0-9](?:[a-z0-9-]{0,61}[a-z0-9])?(?:\.[a-z0-9](?:[-0-9a-z]{0,61}[0-9a-z])?)*\.?$/i,lo=/^(?:[a-z][a-z0-9+\-.]*:)(?:\/?\/(?:(?:[a-z0-9\-._~!$&'()*+,;=:]|%[0-9a-f]{2})*@)?(?:\[(?:(?:(?:(?:[0-9a-f]{1,4}:){6}|::(?:[0-9a-f]{1,4}:){5}|(?:[0-9a-f]{1,4})?::(?:[0-9a-f]{1,4}:){4}|(?:(?:[0-9a-f]{1,4}:){0,1}[0-9a-f]{1,4})?::(?:[0-9a-f]{1,4}:){3}|(?:(?:[0-9a-f]{1,4}:){0,2}[0-9a-f]{1,4})?::(?:[0-9a-f]{1,4}:){2}|(?:(?:[0-9a-f]{1,4}:){0,3}[0-9a-f]{1,4})?::[0-9a-f]{1,4}:|(?:(?:[0-9a-f]{1,4}:){0,4}[0-9a-f]{1,4})?::)(?:[0-9a-f]{1,4}:[0-9a-f]{1,4}|(?:(?:25[0-5]|2[0-4]\d|[01]?\d\d?)\.){3}(?:25[0-5]|2[0-4]\d|[01]?\d\d?))|(?:(?:[0-9a-f]{1,4}:){0,5}[0-9a-f]{1,4})?::[0-9a-f]{1,4}|(?:(?:[0-9a-f]{1,4}:){0,6}[0-9a-f]{1,4})?::)|[Vv][0-9a-f]+\.[a-z0-9\-._~!$&'()*+,;=:]+)\]|(?:(?:25[0-5]|2[0-4]\d|[01]?\d\d?)\.){3}(?:25[0-5]|2[0-4]\d|[01]?\d\d?)|(?:[a-z0-9\-._~!$&'()*+,;=]|%[0-9a-f]{2})*)(?::\d*)?(?:\/(?:[a-z0-9\-._~!$&'()*+,;=:@]|%[0-9a-f]{2})*)*|\/(?:(?:[a-z0-9\-._~!$&'()*+,;=:@]|%[0-9a-f]{2})+(?:\/(?:[a-z0-9\-._~!$&'()*+,;=:@]|%[0-9a-f]{2})*)*)?|(?:[a-z0-9\-._~!$&'()*+,;=:@]|%[0-9a-f]{2})+(?:\/(?:[a-z0-9\-._~!$&'()*+,;=:@]|%[0-9a-f]{2})*)*)(?:\?(?:[a-z0-9\-._~!$&'()*+,;=:@/?]|%[0-9a-f]{2})*)?(?:#(?:[a-z0-9\-._~!$&'()*+,;=:@/?]|%[0-9a-f]{2})*)?$/i,co=/^(?:(?:[^\x00-\x20"'<>%\\^`{|}]|%[0-9a-f]{2})|\{[+#./;?&=,!@|]?(?:[a-z0-9_]|%[0-9a-f]{2})+(?::[1-9][0-9]{0,3}|\*)?(?:,(?:[a-z0-9_]|%[0-9a-f]{2})+(?::[1-9][0-9]{0,3}|\*)?)*\})*$/i,uo=/^(?:(?:http[s\u017F]?|ftp):\/\/)(?:(?:[\0-\x08\x0E-\x1F!-\x9F\xA1-\u167F\u1681-\u1FFF\u200B-\u2027\u202A-\u202E\u2030-\u205E\u2060-\u2FFF\u3001-\uD7FF\uE000-\uFEFE\uFF00-\uFFFF]|[\uD800-\uDBFF][\uDC00-\uDFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF])+(?::(?:[\0-\x08\x0E-\x1F!-\x9F\xA1-\u167F\u1681-\u1FFF\u200B-\u2027\u202A-\u202E\u2030-\u205E\u2060-\u2FFF\u3001-\uD7FF\uE000-\uFEFE\uFF00-\uFFFF]|[\uD800-\uDBFF][\uDC00-\uDFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF])*)?@)?(?:(?!10(?:\.[0-9]{1,3}){3})(?!127(?:\.[0-9]{1,3}){3})(?!169\.254(?:\.[0-9]{1,3}){2})(?!192\.168(?:\.[0-9]{1,3}){2})(?!172\.(?:1[6-9]|2[0-9]|3[01])(?:\.[0-9]{1,3}){2})(?:[1-9][0-9]?|1[0-9][0-9]|2[01][0-9]|22[0-3])(?:\.(?:1?[0-9]{1,2}|2[0-4][0-9]|25[0-5])){2}(?:\.(?:[1-9][0-9]?|1[0-9][0-9]|2[0-4][0-9]|25[0-4]))|(?:(?:(?:[0-9a-z\xA1-\uD7FF\uE000-\uFFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF])+-)*(?:[0-9a-z\xA1-\uD7FF\uE000-\uFFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF])+)(?:\.(?:(?:[0-9a-z\xA1-\uD7FF\uE000-\uFFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF])+-)*(?:[0-9a-z\xA1-\uD7FF\uE000-\uFFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF])+)*(?:\.(?:(?:[a-z\xA1-\uD7FF\uE000-\uFFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF]){2,})))(?::[0-9]{2,5})?(?:\/(?:[\0-\x08\x0E-\x1F!-\x9F\xA1-\u167F\u1681-\u1FFF\u200B-\u2027\u202A-\u202E\u2030-\u205E\u2060-\u2FFF\u3001-\uD7FF\uE000-\uFEFE\uFF00-\uFFFF]|[\uD800-\uDBFF][\uDC00-\uDFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF])*)?$/i,ho=/^(?:urn:uuid:)?[0-9a-f]{8}-(?:[0-9a-f]{4}-){3}[0-9a-f]{12}$/i,po=/^(?:\/(?:[^~/]|~0|~1)*)*$/,fo=/^#(?:\/(?:[a-z0-9_\-.!$&'()*+,;:=@]|%[0-9a-f]{2}|~0|~1)*)*$/i,mo=/^(?:0|[1-9][0-9]*)(?:#|(?:\/(?:[^~/]|~0|~1)*)*)$/,vo=go;function go(e){return e="full"==e?"full":"fast",ao.copy(go[e])}function yo(e){var r=e.match(io);if(!r)return!1;var t=+r[1],a=+r[2],i=+r[3];return a>=1&&a<=12&&i>=1&&i<=(2==a&&function(e){return e%4==0&&(e%100!=0||e%400==0)}(t)?29:oo[a])}function bo(e,r){var t=e.match(so);if(!t)return!1;var a=t[1],i=t[2],o=t[3],s=t[5];return(a<=23&&i<=59&&o<=59||23==a&&59==i&&60==o)&&(!r||s)}go.fast={date:/^\d\d\d\d-[0-1]\d-[0-3]\d$/,time:/^(?:[0-2]\d:[0-5]\d:[0-5]\d|23:59:60)(?:\.\d+)?(?:z|[+-]\d\d(?::?\d\d)?)?$/i,"date-time":/^\d\d\d\d-[0-1]\d-[0-3]\d[t\s](?:[0-2]\d:[0-5]\d:[0-5]\d|23:59:60)(?:\.\d+)?(?:z|[+-]\d\d(?::?\d\d)?)$/i,uri:/^(?:[a-z][a-z0-9+\-.]*:)(?:\/?\/)?[^\s]*$/i,"uri-reference":/^(?:(?:[a-z][a-z0-9+\-.]*:)?\/?\/)?(?:[^\\\s#][^\s#]*)?(?:#[^\\\s]*)?$/i,"uri-template":co,url:uo,email:/^[a-z0-9.!#$%&'*+/=?^_`{|}~-]+@[a-z0-9](?:[a-z0-9-]{0,61}[a-z0-9])?(?:\.[a-z0-9](?:[a-z0-9-]{0,61}[a-z0-9])?)*$/i,hostname:no,ipv4:/^(?:(?:25[0-5]|2[0-4]\d|[01]?\d\d?)\.){3}(?:25[0-5]|2[0-4]\d|[01]?\d\d?)$/,ipv6:/^\s*(?:(?:(?:[0-9a-f]{1,4}:){7}(?:[0-9a-f]{1,4}|:))|(?:(?:[0-9a-f]{1,4}:){6}(?::[0-9a-f]{1,4}|(?:(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(?:\.(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3})|:))|(?:(?:[0-9a-f]{1,4}:){5}(?:(?:(?::[0-9a-f]{1,4}){1,2})|:(?:(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(?:\.(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3})|:))|(?:(?:[0-9a-f]{1,4}:){4}(?:(?:(?::[0-9a-f]{1,4}){1,3})|(?:(?::[0-9a-f]{1,4})?:(?:(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(?:\.(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(?:(?:[0-9a-f]{1,4}:){3}(?:(?:(?::[0-9a-f]{1,4}){1,4})|(?:(?::[0-9a-f]{1,4}){0,2}:(?:(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(?:\.(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(?:(?:[0-9a-f]{1,4}:){2}(?:(?:(?::[0-9a-f]{1,4}){1,5})|(?:(?::[0-9a-f]{1,4}){0,3}:(?:(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(?:\.(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(?:(?:[0-9a-f]{1,4}:){1}(?:(?:(?::[0-9a-f]{1,4}){1,6})|(?:(?::[0-9a-f]{1,4}){0,4}:(?:(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(?:\.(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(?::(?:(?:(?::[0-9a-f]{1,4}){1,7})|(?:(?::[0-9a-f]{1,4}){0,5}:(?:(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(?:\.(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:)))(?:%.+)?\s*$/i,regex:Eo,uuid:ho,"json-pointer":po,"json-pointer-uri-fragment":fo,"relative-json-pointer":mo},go.full={date:yo,time:bo,"date-time":function(e){var r=e.split(wo);return 2==r.length&&yo(r[0])&&bo(r[1],!0)},uri:function(e){return Po.test(e)&&lo.test(e)},"uri-reference":/^(?:[a-z][a-z0-9+\-.]*:)?(?:\/?\/(?:(?:[a-z0-9\-._~!$&'()*+,;=:]|%[0-9a-f]{2})*@)?(?:\[(?:(?:(?:(?:[0-9a-f]{1,4}:){6}|::(?:[0-9a-f]{1,4}:){5}|(?:[0-9a-f]{1,4})?::(?:[0-9a-f]{1,4}:){4}|(?:(?:[0-9a-f]{1,4}:){0,1}[0-9a-f]{1,4})?::(?:[0-9a-f]{1,4}:){3}|(?:(?:[0-9a-f]{1,4}:){0,2}[0-9a-f]{1,4})?::(?:[0-9a-f]{1,4}:){2}|(?:(?:[0-9a-f]{1,4}:){0,3}[0-9a-f]{1,4})?::[0-9a-f]{1,4}:|(?:(?:[0-9a-f]{1,4}:){0,4}[0-9a-f]{1,4})?::)(?:[0-9a-f]{1,4}:[0-9a-f]{1,4}|(?:(?:25[0-5]|2[0-4]\d|[01]?\d\d?)\.){3}(?:25[0-5]|2[0-4]\d|[01]?\d\d?))|(?:(?:[0-9a-f]{1,4}:){0,5}[0-9a-f]{1,4})?::[0-9a-f]{1,4}|(?:(?:[0-9a-f]{1,4}:){0,6}[0-9a-f]{1,4})?::)|[Vv][0-9a-f]+\.[a-z0-9\-._~!$&'()*+,;=:]+)\]|(?:(?:25[0-5]|2[0-4]\d|[01]?\d\d?)\.){3}(?:25[0-5]|2[0-4]\d|[01]?\d\d?)|(?:[a-z0-9\-._~!$&'"()*+,;=]|%[0-9a-f]{2})*)(?::\d*)?(?:\/(?:[a-z0-9\-._~!$&'"()*+,;=:@]|%[0-9a-f]{2})*)*|\/(?:(?:[a-z0-9\-._~!$&'"()*+,;=:@]|%[0-9a-f]{2})+(?:\/(?:[a-z0-9\-._~!$&'"()*+,;=:@]|%[0-9a-f]{2})*)*)?|(?:[a-z0-9\-._~!$&'"()*+,;=:@]|%[0-9a-f]{2})+(?:\/(?:[a-z0-9\-._~!$&'"()*+,;=:@]|%[0-9a-f]{2})*)*)?(?:\?(?:[a-z0-9\-._~!$&'"()*+,;=:@/?]|%[0-9a-f]{2})*)?(?:#(?:[a-z0-9\-._~!$&'"()*+,;=:@/?]|%[0-9a-f]{2})*)?$/i,"uri-template":co,url:uo,email:/^[a-z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-z0-9!#$%&'*+/=?^_`{|}~-]+)*@(?:[a-z0-9](?:[a-z0-9-]*[a-z0-9])?\.)+[a-z0-9](?:[a-z0-9-]*[a-z0-9])?$/i,hostname:no,ipv4:/^(?:(?:25[0-5]|2[0-4]\d|[01]?\d\d?)\.){3}(?:25[0-5]|2[0-4]\d|[01]?\d\d?)$/,ipv6:/^\s*(?:(?:(?:[0-9a-f]{1,4}:){7}(?:[0-9a-f]{1,4}|:))|(?:(?:[0-9a-f]{1,4}:){6}(?::[0-9a-f]{1,4}|(?:(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(?:\.(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3})|:))|(?:(?:[0-9a-f]{1,4}:){5}(?:(?:(?::[0-9a-f]{1,4}){1,2})|:(?:(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(?:\.(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3})|:))|(?:(?:[0-9a-f]{1,4}:){4}(?:(?:(?::[0-9a-f]{1,4}){1,3})|(?:(?::[0-9a-f]{1,4})?:(?:(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(?:\.(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(?:(?:[0-9a-f]{1,4}:){3}(?:(?:(?::[0-9a-f]{1,4}){1,4})|(?:(?::[0-9a-f]{1,4}){0,2}:(?:(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(?:\.(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(?:(?:[0-9a-f]{1,4}:){2}(?:(?:(?::[0-9a-f]{1,4}){1,5})|(?:(?::[0-9a-f]{1,4}){0,3}:(?:(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(?:\.(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(?:(?:[0-9a-f]{1,4}:){1}(?:(?:(?::[0-9a-f]{1,4}){1,6})|(?:(?::[0-9a-f]{1,4}){0,4}:(?:(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(?:\.(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(?::(?:(?:(?::[0-9a-f]{1,4}){1,7})|(?:(?::[0-9a-f]{1,4}){0,5}:(?:(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(?:\.(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:)))(?:%.+)?\s*$/i,regex:Eo,uuid:ho,"json-pointer":po,"json-pointer-uri-fragment":fo,"relative-json-pointer":mo};var wo=/t|\s/i,Po=/\/|:/,So=/[^\\]\\Z/;function Eo(e){if(So.test(e))return!1;try{return!0}catch(e){return!1}}var xo=function(e,r,t){var a,i=" ",o=e.level,s=e.dataLevel,n=e.schema[r],l=e.schemaPath+e.util.getProperty(r),c=e.errSchemaPath+"/"+r,u=!e.opts.allErrors,d="data"+(s||""),h=e.opts.$data&&n&&n.$data;h?(i+=" var schema"+o+" = "+e.util.getData(n.$data,s,e.dataPathArr)+"; ",a="schema"+o):a=n;var p="maximum"==r,f=p?"exclusiveMaximum":"exclusiveMinimum",m=e.schema[f],v=e.opts.$data&&m&&m.$data,g=p?"<":">",y=p?">":"<",b=void 0;if(!h&&"number"!=typeof n&&void 0!==n)throw new Error(r+" must be number");if(!v&&void 0!==m&&"number"!=typeof m&&"boolean"!=typeof m)throw new Error(f+" must be number or boolean");if(v){var w,P=e.util.getData(m.$data,s,e.dataPathArr),S="exclusive"+o,E="exclType"+o,x="exclIsNumber"+o,F="' + "+(C="op"+o)+" + '";i+=" var schemaExcl"+o+" = "+P+"; ",i+=" var "+S+"; var "+E+" = typeof "+(P="schemaExcl"+o)+"; if ("+E+" != 'boolean' && "+E+" != 'undefined' && "+E+" != 'number') { ",b=f,(w=w||[]).push(i),i="",!1!==e.createErrors?(i+=" { keyword: '"+(b||"_exclusiveLimit")+"' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(c)+" , params: {} ",!1!==e.opts.messages&&(i+=" , message: '"+f+" should be boolean' "),e.opts.verbose&&(i+=" , schema: validate.schema"+l+" , parentSchema: validate.schema"+e.schemaPath+" , data: "+d+" "),i+=" } "):i+=" {} ";var k=i;i=w.pop(),!e.compositeRule&&u?e.async?i+=" throw new ValidationError(["+k+"]); ":i+=" validate.errors = ["+k+"]; return false; ":i+=" var err = "+k+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",i+=" } else if ( ",h&&(i+=" ("+a+" !== undefined && typeof "+a+" != 'number') || "),i+=" "+E+" == 'number' ? ( ("+S+" = "+a+" === undefined || "+P+" "+g+"= "+a+") ? "+d+" "+y+"= "+P+" : "+d+" "+y+" "+a+" ) : ( ("+S+" = "+P+" === true) ? "+d+" "+y+"= "+a+" : "+d+" "+y+" "+a+" ) || "+d+" !== "+d+") { var op"+o+" = "+S+" ? '"+g+"' : '"+g+"='; ",void 0===n&&(b=f,c=e.errSchemaPath+"/"+f,a=P,h=v)}else if(F=g,(x="number"==typeof m)&&h){var C="'"+F+"'";i+=" if ( ",h&&(i+=" ("+a+" !== undefined && typeof "+a+" != 'number') || "),i+=" ( "+a+" === undefined || "+m+" "+g+"= "+a+" ? "+d+" "+y+"= "+m+" : "+d+" "+y+" "+a+" ) || "+d+" !== "+d+") { "}else x&&void 0===n?(S=!0,b=f,c=e.errSchemaPath+"/"+f,a=m,y+="="):(x&&(a=Math[p?"min":"max"](m,n)),m===(!x||a)?(S=!0,b=f,c=e.errSchemaPath+"/"+f,y+="="):(S=!1,F+="=")),C="'"+F+"'",i+=" if ( ",h&&(i+=" ("+a+" !== undefined && typeof "+a+" != 'number') || "),i+=" "+d+" "+y+" "+a+" || "+d+" !== "+d+") { ";return b=b||r,(w=w||[]).push(i),i="",!1!==e.createErrors?(i+=" { keyword: '"+(b||"_limit")+"' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(c)+" , params: { comparison: "+C+", limit: "+a+", exclusive: "+S+" } ",!1!==e.opts.messages&&(i+=" , message: 'should be "+F+" ",i+=h?"' + "+a:a+"'"),e.opts.verbose&&(i+=" , schema:  ",i+=h?"validate.schema"+l:""+n,i+="         , parentSchema: validate.schema"+e.schemaPath+" , data: "+d+" "),i+=" } "):i+=" {} ",k=i,i=w.pop(),!e.compositeRule&&u?e.async?i+=" throw new ValidationError(["+k+"]); ":i+=" validate.errors = ["+k+"]; return false; ":i+=" var err = "+k+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",i+=" } ",u&&(i+=" else { "),i},Fo=function(e,r,t){var a,i=" ",o=e.level,s=e.dataLevel,n=e.schema[r],l=e.schemaPath+e.util.getProperty(r),c=e.errSchemaPath+"/"+r,u=!e.opts.allErrors,d="data"+(s||""),h=e.opts.$data&&n&&n.$data;if(h?(i+=" var schema"+o+" = "+e.util.getData(n.$data,s,e.dataPathArr)+"; ",a="schema"+o):a=n,!h&&"number"!=typeof n)throw new Error(r+" must be number");i+="if ( ",h&&(i+=" ("+a+" !== undefined && typeof "+a+" != 'number') || "),i+=" "+d+".length "+("maxItems"==r?">":"<")+" "+a+") { ";var p=r,f=f||[];f.push(i),i="",!1!==e.createErrors?(i+=" { keyword: '"+(p||"_limitItems")+"' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(c)+" , params: { limit: "+a+" } ",!1!==e.opts.messages&&(i+=" , message: 'should NOT have ",i+="maxItems"==r?"more":"fewer",i+=" than ",i+=h?"' + "+a+" + '":""+n,i+=" items' "),e.opts.verbose&&(i+=" , schema:  ",i+=h?"validate.schema"+l:""+n,i+="         , parentSchema: validate.schema"+e.schemaPath+" , data: "+d+" "),i+=" } "):i+=" {} ";var m=i;return i=f.pop(),!e.compositeRule&&u?e.async?i+=" throw new ValidationError(["+m+"]); ":i+=" validate.errors = ["+m+"]; return false; ":i+=" var err = "+m+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",i+="} ",u&&(i+=" else { "),i},ko=function(e,r,t){var a,i=" ",o=e.level,s=e.dataLevel,n=e.schema[r],l=e.schemaPath+e.util.getProperty(r),c=e.errSchemaPath+"/"+r,u=!e.opts.allErrors,d="data"+(s||""),h=e.opts.$data&&n&&n.$data;if(h?(i+=" var schema"+o+" = "+e.util.getData(n.$data,s,e.dataPathArr)+"; ",a="schema"+o):a=n,!h&&"number"!=typeof n)throw new Error(r+" must be number");var p="maxLength"==r?">":"<";i+="if ( ",h&&(i+=" ("+a+" !== undefined && typeof "+a+" != 'number') || "),!1===e.opts.unicode?i+=" "+d+".length ":i+=" ucs2length("+d+") ",i+=" "+p+" "+a+") { ";var f=r,m=m||[];m.push(i),i="",!1!==e.createErrors?(i+=" { keyword: '"+(f||"_limitLength")+"' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(c)+" , params: { limit: "+a+" } ",!1!==e.opts.messages&&(i+=" , message: 'should NOT be ",i+="maxLength"==r?"longer":"shorter",i+=" than ",i+=h?"' + "+a+" + '":""+n,i+=" characters' "),e.opts.verbose&&(i+=" , schema:  ",i+=h?"validate.schema"+l:""+n,i+="         , parentSchema: validate.schema"+e.schemaPath+" , data: "+d+" "),i+=" } "):i+=" {} ";var v=i;return i=m.pop(),!e.compositeRule&&u?e.async?i+=" throw new ValidationError(["+v+"]); ":i+=" validate.errors = ["+v+"]; return false; ":i+=" var err = "+v+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",i+="} ",u&&(i+=" else { "),i},Co=function(e,r,t){var a,i=" ",o=e.level,s=e.dataLevel,n=e.schema[r],l=e.schemaPath+e.util.getProperty(r),c=e.errSchemaPath+"/"+r,u=!e.opts.allErrors,d="data"+(s||""),h=e.opts.$data&&n&&n.$data;if(h?(i+=" var schema"+o+" = "+e.util.getData(n.$data,s,e.dataPathArr)+"; ",a="schema"+o):a=n,!h&&"number"!=typeof n)throw new Error(r+" must be number");i+="if ( ",h&&(i+=" ("+a+" !== undefined && typeof "+a+" != 'number') || "),i+=" Object.keys("+d+").length "+("maxProperties"==r?">":"<")+" "+a+") { ";var p=r,f=f||[];f.push(i),i="",!1!==e.createErrors?(i+=" { keyword: '"+(p||"_limitProperties")+"' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(c)+" , params: { limit: "+a+" } ",!1!==e.opts.messages&&(i+=" , message: 'should NOT have ",i+="maxProperties"==r?"more":"fewer",i+=" than ",i+=h?"' + "+a+" + '":""+n,i+=" properties' "),e.opts.verbose&&(i+=" , schema:  ",i+=h?"validate.schema"+l:""+n,i+="         , parentSchema: validate.schema"+e.schemaPath+" , data: "+d+" "),i+=" } "):i+=" {} ";var m=i;return i=f.pop(),!e.compositeRule&&u?e.async?i+=" throw new ValidationError(["+m+"]); ":i+=" validate.errors = ["+m+"]; return false; ":i+=" var err = "+m+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",i+="} ",u&&(i+=" else { "),i},Ao={$ref:function(e,r,t){var a,i,o=" ",s=e.level,n=e.dataLevel,l=e.schema[r],c=e.errSchemaPath+"/"+r,u=!e.opts.allErrors,d="data"+(n||""),h="valid"+s;if("#"==l||"#/"==l)e.isRoot?(a=e.async,i="validate"):(a=!0===e.root.schema.$async,i="root.refVal[0]");else{var p=e.resolveRef(e.baseId,l,e.isRoot);if(void 0===p){var f=e.MissingRefError.message(e.baseId,l);if("fail"==e.opts.missingRefs){e.logger.error(f),(y=y||[]).push(o),o="",!1!==e.createErrors?(o+=" { keyword: '$ref' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(c)+" , params: { ref: '"+e.util.escapeQuotes(l)+"' } ",!1!==e.opts.messages&&(o+=" , message: 'can\\'t resolve reference "+e.util.escapeQuotes(l)+"' "),e.opts.verbose&&(o+=" , schema: "+e.util.toQuotedString(l)+" , parentSchema: validate.schema"+e.schemaPath+" , data: "+d+" "),o+=" } "):o+=" {} ";var m=o;o=y.pop(),!e.compositeRule&&u?e.async?o+=" throw new ValidationError(["+m+"]); ":o+=" validate.errors = ["+m+"]; return false; ":o+=" var err = "+m+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",u&&(o+=" if (false) { ")}else{if("ignore"!=e.opts.missingRefs)throw new e.MissingRefError(e.baseId,l,f);e.logger.warn(f),u&&(o+=" if (true) { ")}}else if(p.inline){var v=e.util.copy(e);v.level++;var g="valid"+v.level;v.schema=p.schema,v.schemaPath="",v.errSchemaPath=l,o+=" "+e.validate(v).replace(/validate\.schema/g,p.code)+" ",u&&(o+=" if ("+g+") { ")}else a=!0===p.$async||e.async&&!1!==p.$async,i=p.code}if(i){var y;(y=y||[]).push(o),o="",e.opts.passContext?o+=" "+i+".call(this, ":o+=" "+i+"( ",o+=" "+d+", (dataPath || '')",'""'!=e.errorPath&&(o+=" + "+e.errorPath);var b=o+=" , "+(n?"data"+(n-1||""):"parentData")+" , "+(n?e.dataPathArr[n]:"parentDataProperty")+", rootData)  ";if(o=y.pop(),a){if(!e.async)throw new Error("async schema referenced by sync schema");u&&(o+=" var "+h+"; "),o+=" try { await "+b+"; ",u&&(o+=" "+h+" = true; "),o+=" } catch (e) { if (!(e instanceof ValidationError)) throw e; if (vErrors === null) vErrors = e.errors; else vErrors = vErrors.concat(e.errors); errors = vErrors.length; ",u&&(o+=" "+h+" = false; "),o+=" } ",u&&(o+=" if ("+h+") { ")}else o+=" if (!"+b+") { if (vErrors === null) vErrors = "+i+".errors; else vErrors = vErrors.concat("+i+".errors); errors = vErrors.length; } ",u&&(o+=" else { ")}return o},allOf:function(e,r,t){var a=" ",i=e.schema[r],o=e.schemaPath+e.util.getProperty(r),s=e.errSchemaPath+"/"+r,n=!e.opts.allErrors,l=e.util.copy(e),c="";l.level++;var u="valid"+l.level,d=l.baseId,h=!0,p=i;if(p)for(var f,m=-1,v=p.length-1;m<v;)f=p[m+=1],(e.opts.strictKeywords?"object"==typeof f&&Object.keys(f).length>0||!1===f:e.util.schemaHasRules(f,e.RULES.all))&&(h=!1,l.schema=f,l.schemaPath=o+"["+m+"]",l.errSchemaPath=s+"/"+m,a+="  "+e.validate(l)+" ",l.baseId=d,n&&(a+=" if ("+u+") { ",c+="}"));return n&&(a+=h?" if (true) { ":" "+c.slice(0,-1)+" "),a},anyOf:function(e,r,t){var a=" ",i=e.level,o=e.dataLevel,s=e.schema[r],n=e.schemaPath+e.util.getProperty(r),l=e.errSchemaPath+"/"+r,c=!e.opts.allErrors,u="data"+(o||""),d="valid"+i,h="errs__"+i,p=e.util.copy(e),f="";p.level++;var m="valid"+p.level,v=s.every((function(r){return e.opts.strictKeywords?"object"==typeof r&&Object.keys(r).length>0||!1===r:e.util.schemaHasRules(r,e.RULES.all)}));if(v){var g=p.baseId;a+=" var "+h+" = errors; var "+d+" = false;  ";var y=e.compositeRule;e.compositeRule=p.compositeRule=!0;var b=s;if(b)for(var w,P=-1,S=b.length-1;P<S;)w=b[P+=1],p.schema=w,p.schemaPath=n+"["+P+"]",p.errSchemaPath=l+"/"+P,a+="  "+e.validate(p)+" ",p.baseId=g,a+=" "+d+" = "+d+" || "+m+"; if (!"+d+") { ",f+="}";e.compositeRule=p.compositeRule=y,a+=" "+f+" if (!"+d+") {   var err =   ",!1!==e.createErrors?(a+=" { keyword: 'anyOf' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(l)+" , params: {} ",!1!==e.opts.messages&&(a+=" , message: 'should match some schema in anyOf' "),e.opts.verbose&&(a+=" , schema: validate.schema"+n+" , parentSchema: validate.schema"+e.schemaPath+" , data: "+u+" "),a+=" } "):a+=" {} ",a+=";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",!e.compositeRule&&c&&(e.async?a+=" throw new ValidationError(vErrors); ":a+=" validate.errors = vErrors; return false; "),a+=" } else {  errors = "+h+"; if (vErrors !== null) { if ("+h+") vErrors.length = "+h+"; else vErrors = null; } ",e.opts.allErrors&&(a+=" } ")}else c&&(a+=" if (true) { ");return a},$comment:function(e,r,t){var a=" ",i=e.schema[r],o=e.errSchemaPath+"/"+r,s=e.util.toQuotedString(i);return!0===e.opts.$comment?a+=" console.log("+s+");":"function"==typeof e.opts.$comment&&(a+=" self._opts.$comment("+s+", "+e.util.toQuotedString(o)+", validate.root.schema);"),a},const:function(e,r,t){var a=" ",i=e.level,o=e.dataLevel,s=e.schema[r],n=e.schemaPath+e.util.getProperty(r),l=e.errSchemaPath+"/"+r,c=!e.opts.allErrors,u="data"+(o||""),d="valid"+i,h=e.opts.$data&&s&&s.$data;h&&(a+=" var schema"+i+" = "+e.util.getData(s.$data,o,e.dataPathArr)+"; "),h||(a+=" var schema"+i+" = validate.schema"+n+";"),a+="var "+d+" = equal("+u+", schema"+i+"); if (!"+d+") {   ";var p=p||[];p.push(a),a="",!1!==e.createErrors?(a+=" { keyword: 'const' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(l)+" , params: { allowedValue: schema"+i+" } ",!1!==e.opts.messages&&(a+=" , message: 'should be equal to constant' "),e.opts.verbose&&(a+=" , schema: validate.schema"+n+" , parentSchema: validate.schema"+e.schemaPath+" , data: "+u+" "),a+=" } "):a+=" {} ";var f=a;return a=p.pop(),!e.compositeRule&&c?e.async?a+=" throw new ValidationError(["+f+"]); ":a+=" validate.errors = ["+f+"]; return false; ":a+=" var err = "+f+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",a+=" }",c&&(a+=" else { "),a},contains:function(e,r,t){var a=" ",i=e.level,o=e.dataLevel,s=e.schema[r],n=e.schemaPath+e.util.getProperty(r),l=e.errSchemaPath+"/"+r,c=!e.opts.allErrors,u="data"+(o||""),d="valid"+i,h="errs__"+i,p=e.util.copy(e);p.level++;var f="valid"+p.level,m="i"+i,v=p.dataLevel=e.dataLevel+1,g="data"+v,y=e.baseId,b=e.opts.strictKeywords?"object"==typeof s&&Object.keys(s).length>0||!1===s:e.util.schemaHasRules(s,e.RULES.all);if(a+="var "+h+" = errors;var "+d+";",b){var w=e.compositeRule;e.compositeRule=p.compositeRule=!0,p.schema=s,p.schemaPath=n,p.errSchemaPath=l,a+=" var "+f+" = false; for (var "+m+" = 0; "+m+" < "+u+".length; "+m+"++) { ",p.errorPath=e.util.getPathExpr(e.errorPath,m,e.opts.jsonPointers,!0);var P=u+"["+m+"]";p.dataPathArr[v]=m;var S=e.validate(p);p.baseId=y,e.util.varOccurences(S,g)<2?a+=" "+e.util.varReplace(S,g,P)+" ":a+=" var "+g+" = "+P+"; "+S+" ",a+=" if ("+f+") break; }  ",e.compositeRule=p.compositeRule=w,a+="  if (!"+f+") {"}else a+=" if ("+u+".length == 0) {";var E=E||[];E.push(a),a="",!1!==e.createErrors?(a+=" { keyword: 'contains' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(l)+" , params: {} ",!1!==e.opts.messages&&(a+=" , message: 'should contain a valid item' "),e.opts.verbose&&(a+=" , schema: validate.schema"+n+" , parentSchema: validate.schema"+e.schemaPath+" , data: "+u+" "),a+=" } "):a+=" {} ";var x=a;return a=E.pop(),!e.compositeRule&&c?e.async?a+=" throw new ValidationError(["+x+"]); ":a+=" validate.errors = ["+x+"]; return false; ":a+=" var err = "+x+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",a+=" } else { ",b&&(a+="  errors = "+h+"; if (vErrors !== null) { if ("+h+") vErrors.length = "+h+"; else vErrors = null; } "),e.opts.allErrors&&(a+=" } "),a},dependencies:function(e,r,t){var a=" ",i=e.level,o=e.dataLevel,s=e.schema[r],n=e.schemaPath+e.util.getProperty(r),l=e.errSchemaPath+"/"+r,c=!e.opts.allErrors,u="data"+(o||""),d="errs__"+i,h=e.util.copy(e),p="";h.level++;var f="valid"+h.level,m={},v={},g=e.opts.ownProperties;for(P in s)if("__proto__"!=P){var y=s[P],b=Array.isArray(y)?v:m;b[P]=y}a+="var "+d+" = errors;";var w=e.errorPath;for(var P in a+="var missing"+i+";",v)if((b=v[P]).length){if(a+=" if ( "+u+e.util.getProperty(P)+" !== undefined ",g&&(a+=" && Object.prototype.hasOwnProperty.call("+u+", '"+e.util.escapeQuotes(P)+"') "),c){a+=" && ( ";var S=b;if(S)for(var E=-1,x=S.length-1;E<x;)$=S[E+=1],E&&(a+=" || "),a+=" ( ( "+(D=u+(R=e.util.getProperty($)))+" === undefined ",g&&(a+=" || ! Object.prototype.hasOwnProperty.call("+u+", '"+e.util.escapeQuotes($)+"') "),a+=") && (missing"+i+" = "+e.util.toQuotedString(e.opts.jsonPointers?$:R)+") ) ";a+=")) {  ";var F="missing"+i,k="' + "+F+" + '";e.opts._errorDataPathProperty&&(e.errorPath=e.opts.jsonPointers?e.util.getPathExpr(w,F,!0):w+" + "+F);var C=C||[];C.push(a),a="",!1!==e.createErrors?(a+=" { keyword: 'dependencies' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(l)+" , params: { property: '"+e.util.escapeQuotes(P)+"', missingProperty: '"+k+"', depsCount: "+b.length+", deps: '"+e.util.escapeQuotes(1==b.length?b[0]:b.join(", "))+"' } ",!1!==e.opts.messages&&(a+=" , message: 'should have ",1==b.length?a+="property "+e.util.escapeQuotes(b[0]):a+="properties "+e.util.escapeQuotes(b.join(", ")),a+=" when property "+e.util.escapeQuotes(P)+" is present' "),e.opts.verbose&&(a+=" , schema: validate.schema"+n+" , parentSchema: validate.schema"+e.schemaPath+" , data: "+u+" "),a+=" } "):a+=" {} ";var A=a;a=C.pop(),!e.compositeRule&&c?e.async?a+=" throw new ValidationError(["+A+"]); ":a+=" validate.errors = ["+A+"]; return false; ":a+=" var err = "+A+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; "}else{a+=" ) { ";var j=b;if(j)for(var $,_=-1,O=j.length-1;_<O;){$=j[_+=1];var R=e.util.getProperty($),D=(k=e.util.escapeQuotes($),u+R);e.opts._errorDataPathProperty&&(e.errorPath=e.util.getPath(w,$,e.opts.jsonPointers)),a+=" if ( "+D+" === undefined ",g&&(a+=" || ! Object.prototype.hasOwnProperty.call("+u+", '"+e.util.escapeQuotes($)+"') "),a+=") {  var err =   ",!1!==e.createErrors?(a+=" { keyword: 'dependencies' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(l)+" , params: { property: '"+e.util.escapeQuotes(P)+"', missingProperty: '"+k+"', depsCount: "+b.length+", deps: '"+e.util.escapeQuotes(1==b.length?b[0]:b.join(", "))+"' } ",!1!==e.opts.messages&&(a+=" , message: 'should have ",1==b.length?a+="property "+e.util.escapeQuotes(b[0]):a+="properties "+e.util.escapeQuotes(b.join(", ")),a+=" when property "+e.util.escapeQuotes(P)+" is present' "),e.opts.verbose&&(a+=" , schema: validate.schema"+n+" , parentSchema: validate.schema"+e.schemaPath+" , data: "+u+" "),a+=" } "):a+=" {} ",a+=";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; } "}}a+=" }   ",c&&(p+="}",a+=" else { ")}e.errorPath=w;var L=h.baseId;for(var P in m)y=m[P],(e.opts.strictKeywords?"object"==typeof y&&Object.keys(y).length>0||!1===y:e.util.schemaHasRules(y,e.RULES.all))&&(a+=" "+f+" = true; if ( "+u+e.util.getProperty(P)+" !== undefined ",g&&(a+=" && Object.prototype.hasOwnProperty.call("+u+", '"+e.util.escapeQuotes(P)+"') "),a+=") { ",h.schema=y,h.schemaPath=n+e.util.getProperty(P),h.errSchemaPath=l+"/"+e.util.escapeFragment(P),a+="  "+e.validate(h)+" ",h.baseId=L,a+=" }  ",c&&(a+=" if ("+f+") { ",p+="}"));return c&&(a+="   "+p+" if ("+d+" == errors) {"),a},enum:function(e,r,t){var a=" ",i=e.level,o=e.dataLevel,s=e.schema[r],n=e.schemaPath+e.util.getProperty(r),l=e.errSchemaPath+"/"+r,c=!e.opts.allErrors,u="data"+(o||""),d="valid"+i,h=e.opts.$data&&s&&s.$data;h&&(a+=" var schema"+i+" = "+e.util.getData(s.$data,o,e.dataPathArr)+"; ");var p="i"+i,f="schema"+i;h||(a+=" var "+f+" = validate.schema"+n+";"),a+="var "+d+";",h&&(a+=" if (schema"+i+" === undefined) "+d+" = true; else if (!Array.isArray(schema"+i+")) "+d+" = false; else {"),a+=d+" = false;for (var "+p+"=0; "+p+"<"+f+".length; "+p+"++) if (equal("+u+", "+f+"["+p+"])) { "+d+" = true; break; }",h&&(a+="  }  "),a+=" if (!"+d+") {   ";var m=m||[];m.push(a),a="",!1!==e.createErrors?(a+=" { keyword: 'enum' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(l)+" , params: { allowedValues: schema"+i+" } ",!1!==e.opts.messages&&(a+=" , message: 'should be equal to one of the allowed values' "),e.opts.verbose&&(a+=" , schema: validate.schema"+n+" , parentSchema: validate.schema"+e.schemaPath+" , data: "+u+" "),a+=" } "):a+=" {} ";var v=a;return a=m.pop(),!e.compositeRule&&c?e.async?a+=" throw new ValidationError(["+v+"]); ":a+=" validate.errors = ["+v+"]; return false; ":a+=" var err = "+v+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",a+=" }",c&&(a+=" else { "),a},format:function(e,r,t){var a=" ",i=e.level,o=e.dataLevel,s=e.schema[r],n=e.schemaPath+e.util.getProperty(r),l=e.errSchemaPath+"/"+r,c=!e.opts.allErrors,u="data"+(o||"");if(!1===e.opts.format)return c&&(a+=" if (true) { "),a;var d,h=e.opts.$data&&s&&s.$data;h?(a+=" var schema"+i+" = "+e.util.getData(s.$data,o,e.dataPathArr)+"; ",d="schema"+i):d=s;var p=e.opts.unknownFormats,f=Array.isArray(p);if(h)a+=" var "+(m="format"+i)+" = formats["+d+"]; var "+(v="isObject"+i)+" = typeof "+m+" == 'object' && !("+m+" instanceof RegExp) && "+m+".validate; var "+(g="formatType"+i)+" = "+v+" && "+m+".type || 'string'; if ("+v+") { ",e.async&&(a+=" var async"+i+" = "+m+".async; "),a+=" "+m+" = "+m+".validate; } if (  ",h&&(a+=" ("+d+" !== undefined && typeof "+d+" != 'string') || "),a+=" (","ignore"!=p&&(a+=" ("+d+" && !"+m+" ",f&&(a+=" && self._opts.unknownFormats.indexOf("+d+") == -1 "),a+=") || "),a+=" ("+m+" && "+g+" == '"+t+"' && !(typeof "+m+" == 'function' ? ",e.async?a+=" (async"+i+" ? await "+m+"("+u+") : "+m+"("+u+")) ":a+=" "+m+"("+u+") ",a+=" : "+m+".test("+u+"))))) {";else{var m;if(!(m=e.formats[s])){if("ignore"==p)return e.logger.warn('unknown format "'+s+'" ignored in schema at path "'+e.errSchemaPath+'"'),c&&(a+=" if (true) { "),a;if(f&&p.indexOf(s)>=0)return c&&(a+=" if (true) { "),a;throw new Error('unknown format "'+s+'" is used in schema at path "'+e.errSchemaPath+'"')}var v,g=(v="object"==typeof m&&!(m instanceof RegExp)&&m.validate)&&m.type||"string";if(v){var y=!0===m.async;m=m.validate}if(g!=t)return c&&(a+=" if (true) { "),a;if(y){if(!e.async)throw new Error("async format in sync schema");a+=" if (!(await "+(b="formats"+e.util.getProperty(s)+".validate")+"("+u+"))) { "}else{a+=" if (! ";var b="formats"+e.util.getProperty(s);v&&(b+=".validate"),a+="function"==typeof m?" "+b+"("+u+") ":" "+b+".test("+u+") ",a+=") { "}}var w=w||[];w.push(a),a="",!1!==e.createErrors?(a+=" { keyword: 'format' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(l)+" , params: { format:  ",a+=h?""+d:""+e.util.toQuotedString(s),a+="  } ",!1!==e.opts.messages&&(a+=" , message: 'should match format \"",a+=h?"' + "+d+" + '":""+e.util.escapeQuotes(s),a+="\"' "),e.opts.verbose&&(a+=" , schema:  ",a+=h?"validate.schema"+n:""+e.util.toQuotedString(s),a+="         , parentSchema: validate.schema"+e.schemaPath+" , data: "+u+" "),a+=" } "):a+=" {} ";var P=a;return a=w.pop(),!e.compositeRule&&c?e.async?a+=" throw new ValidationError(["+P+"]); ":a+=" validate.errors = ["+P+"]; return false; ":a+=" var err = "+P+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",a+=" } ",c&&(a+=" else { "),a},if:function(e,r,t){var a=" ",i=e.level,o=e.dataLevel,s=e.schema[r],n=e.schemaPath+e.util.getProperty(r),l=e.errSchemaPath+"/"+r,c=!e.opts.allErrors,u="data"+(o||""),d="valid"+i,h="errs__"+i,p=e.util.copy(e);p.level++;var f="valid"+p.level,m=e.schema.then,v=e.schema.else,g=void 0!==m&&(e.opts.strictKeywords?"object"==typeof m&&Object.keys(m).length>0||!1===m:e.util.schemaHasRules(m,e.RULES.all)),y=void 0!==v&&(e.opts.strictKeywords?"object"==typeof v&&Object.keys(v).length>0||!1===v:e.util.schemaHasRules(v,e.RULES.all)),b=p.baseId;if(g||y){var w;p.createErrors=!1,p.schema=s,p.schemaPath=n,p.errSchemaPath=l,a+=" var "+h+" = errors; var "+d+" = true;  ";var P=e.compositeRule;e.compositeRule=p.compositeRule=!0,a+="  "+e.validate(p)+" ",p.baseId=b,p.createErrors=!0,a+="  errors = "+h+"; if (vErrors !== null) { if ("+h+") vErrors.length = "+h+"; else vErrors = null; }  ",e.compositeRule=p.compositeRule=P,g?(a+=" if ("+f+") {  ",p.schema=e.schema.then,p.schemaPath=e.schemaPath+".then",p.errSchemaPath=e.errSchemaPath+"/then",a+="  "+e.validate(p)+" ",p.baseId=b,a+=" "+d+" = "+f+"; ",g&&y?a+=" var "+(w="ifClause"+i)+" = 'then'; ":w="'then'",a+=" } ",y&&(a+=" else { ")):a+=" if (!"+f+") { ",y&&(p.schema=e.schema.else,p.schemaPath=e.schemaPath+".else",p.errSchemaPath=e.errSchemaPath+"/else",a+="  "+e.validate(p)+" ",p.baseId=b,a+=" "+d+" = "+f+"; ",g&&y?a+=" var "+(w="ifClause"+i)+" = 'else'; ":w="'else'",a+=" } "),a+=" if (!"+d+") {   var err =   ",!1!==e.createErrors?(a+=" { keyword: 'if' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(l)+" , params: { failingKeyword: "+w+" } ",!1!==e.opts.messages&&(a+=" , message: 'should match \"' + "+w+" + '\" schema' "),e.opts.verbose&&(a+=" , schema: validate.schema"+n+" , parentSchema: validate.schema"+e.schemaPath+" , data: "+u+" "),a+=" } "):a+=" {} ",a+=";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",!e.compositeRule&&c&&(e.async?a+=" throw new ValidationError(vErrors); ":a+=" validate.errors = vErrors; return false; "),a+=" }   ",c&&(a+=" else { ")}else c&&(a+=" if (true) { ");return a},items:function(e,r,t){var a=" ",i=e.level,o=e.dataLevel,s=e.schema[r],n=e.schemaPath+e.util.getProperty(r),l=e.errSchemaPath+"/"+r,c=!e.opts.allErrors,u="data"+(o||""),d="valid"+i,h="errs__"+i,p=e.util.copy(e),f="";p.level++;var m="valid"+p.level,v="i"+i,g=p.dataLevel=e.dataLevel+1,y="data"+g,b=e.baseId;if(a+="var "+h+" = errors;var "+d+";",Array.isArray(s)){var w=e.schema.additionalItems;if(!1===w){a+=" "+d+" = "+u+".length <= "+s.length+"; ";var P=l;l=e.errSchemaPath+"/additionalItems",a+="  if (!"+d+") {   ";var S=S||[];S.push(a),a="",!1!==e.createErrors?(a+=" { keyword: 'additionalItems' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(l)+" , params: { limit: "+s.length+" } ",!1!==e.opts.messages&&(a+=" , message: 'should NOT have more than "+s.length+" items' "),e.opts.verbose&&(a+=" , schema: false , parentSchema: validate.schema"+e.schemaPath+" , data: "+u+" "),a+=" } "):a+=" {} ";var E=a;a=S.pop(),!e.compositeRule&&c?e.async?a+=" throw new ValidationError(["+E+"]); ":a+=" validate.errors = ["+E+"]; return false; ":a+=" var err = "+E+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",a+=" } ",l=P,c&&(f+="}",a+=" else { ")}var x=s;if(x)for(var F,k=-1,C=x.length-1;k<C;)if(F=x[k+=1],e.opts.strictKeywords?"object"==typeof F&&Object.keys(F).length>0||!1===F:e.util.schemaHasRules(F,e.RULES.all)){a+=" "+m+" = true; if ("+u+".length > "+k+") { ";var A=u+"["+k+"]";p.schema=F,p.schemaPath=n+"["+k+"]",p.errSchemaPath=l+"/"+k,p.errorPath=e.util.getPathExpr(e.errorPath,k,e.opts.jsonPointers,!0),p.dataPathArr[g]=k;var j=e.validate(p);p.baseId=b,e.util.varOccurences(j,y)<2?a+=" "+e.util.varReplace(j,y,A)+" ":a+=" var "+y+" = "+A+"; "+j+" ",a+=" }  ",c&&(a+=" if ("+m+") { ",f+="}")}"object"==typeof w&&(e.opts.strictKeywords?"object"==typeof w&&Object.keys(w).length>0||!1===w:e.util.schemaHasRules(w,e.RULES.all))&&(p.schema=w,p.schemaPath=e.schemaPath+".additionalItems",p.errSchemaPath=e.errSchemaPath+"/additionalItems",a+=" "+m+" = true; if ("+u+".length > "+s.length+") {  for (var "+v+" = "+s.length+"; "+v+" < "+u+".length; "+v+"++) { ",p.errorPath=e.util.getPathExpr(e.errorPath,v,e.opts.jsonPointers,!0),A=u+"["+v+"]",p.dataPathArr[g]=v,j=e.validate(p),p.baseId=b,e.util.varOccurences(j,y)<2?a+=" "+e.util.varReplace(j,y,A)+" ":a+=" var "+y+" = "+A+"; "+j+" ",c&&(a+=" if (!"+m+") break; "),a+=" } }  ",c&&(a+=" if ("+m+") { ",f+="}"))}else(e.opts.strictKeywords?"object"==typeof s&&Object.keys(s).length>0||!1===s:e.util.schemaHasRules(s,e.RULES.all))&&(p.schema=s,p.schemaPath=n,p.errSchemaPath=l,a+="  for (var "+v+" = 0; "+v+" < "+u+".length; "+v+"++) { ",p.errorPath=e.util.getPathExpr(e.errorPath,v,e.opts.jsonPointers,!0),A=u+"["+v+"]",p.dataPathArr[g]=v,j=e.validate(p),p.baseId=b,e.util.varOccurences(j,y)<2?a+=" "+e.util.varReplace(j,y,A)+" ":a+=" var "+y+" = "+A+"; "+j+" ",c&&(a+=" if (!"+m+") break; "),a+=" }");return c&&(a+=" "+f+" if ("+h+" == errors) {"),a},maximum:xo,minimum:xo,maxItems:Fo,minItems:Fo,maxLength:ko,minLength:ko,maxProperties:Co,minProperties:Co,multipleOf:function(e,r,t){var a,i=" ",o=e.level,s=e.dataLevel,n=e.schema[r],l=e.schemaPath+e.util.getProperty(r),c=e.errSchemaPath+"/"+r,u=!e.opts.allErrors,d="data"+(s||""),h=e.opts.$data&&n&&n.$data;if(h?(i+=" var schema"+o+" = "+e.util.getData(n.$data,s,e.dataPathArr)+"; ",a="schema"+o):a=n,!h&&"number"!=typeof n)throw new Error(r+" must be number");i+="var division"+o+";if (",h&&(i+=" "+a+" !== undefined && ( typeof "+a+" != 'number' || "),i+=" (division"+o+" = "+d+" / "+a+", ",e.opts.multipleOfPrecision?i+=" Math.abs(Math.round(division"+o+") - division"+o+") > 1e-"+e.opts.multipleOfPrecision+" ":i+=" division"+o+" !== parseInt(division"+o+") ",i+=" ) ",h&&(i+="  )  "),i+=" ) {   ";var p=p||[];p.push(i),i="",!1!==e.createErrors?(i+=" { keyword: 'multipleOf' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(c)+" , params: { multipleOf: "+a+" } ",!1!==e.opts.messages&&(i+=" , message: 'should be multiple of ",i+=h?"' + "+a:a+"'"),e.opts.verbose&&(i+=" , schema:  ",i+=h?"validate.schema"+l:""+n,i+="         , parentSchema: validate.schema"+e.schemaPath+" , data: "+d+" "),i+=" } "):i+=" {} ";var f=i;return i=p.pop(),!e.compositeRule&&u?e.async?i+=" throw new ValidationError(["+f+"]); ":i+=" validate.errors = ["+f+"]; return false; ":i+=" var err = "+f+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",i+="} ",u&&(i+=" else { "),i},not:function(e,r,t){var a=" ",i=e.level,o=e.dataLevel,s=e.schema[r],n=e.schemaPath+e.util.getProperty(r),l=e.errSchemaPath+"/"+r,c=!e.opts.allErrors,u="data"+(o||""),d="errs__"+i,h=e.util.copy(e);h.level++;var p="valid"+h.level;if(e.opts.strictKeywords?"object"==typeof s&&Object.keys(s).length>0||!1===s:e.util.schemaHasRules(s,e.RULES.all)){h.schema=s,h.schemaPath=n,h.errSchemaPath=l,a+=" var "+d+" = errors;  ";var f,m=e.compositeRule;e.compositeRule=h.compositeRule=!0,h.createErrors=!1,h.opts.allErrors&&(f=h.opts.allErrors,h.opts.allErrors=!1),a+=" "+e.validate(h)+" ",h.createErrors=!0,f&&(h.opts.allErrors=f),e.compositeRule=h.compositeRule=m,a+=" if ("+p+") {   ";var v=v||[];v.push(a),a="",!1!==e.createErrors?(a+=" { keyword: 'not' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(l)+" , params: {} ",!1!==e.opts.messages&&(a+=" , message: 'should NOT be valid' "),e.opts.verbose&&(a+=" , schema: validate.schema"+n+" , parentSchema: validate.schema"+e.schemaPath+" , data: "+u+" "),a+=" } "):a+=" {} ";var g=a;a=v.pop(),!e.compositeRule&&c?e.async?a+=" throw new ValidationError(["+g+"]); ":a+=" validate.errors = ["+g+"]; return false; ":a+=" var err = "+g+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",a+=" } else {  errors = "+d+"; if (vErrors !== null) { if ("+d+") vErrors.length = "+d+"; else vErrors = null; } ",e.opts.allErrors&&(a+=" } ")}else a+="  var err =   ",!1!==e.createErrors?(a+=" { keyword: 'not' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(l)+" , params: {} ",!1!==e.opts.messages&&(a+=" , message: 'should NOT be valid' "),e.opts.verbose&&(a+=" , schema: validate.schema"+n+" , parentSchema: validate.schema"+e.schemaPath+" , data: "+u+" "),a+=" } "):a+=" {} ",a+=";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",c&&(a+=" if (false) { ");return a},oneOf:function(e,r,t){var a=" ",i=e.level,o=e.dataLevel,s=e.schema[r],n=e.schemaPath+e.util.getProperty(r),l=e.errSchemaPath+"/"+r,c=!e.opts.allErrors,u="data"+(o||""),d="valid"+i,h="errs__"+i,p=e.util.copy(e),f="";p.level++;var m="valid"+p.level,v=p.baseId,g="prevValid"+i,y="passingSchemas"+i;a+="var "+h+" = errors , "+g+" = false , "+d+" = false , "+y+" = null; ";var b=e.compositeRule;e.compositeRule=p.compositeRule=!0;var w=s;if(w)for(var P,S=-1,E=w.length-1;S<E;)P=w[S+=1],(e.opts.strictKeywords?"object"==typeof P&&Object.keys(P).length>0||!1===P:e.util.schemaHasRules(P,e.RULES.all))?(p.schema=P,p.schemaPath=n+"["+S+"]",p.errSchemaPath=l+"/"+S,a+="  "+e.validate(p)+" ",p.baseId=v):a+=" var "+m+" = true; ",S&&(a+=" if ("+m+" && "+g+") { "+d+" = false; "+y+" = ["+y+", "+S+"]; } else { ",f+="}"),a+=" if ("+m+") { "+d+" = "+g+" = true; "+y+" = "+S+"; }";return e.compositeRule=p.compositeRule=b,a+=f+"if (!"+d+") {   var err =   ",!1!==e.createErrors?(a+=" { keyword: 'oneOf' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(l)+" , params: { passingSchemas: "+y+" } ",!1!==e.opts.messages&&(a+=" , message: 'should match exactly one schema in oneOf' "),e.opts.verbose&&(a+=" , schema: validate.schema"+n+" , parentSchema: validate.schema"+e.schemaPath+" , data: "+u+" "),a+=" } "):a+=" {} ",a+=";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",!e.compositeRule&&c&&(e.async?a+=" throw new ValidationError(vErrors); ":a+=" validate.errors = vErrors; return false; "),a+="} else {  errors = "+h+"; if (vErrors !== null) { if ("+h+") vErrors.length = "+h+"; else vErrors = null; }",e.opts.allErrors&&(a+=" } "),a},pattern:function(e,r,t){var a,i=" ",o=e.level,s=e.dataLevel,n=e.schema[r],l=e.schemaPath+e.util.getProperty(r),c=e.errSchemaPath+"/"+r,u=!e.opts.allErrors,d="data"+(s||""),h=e.opts.$data&&n&&n.$data;h?(i+=" var schema"+o+" = "+e.util.getData(n.$data,s,e.dataPathArr)+"; ",a="schema"+o):a=n,i+="if ( ",h&&(i+=" ("+a+" !== undefined && typeof "+a+" != 'string') || "),i+=" !"+(h?"(new RegExp("+a+"))":e.usePattern(n))+".test("+d+") ) {   ";var p=p||[];p.push(i),i="",!1!==e.createErrors?(i+=" { keyword: 'pattern' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(c)+" , params: { pattern:  ",i+=h?""+a:""+e.util.toQuotedString(n),i+="  } ",!1!==e.opts.messages&&(i+=" , message: 'should match pattern \"",i+=h?"' + "+a+" + '":""+e.util.escapeQuotes(n),i+="\"' "),e.opts.verbose&&(i+=" , schema:  ",i+=h?"validate.schema"+l:""+e.util.toQuotedString(n),i+="         , parentSchema: validate.schema"+e.schemaPath+" , data: "+d+" "),i+=" } "):i+=" {} ";var f=i;return i=p.pop(),!e.compositeRule&&u?e.async?i+=" throw new ValidationError(["+f+"]); ":i+=" validate.errors = ["+f+"]; return false; ":i+=" var err = "+f+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",i+="} ",u&&(i+=" else { "),i},properties:function(e,r,t){var a=" ",i=e.level,o=e.dataLevel,s=e.schema[r],n=e.schemaPath+e.util.getProperty(r),l=e.errSchemaPath+"/"+r,c=!e.opts.allErrors,u="data"+(o||""),d="errs__"+i,h=e.util.copy(e),p="";h.level++;var f="valid"+h.level,m="key"+i,v="idx"+i,g=h.dataLevel=e.dataLevel+1,y="data"+g,b="dataProperties"+i,w=Object.keys(s||{}).filter(R),P=e.schema.patternProperties||{},S=Object.keys(P).filter(R),E=e.schema.additionalProperties,x=w.length||S.length,F=!1===E,k="object"==typeof E&&Object.keys(E).length,C=e.opts.removeAdditional,A=F||k||C,j=e.opts.ownProperties,$=e.baseId,_=e.schema.required;if(_&&(!e.opts.$data||!_.$data)&&_.length<e.opts.loopRequired)var O=e.util.toHash(_);function R(e){return"__proto__"!==e}if(a+="var "+d+" = errors;var "+f+" = true;",j&&(a+=" var "+b+" = undefined;"),A){if(a+=j?" "+b+" = "+b+" || Object.keys("+u+"); for (var "+v+"=0; "+v+"<"+b+".length; "+v+"++) { var "+m+" = "+b+"["+v+"]; ":" for (var "+m+" in "+u+") { ",x){if(a+=" var isAdditional"+i+" = !(false ",w.length)if(w.length>8)a+=" || validate.schema"+n+".hasOwnProperty("+m+") ";else{var D=w;if(D)for(var L=-1,I=D.length-1;L<I;)J=D[L+=1],a+=" || "+m+" == "+e.util.toQuotedString(J)+" "}if(S.length){var T=S;if(T)for(var N=-1,B=T.length-1;N<B;)oe=T[N+=1],a+=" || "+e.usePattern(oe)+".test("+m+") "}a+=" ); if (isAdditional"+i+") { "}if("all"==C)a+=" delete "+u+"["+m+"]; ";else{var q=e.errorPath,z="' + "+m+" + '";if(e.opts._errorDataPathProperty&&(e.errorPath=e.util.getPathExpr(e.errorPath,m,e.opts.jsonPointers)),F)if(C)a+=" delete "+u+"["+m+"]; ";else{a+=" "+f+" = false; ";var V=l;l=e.errSchemaPath+"/additionalProperties",(te=te||[]).push(a),a="",!1!==e.createErrors?(a+=" { keyword: 'additionalProperties' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(l)+" , params: { additionalProperty: '"+z+"' } ",!1!==e.opts.messages&&(a+=" , message: '",e.opts._errorDataPathProperty?a+="is an invalid additional property":a+="should NOT have additional properties",a+="' "),e.opts.verbose&&(a+=" , schema: false , parentSchema: validate.schema"+e.schemaPath+" , data: "+u+" "),a+=" } "):a+=" {} ";var M=a;a=te.pop(),!e.compositeRule&&c?e.async?a+=" throw new ValidationError(["+M+"]); ":a+=" validate.errors = ["+M+"]; return false; ":a+=" var err = "+M+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",l=V,c&&(a+=" break; ")}else if(k)if("failing"==C){a+=" var "+d+" = errors;  ";var U=e.compositeRule;e.compositeRule=h.compositeRule=!0,h.schema=E,h.schemaPath=e.schemaPath+".additionalProperties",h.errSchemaPath=e.errSchemaPath+"/additionalProperties",h.errorPath=e.opts._errorDataPathProperty?e.errorPath:e.util.getPathExpr(e.errorPath,m,e.opts.jsonPointers);var Q=u+"["+m+"]";h.dataPathArr[g]=m;var H=e.validate(h);h.baseId=$,e.util.varOccurences(H,y)<2?a+=" "+e.util.varReplace(H,y,Q)+" ":a+=" var "+y+" = "+Q+"; "+H+" ",a+=" if (!"+f+") { errors = "+d+"; if (validate.errors !== null) { if (errors) validate.errors.length = errors; else validate.errors = null; } delete "+u+"["+m+"]; }  ",e.compositeRule=h.compositeRule=U}else h.schema=E,h.schemaPath=e.schemaPath+".additionalProperties",h.errSchemaPath=e.errSchemaPath+"/additionalProperties",h.errorPath=e.opts._errorDataPathProperty?e.errorPath:e.util.getPathExpr(e.errorPath,m,e.opts.jsonPointers),Q=u+"["+m+"]",h.dataPathArr[g]=m,H=e.validate(h),h.baseId=$,e.util.varOccurences(H,y)<2?a+=" "+e.util.varReplace(H,y,Q)+" ":a+=" var "+y+" = "+Q+"; "+H+" ",c&&(a+=" if (!"+f+") break; ");e.errorPath=q}x&&(a+=" } "),a+=" }  ",c&&(a+=" if ("+f+") { ",p+="}")}var K=e.opts.useDefaults&&!e.compositeRule;if(w.length){var G=w;if(G)for(var J,W=-1,Z=G.length-1;W<Z;){var X=s[J=G[W+=1]];if(e.opts.strictKeywords?"object"==typeof X&&Object.keys(X).length>0||!1===X:e.util.schemaHasRules(X,e.RULES.all)){var Y=e.util.getProperty(J),ee=(Q=u+Y,K&&void 0!==X.default);if(h.schema=X,h.schemaPath=n+Y,h.errSchemaPath=l+"/"+e.util.escapeFragment(J),h.errorPath=e.util.getPath(e.errorPath,J,e.opts.jsonPointers),h.dataPathArr[g]=e.util.toQuotedString(J),H=e.validate(h),h.baseId=$,e.util.varOccurences(H,y)<2){H=e.util.varReplace(H,y,Q);var re=Q}else re=y,a+=" var "+y+" = "+Q+"; ";if(ee)a+=" "+H+" ";else{if(O&&O[J]){a+=" if ( "+re+" === undefined ",j&&(a+=" || ! Object.prototype.hasOwnProperty.call("+u+", '"+e.util.escapeQuotes(J)+"') "),a+=") { "+f+" = false; ",q=e.errorPath,V=l;var te,ae=e.util.escapeQuotes(J);e.opts._errorDataPathProperty&&(e.errorPath=e.util.getPath(q,J,e.opts.jsonPointers)),l=e.errSchemaPath+"/required",(te=te||[]).push(a),a="",!1!==e.createErrors?(a+=" { keyword: 'required' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(l)+" , params: { missingProperty: '"+ae+"' } ",!1!==e.opts.messages&&(a+=" , message: '",e.opts._errorDataPathProperty?a+="is a required property":a+="should have required property \\'"+ae+"\\'",a+="' "),e.opts.verbose&&(a+=" , schema: validate.schema"+n+" , parentSchema: validate.schema"+e.schemaPath+" , data: "+u+" "),a+=" } "):a+=" {} ",M=a,a=te.pop(),!e.compositeRule&&c?e.async?a+=" throw new ValidationError(["+M+"]); ":a+=" validate.errors = ["+M+"]; return false; ":a+=" var err = "+M+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",l=V,e.errorPath=q,a+=" } else { "}else c?(a+=" if ( "+re+" === undefined ",j&&(a+=" || ! Object.prototype.hasOwnProperty.call("+u+", '"+e.util.escapeQuotes(J)+"') "),a+=") { "+f+" = true; } else { "):(a+=" if ("+re+" !== undefined ",j&&(a+=" &&   Object.prototype.hasOwnProperty.call("+u+", '"+e.util.escapeQuotes(J)+"') "),a+=" ) { ");a+=" "+H+" } "}}c&&(a+=" if ("+f+") { ",p+="}")}}if(S.length){var ie=S;if(ie)for(var oe,se=-1,ne=ie.length-1;se<ne;)X=P[oe=ie[se+=1]],(e.opts.strictKeywords?"object"==typeof X&&Object.keys(X).length>0||!1===X:e.util.schemaHasRules(X,e.RULES.all))&&(h.schema=X,h.schemaPath=e.schemaPath+".patternProperties"+e.util.getProperty(oe),h.errSchemaPath=e.errSchemaPath+"/patternProperties/"+e.util.escapeFragment(oe),a+=j?" "+b+" = "+b+" || Object.keys("+u+"); for (var "+v+"=0; "+v+"<"+b+".length; "+v+"++) { var "+m+" = "+b+"["+v+"]; ":" for (var "+m+" in "+u+") { ",a+=" if ("+e.usePattern(oe)+".test("+m+")) { ",h.errorPath=e.util.getPathExpr(e.errorPath,m,e.opts.jsonPointers),Q=u+"["+m+"]",h.dataPathArr[g]=m,H=e.validate(h),h.baseId=$,e.util.varOccurences(H,y)<2?a+=" "+e.util.varReplace(H,y,Q)+" ":a+=" var "+y+" = "+Q+"; "+H+" ",c&&(a+=" if (!"+f+") break; "),a+=" } ",c&&(a+=" else "+f+" = true; "),a+=" }  ",c&&(a+=" if ("+f+") { ",p+="}"))}return c&&(a+=" "+p+" if ("+d+" == errors) {"),a},propertyNames:function(e,r,t){var a=" ",i=e.level,o=e.dataLevel,s=e.schema[r],n=e.schemaPath+e.util.getProperty(r),l=e.errSchemaPath+"/"+r,c=!e.opts.allErrors,u="data"+(o||""),d="errs__"+i,h=e.util.copy(e);h.level++;var p="valid"+h.level;if(a+="var "+d+" = errors;",e.opts.strictKeywords?"object"==typeof s&&Object.keys(s).length>0||!1===s:e.util.schemaHasRules(s,e.RULES.all)){h.schema=s,h.schemaPath=n,h.errSchemaPath=l;var f="key"+i,m="idx"+i,v="i"+i,g="' + "+f+" + '",y="data"+(h.dataLevel=e.dataLevel+1),b="dataProperties"+i,w=e.opts.ownProperties,P=e.baseId;w&&(a+=" var "+b+" = undefined; "),a+=w?" "+b+" = "+b+" || Object.keys("+u+"); for (var "+m+"=0; "+m+"<"+b+".length; "+m+"++) { var "+f+" = "+b+"["+m+"]; ":" for (var "+f+" in "+u+") { ",a+=" var startErrs"+i+" = errors; ";var S=f,E=e.compositeRule;e.compositeRule=h.compositeRule=!0;var x=e.validate(h);h.baseId=P,e.util.varOccurences(x,y)<2?a+=" "+e.util.varReplace(x,y,S)+" ":a+=" var "+y+" = "+S+"; "+x+" ",e.compositeRule=h.compositeRule=E,a+=" if (!"+p+") { for (var "+v+"=startErrs"+i+"; "+v+"<errors; "+v+"++) { vErrors["+v+"].propertyName = "+f+"; }   var err =   ",!1!==e.createErrors?(a+=" { keyword: 'propertyNames' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(l)+" , params: { propertyName: '"+g+"' } ",!1!==e.opts.messages&&(a+=" , message: 'property name \\'"+g+"\\' is invalid' "),e.opts.verbose&&(a+=" , schema: validate.schema"+n+" , parentSchema: validate.schema"+e.schemaPath+" , data: "+u+" "),a+=" } "):a+=" {} ",a+=";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",!e.compositeRule&&c&&(e.async?a+=" throw new ValidationError(vErrors); ":a+=" validate.errors = vErrors; return false; "),c&&(a+=" break; "),a+=" } }"}return c&&(a+="  if ("+d+" == errors) {"),a},required:function(e,r,t){var a=" ",i=e.level,o=e.dataLevel,s=e.schema[r],n=e.schemaPath+e.util.getProperty(r),l=e.errSchemaPath+"/"+r,c=!e.opts.allErrors,u="data"+(o||""),d="valid"+i,h=e.opts.$data&&s&&s.$data;h&&(a+=" var schema"+i+" = "+e.util.getData(s.$data,o,e.dataPathArr)+"; ");var p="schema"+i;if(!h)if(s.length<e.opts.loopRequired&&e.schema.properties&&Object.keys(e.schema.properties).length){var f=[],m=s;if(m)for(var v,g=-1,y=m.length-1;g<y;){v=m[g+=1];var b=e.schema.properties[v];b&&(e.opts.strictKeywords?"object"==typeof b&&Object.keys(b).length>0||!1===b:e.util.schemaHasRules(b,e.RULES.all))||(f[f.length]=v)}}else f=s;if(h||f.length){var w=e.errorPath,P=h||f.length>=e.opts.loopRequired,S=e.opts.ownProperties;if(c)if(a+=" var missing"+i+"; ",P){h||(a+=" var "+p+" = validate.schema"+n+"; ");var E="' + "+(j="schema"+i+"["+(C="i"+i)+"]")+" + '";e.opts._errorDataPathProperty&&(e.errorPath=e.util.getPathExpr(w,j,e.opts.jsonPointers)),a+=" var "+d+" = true; ",h&&(a+=" if (schema"+i+" === undefined) "+d+" = true; else if (!Array.isArray(schema"+i+")) "+d+" = false; else {"),a+=" for (var "+C+" = 0; "+C+" < "+p+".length; "+C+"++) { "+d+" = "+u+"["+p+"["+C+"]] !== undefined ",S&&(a+=" &&   Object.prototype.hasOwnProperty.call("+u+", "+p+"["+C+"]) "),a+="; if (!"+d+") break; } ",h&&(a+="  }  "),a+="  if (!"+d+") {   ",(F=F||[]).push(a),a="",!1!==e.createErrors?(a+=" { keyword: 'required' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(l)+" , params: { missingProperty: '"+E+"' } ",!1!==e.opts.messages&&(a+=" , message: '",e.opts._errorDataPathProperty?a+="is a required property":a+="should have required property \\'"+E+"\\'",a+="' "),e.opts.verbose&&(a+=" , schema: validate.schema"+n+" , parentSchema: validate.schema"+e.schemaPath+" , data: "+u+" "),a+=" } "):a+=" {} ";var x=a;a=F.pop(),!e.compositeRule&&c?e.async?a+=" throw new ValidationError(["+x+"]); ":a+=" validate.errors = ["+x+"]; return false; ":a+=" var err = "+x+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",a+=" } else { "}else{a+=" if ( ";var F,k=f;if(k)for(var C=-1,A=k.length-1;C<A;)_=k[C+=1],C&&(a+=" || "),a+=" ( ( "+(L=u+(D=e.util.getProperty(_)))+" === undefined ",S&&(a+=" || ! Object.prototype.hasOwnProperty.call("+u+", '"+e.util.escapeQuotes(_)+"') "),a+=") && (missing"+i+" = "+e.util.toQuotedString(e.opts.jsonPointers?_:D)+") ) ";a+=") {  ",E="' + "+(j="missing"+i)+" + '",e.opts._errorDataPathProperty&&(e.errorPath=e.opts.jsonPointers?e.util.getPathExpr(w,j,!0):w+" + "+j),(F=F||[]).push(a),a="",!1!==e.createErrors?(a+=" { keyword: 'required' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(l)+" , params: { missingProperty: '"+E+"' } ",!1!==e.opts.messages&&(a+=" , message: '",e.opts._errorDataPathProperty?a+="is a required property":a+="should have required property \\'"+E+"\\'",a+="' "),e.opts.verbose&&(a+=" , schema: validate.schema"+n+" , parentSchema: validate.schema"+e.schemaPath+" , data: "+u+" "),a+=" } "):a+=" {} ",x=a,a=F.pop(),!e.compositeRule&&c?e.async?a+=" throw new ValidationError(["+x+"]); ":a+=" validate.errors = ["+x+"]; return false; ":a+=" var err = "+x+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",a+=" } else { "}else if(P){var j;h||(a+=" var "+p+" = validate.schema"+n+"; "),E="' + "+(j="schema"+i+"["+(C="i"+i)+"]")+" + '",e.opts._errorDataPathProperty&&(e.errorPath=e.util.getPathExpr(w,j,e.opts.jsonPointers)),h&&(a+=" if ("+p+" && !Array.isArray("+p+")) {  var err =   ",!1!==e.createErrors?(a+=" { keyword: 'required' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(l)+" , params: { missingProperty: '"+E+"' } ",!1!==e.opts.messages&&(a+=" , message: '",e.opts._errorDataPathProperty?a+="is a required property":a+="should have required property \\'"+E+"\\'",a+="' "),e.opts.verbose&&(a+=" , schema: validate.schema"+n+" , parentSchema: validate.schema"+e.schemaPath+" , data: "+u+" "),a+=" } "):a+=" {} ",a+=";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; } else if ("+p+" !== undefined) { "),a+=" for (var "+C+" = 0; "+C+" < "+p+".length; "+C+"++) { if ("+u+"["+p+"["+C+"]] === undefined ",S&&(a+=" || ! Object.prototype.hasOwnProperty.call("+u+", "+p+"["+C+"]) "),a+=") {  var err =   ",!1!==e.createErrors?(a+=" { keyword: 'required' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(l)+" , params: { missingProperty: '"+E+"' } ",!1!==e.opts.messages&&(a+=" , message: '",e.opts._errorDataPathProperty?a+="is a required property":a+="should have required property \\'"+E+"\\'",a+="' "),e.opts.verbose&&(a+=" , schema: validate.schema"+n+" , parentSchema: validate.schema"+e.schemaPath+" , data: "+u+" "),a+=" } "):a+=" {} ",a+=";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; } } ",h&&(a+="  }  ")}else{var $=f;if($)for(var _,O=-1,R=$.length-1;O<R;){_=$[O+=1];var D=e.util.getProperty(_),L=(E=e.util.escapeQuotes(_),u+D);e.opts._errorDataPathProperty&&(e.errorPath=e.util.getPath(w,_,e.opts.jsonPointers)),a+=" if ( "+L+" === undefined ",S&&(a+=" || ! Object.prototype.hasOwnProperty.call("+u+", '"+e.util.escapeQuotes(_)+"') "),a+=") {  var err =   ",!1!==e.createErrors?(a+=" { keyword: 'required' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(l)+" , params: { missingProperty: '"+E+"' } ",!1!==e.opts.messages&&(a+=" , message: '",e.opts._errorDataPathProperty?a+="is a required property":a+="should have required property \\'"+E+"\\'",a+="' "),e.opts.verbose&&(a+=" , schema: validate.schema"+n+" , parentSchema: validate.schema"+e.schemaPath+" , data: "+u+" "),a+=" } "):a+=" {} ",a+=";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; } "}}e.errorPath=w}else c&&(a+=" if (true) {");return a},uniqueItems:function(e,r,t){var a,i=" ",o=e.level,s=e.dataLevel,n=e.schema[r],l=e.schemaPath+e.util.getProperty(r),c=e.errSchemaPath+"/"+r,u=!e.opts.allErrors,d="data"+(s||""),h="valid"+o,p=e.opts.$data&&n&&n.$data;if(p?(i+=" var schema"+o+" = "+e.util.getData(n.$data,s,e.dataPathArr)+"; ",a="schema"+o):a=n,(n||p)&&!1!==e.opts.uniqueItems){p&&(i+=" var "+h+"; if ("+a+" === false || "+a+" === undefined) "+h+" = true; else if (typeof "+a+" != 'boolean') "+h+" = false; else { "),i+=" var i = "+d+".length , "+h+" = true , j; if (i > 1) { ";var f=e.schema.items&&e.schema.items.type,m=Array.isArray(f);if(!f||"object"==f||"array"==f||m&&(f.indexOf("object")>=0||f.indexOf("array")>=0))i+=" outer: for (;i--;) { for (j = i; j--;) { if (equal("+d+"[i], "+d+"[j])) { "+h+" = false; break outer; } } } ";else{i+=" var itemIndices = {}, item; for (;i--;) { var item = "+d+"[i]; ";var v="checkDataType"+(m?"s":"");i+=" if ("+e.util[v](f,"item",e.opts.strictNumbers,!0)+") continue; ",m&&(i+=" if (typeof item == 'string') item = '\"' + item; "),i+=" if (typeof itemIndices[item] == 'number') { "+h+" = false; j = itemIndices[item]; break; } itemIndices[item] = i; } "}i+=" } ",p&&(i+="  }  "),i+=" if (!"+h+") {   ";var g=g||[];g.push(i),i="",!1!==e.createErrors?(i+=" { keyword: 'uniqueItems' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(c)+" , params: { i: i, j: j } ",!1!==e.opts.messages&&(i+=" , message: 'should NOT have duplicate items (items ## ' + j + ' and ' + i + ' are identical)' "),e.opts.verbose&&(i+=" , schema:  ",i+=p?"validate.schema"+l:""+n,i+="         , parentSchema: validate.schema"+e.schemaPath+" , data: "+d+" "),i+=" } "):i+=" {} ";var y=i;i=g.pop(),!e.compositeRule&&u?e.async?i+=" throw new ValidationError(["+y+"]); ":i+=" validate.errors = ["+y+"]; return false; ":i+=" var err = "+y+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",i+=" } ",u&&(i+=" else { ")}else u&&(i+=" if (true) { ");return i},validate:Ti},jo=Ao,$o=Ha.toHash,_o=["multipleOf","maximum","exclusiveMaximum","minimum","exclusiveMinimum","maxLength","minLength","pattern","additionalItems","maxItems","minItems","uniqueItems","maxProperties","minProperties","required","additionalProperties","enum","format","const"],Oo=Ri.MissingRef,Ro={$schema:"http://json-schema.org/draft-07/schema#",$id:"http://json-schema.org/draft-07/schema#",title:"Core schema meta-schema",definitions:{schemaArray:{type:"array",minItems:1,items:{$ref:"#"}},nonNegativeInteger:{type:"integer",minimum:0},nonNegativeIntegerDefault0:{allOf:[{$ref:"#/definitions/nonNegativeInteger"},{default:0}]},simpleTypes:{enum:["array","boolean","integer","null","number","object","string"]},stringArray:{type:"array",items:{type:"string"},uniqueItems:!0,default:[]}},type:["object","boolean"],properties:{$id:{type:"string",format:"uri-reference"},$schema:{type:"string",format:"uri"},$ref:{type:"string",format:"uri-reference"},$comment:{type:"string"},title:{type:"string"},description:{type:"string"},default:!0,readOnly:{type:"boolean",default:!1},examples:{type:"array",items:!0},multipleOf:{type:"number",exclusiveMinimum:0},maximum:{type:"number"},exclusiveMaximum:{type:"number"},minimum:{type:"number"},exclusiveMinimum:{type:"number"},maxLength:{$ref:"#/definitions/nonNegativeInteger"},minLength:{$ref:"#/definitions/nonNegativeIntegerDefault0"},pattern:{type:"string",format:"regex"},additionalItems:{$ref:"#"},items:{anyOf:[{$ref:"#"},{$ref:"#/definitions/schemaArray"}],default:!0},maxItems:{$ref:"#/definitions/nonNegativeInteger"},minItems:{$ref:"#/definitions/nonNegativeIntegerDefault0"},uniqueItems:{type:"boolean",default:!1},contains:{$ref:"#"},maxProperties:{$ref:"#/definitions/nonNegativeInteger"},minProperties:{$ref:"#/definitions/nonNegativeIntegerDefault0"},required:{$ref:"#/definitions/stringArray"},additionalProperties:{$ref:"#"},definitions:{type:"object",additionalProperties:{$ref:"#"},default:{}},properties:{type:"object",additionalProperties:{$ref:"#"},default:{}},patternProperties:{type:"object",additionalProperties:{$ref:"#"},propertyNames:{format:"regex"},default:{}},dependencies:{type:"object",additionalProperties:{anyOf:[{$ref:"#"},{$ref:"#/definitions/stringArray"}]}},propertyNames:{$ref:"#"},const:!0,enum:{type:"array",items:!0,minItems:1,uniqueItems:!0},type:{anyOf:[{$ref:"#/definitions/simpleTypes"},{type:"array",items:{$ref:"#/definitions/simpleTypes"},minItems:1,uniqueItems:!0}]},format:{type:"string"},contentMediaType:{type:"string"},contentEncoding:{type:"string"},if:{$ref:"#"},then:{$ref:"#"},else:{$ref:"#"},allOf:{$ref:"#/definitions/schemaArray"},anyOf:{$ref:"#/definitions/schemaArray"},oneOf:{$ref:"#/definitions/schemaArray"},not:{$ref:"#"}},default:!0},Do=Ro,Lo={$id:"https://github.com/ajv-validator/ajv/blob/master/lib/definition_schema.js",definitions:{simpleTypes:Do.definitions.simpleTypes},type:"object",dependencies:{schema:["validate"],$data:["validate"],statements:["inline"],valid:{not:{required:["macro"]}}},properties:{type:Do.properties.type,schema:{type:"boolean"},statements:{type:"boolean"},dependencies:{type:"array",items:{type:"string"}},metaSchema:{type:"object"},modifying:{type:"boolean"},valid:{type:"boolean"},$data:{type:"boolean"},async:{type:"boolean"},errors:{anyOf:[{type:"boolean"},{const:"full"}]}}},Io=/^[a-z_$][a-z0-9_$-]*$/i,To=function(e,r,t){var a,i,o=" ",s=e.level,n=e.dataLevel,l=e.schema[r],c=e.schemaPath+e.util.getProperty(r),u=e.errSchemaPath+"/"+r,d=!e.opts.allErrors,h="data"+(n||""),p="valid"+s,f="errs__"+s,m=e.opts.$data&&l&&l.$data;m?(o+=" var schema"+s+" = "+e.util.getData(l.$data,n,e.dataPathArr)+"; ",i="schema"+s):i=l;var v,g,y,b,w,P=this,S="definition"+s,E=P.definition,x="";if(m&&E.$data){w="keywordValidate"+s;var F=E.validateSchema;o+=" var "+S+" = RULES.custom['"+r+"'].definition; var "+w+" = "+S+".validate;"}else{if(!(b=e.useCustomRule(P,l,e.schema,e)))return;i="validate.schema"+c,w=b.code,v=E.compile,g=E.inline,y=E.macro}var k=w+".errors",C="i"+s,A="ruleErr"+s,j=E.async;if(j&&!e.async)throw new Error("async keyword in sync schema");if(g||y||(o+=k+" = null;"),o+="var "+f+" = errors;var "+p+";",m&&E.$data&&(x+="}",o+=" if ("+i+" === undefined) { "+p+" = true; } else { ",F&&(x+="}",o+=" "+p+" = "+S+".validateSchema("+i+"); if ("+p+") { ")),g)E.statements?o+=" "+b.validate+" ":o+=" "+p+" = "+b.validate+"; ";else if(y){var $=e.util.copy(e);x="",$.level++;var _="valid"+$.level;$.schema=b.validate,$.schemaPath="";var O=e.compositeRule;e.compositeRule=$.compositeRule=!0;var R=e.validate($).replace(/validate\.schema/g,w);e.compositeRule=$.compositeRule=O,o+=" "+R}else{(T=T||[]).push(o),o="",o+="  "+w+".call( ",e.opts.passContext?o+="this":o+="self",v||!1===E.schema?o+=" , "+h+" ":o+=" , "+i+" , "+h+" , validate.schema"+e.schemaPath+" ",o+=" , (dataPath || '')",'""'!=e.errorPath&&(o+=" + "+e.errorPath);var D=n?"data"+(n-1||""):"parentData",L=n?e.dataPathArr[n]:"parentDataProperty",I=o+=" , "+D+" , "+L+" , rootData )  ";o=T.pop(),!1===E.errors?(o+=" "+p+" = ",j&&(o+="await "),o+=I+"; "):o+=j?" var "+(k="customErrors"+s)+" = null; try { "+p+" = await "+I+"; } catch (e) { "+p+" = false; if (e instanceof ValidationError) "+k+" = e.errors; else throw e; } ":" "+k+" = null; "+p+" = "+I+"; "}if(E.modifying&&(o+=" if ("+D+") "+h+" = "+D+"["+L+"];"),o+=""+x,E.valid)d&&(o+=" if (true) { ");else{var T;o+=" if ( ",void 0===E.valid?(o+=" !",o+=y?""+_:""+p):o+=" "+!E.valid+" ",o+=") { ",a=P.keyword,(T=T||[]).push(o),o="",(T=T||[]).push(o),o="",!1!==e.createErrors?(o+=" { keyword: '"+(a||"custom")+"' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(u)+" , params: { keyword: '"+P.keyword+"' } ",!1!==e.opts.messages&&(o+=" , message: 'should pass \""+P.keyword+"\" keyword validation' "),e.opts.verbose&&(o+=" , schema: validate.schema"+c+" , parentSchema: validate.schema"+e.schemaPath+" , data: "+h+" "),o+=" } "):o+=" {} ";var N=o;o=T.pop(),!e.compositeRule&&d?e.async?o+=" throw new ValidationError(["+N+"]); ":o+=" validate.errors = ["+N+"]; return false; ":o+=" var err = "+N+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ";var B=o;o=T.pop(),g?E.errors?"full"!=E.errors&&(o+="  for (var "+C+"="+f+"; "+C+"<errors; "+C+"++) { var "+A+" = vErrors["+C+"]; if ("+A+".dataPath === undefined) "+A+".dataPath = (dataPath || '') + "+e.errorPath+"; if ("+A+".schemaPath === undefined) { "+A+'.schemaPath = "'+u+'"; } ',e.opts.verbose&&(o+=" "+A+".schema = "+i+"; "+A+".data = "+h+"; "),o+=" } "):!1===E.errors?o+=" "+B+" ":(o+=" if ("+f+" == errors) { "+B+" } else {  for (var "+C+"="+f+"; "+C+"<errors; "+C+"++) { var "+A+" = vErrors["+C+"]; if ("+A+".dataPath === undefined) "+A+".dataPath = (dataPath || '') + "+e.errorPath+"; if ("+A+".schemaPath === undefined) { "+A+'.schemaPath = "'+u+'"; } ',e.opts.verbose&&(o+=" "+A+".schema = "+i+"; "+A+".data = "+h+"; "),o+=" } } "):y?(o+="   var err =   ",!1!==e.createErrors?(o+=" { keyword: '"+(a||"custom")+"' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(u)+" , params: { keyword: '"+P.keyword+"' } ",!1!==e.opts.messages&&(o+=" , message: 'should pass \""+P.keyword+"\" keyword validation' "),e.opts.verbose&&(o+=" , schema: validate.schema"+c+" , parentSchema: validate.schema"+e.schemaPath+" , data: "+h+" "),o+=" } "):o+=" {} ",o+=";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",!e.compositeRule&&d&&(e.async?o+=" throw new ValidationError(vErrors); ":o+=" validate.errors = vErrors; return false; ")):!1===E.errors?o+=" "+B+" ":(o+=" if (Array.isArray("+k+")) { if (vErrors === null) vErrors = "+k+"; else vErrors = vErrors.concat("+k+"); errors = vErrors.length;  for (var "+C+"="+f+"; "+C+"<errors; "+C+"++) { var "+A+" = vErrors["+C+"]; if ("+A+".dataPath === undefined) "+A+".dataPath = (dataPath || '') + "+e.errorPath+";  "+A+'.schemaPath = "'+u+'";  ',e.opts.verbose&&(o+=" "+A+".schema = "+i+"; "+A+".data = "+h+"; "),o+=" } } else { "+B+" } "),o+=" } ",d&&(o+=" else { ")}return o},No=Lo,Bo={add:function(e,r){var t=this.RULES;if(t.keywords[e])throw new Error("Keyword "+e+" is already defined");if(!Io.test(e))throw new Error("Keyword "+e+" is not a valid identifier");if(r){this.validateKeyword(r,!0);var a=r.type;if(Array.isArray(a))for(var i=0;i<a.length;i++)s(e,a[i],r);else s(e,a,r);var o=r.metaSchema;o&&(r.$data&&this._opts.$data&&(o={anyOf:[o,{$ref:"https://raw.githubusercontent.com/ajv-validator/ajv/master/lib/refs/data.json#"}]}),r.validateSchema=this.compile(o,!0))}function s(e,r,a){for(var i,o=0;o<t.length;o++){var s=t[o];if(s.type==r){i=s;break}}i||(i={type:r,rules:[]},t.push(i));var n={keyword:e,definition:a,custom:!0,code:To,implements:a.implements};i.rules.push(n),t.custom[e]=n}return t.keywords[e]=t.all[e]=!0,this},get:function(e){var r=this.RULES.custom[e];return r?r.definition:this.RULES.keywords[e]||!1},remove:function(e){var r=this.RULES;delete r.keywords[e],delete r.all[e],delete r.custom[e];for(var t=0;t<r.length;t++)for(var a=r[t].rules,i=0;i<a.length;i++)if(a[i].keyword==e){a.splice(i,1);break}return this},validate:function e(r,t){e.errors=null;var a=this._validateKeyword=this._validateKeyword||this.compile(No,!0);if(a(r))return!0;if(e.errors=a.errors,t)throw new Error("custom keyword definition is invalid: "+this.errorsText(a.errors));return!1}},qo={$schema:"http://json-schema.org/draft-07/schema#",$id:"https://raw.githubusercontent.com/ajv-validator/ajv/master/lib/refs/data.json#",description:"Meta-schema for $data reference (JSON Schema extension proposal)",type:"object",required:["$data"],properties:{$data:{type:"string",anyOf:[{format:"relative-json-pointer"},{format:"json-pointer"}]}},additionalProperties:!1},zo=function e(r,t,a,i){var o=this,s=this._opts,n=[void 0],l={},c=[],u={},d=[],h={},p=[];t=t||{schema:r,refVal:n,refs:l};var f=Hi.call(this,r,t,i),m=this._compilations[f.index];if(f.compiling)return m.callValidate=function e(){var r=m.validate,t=r.apply(this,arguments);return e.errors=r.errors,t};var v=this._formats,g=this.RULES;try{var y=w(r,t,a,i);m.validate=y;var b=m.callValidate;return b&&(b.schema=y.schema,b.errors=null,b.refs=y.refs,b.refVal=y.refVal,b.root=y.root,b.$async=y.$async,s.sourceCode&&(b.source=y.source)),y}finally{Ki.call(this,r,t,i)}function w(r,a,i,u){var h=!a||a&&a.schema==r;if(a.schema!=t.schema)return e.call(o,r,a,i,u);var f,m=!0===r.$async,y=Vi({isTop:!0,schema:r,isRoot:h,baseId:u,root:a,schemaPath:"",errSchemaPath:"#",errorPath:'""',MissingRefError:qi.MissingRef,RULES:g,validate:Vi,util:Bi,resolve:Ni,resolveRef:P,usePattern:x,useDefault:F,useCustomRule:k,opts:s,formats:v,logger:o.logger,self:o});y=Yi(n,Zi)+Yi(c,Ji)+Yi(d,Wi)+Yi(p,Xi)+y,s.processCode&&(y=s.processCode(y,r));try{f=new Function("self","RULES","formats","root","refVal","defaults","customRules","equal","ucs2length","ValidationError",y)(o,g,v,t,n,d,p,Ui,Mi,Qi),n[0]=f}catch(e){throw o.logger.error("Error compiling schema, function code:",y),e}return f.schema=r,f.errors=null,f.refs=l,f.refVal=n,f.root=h?f:a,m&&(f.$async=!0),!0===s.sourceCode&&(f.source={code:y,patterns:c,defaults:d}),f}function P(r,i,c){i=Ni.url(r,i);var u,d,h=l[i];if(void 0!==h)return E(u=n[h],d="refVal["+h+"]");if(!c&&t.refs){var p=t.refs[i];if(void 0!==p)return E(u=t.refVal[p],d=S(i,u))}d=S(i);var f=Ni.call(o,w,t,i);if(void 0===f){var m=a&&a[i];m&&(f=Ni.inlineRef(m,s.inlineRefs)?m:e.call(o,m,t,a,r))}if(void 0!==f)return function(e,r){var t=l[e];n[t]=r}(i,f),E(f,d);!function(e){delete l[e]}(i)}function S(e,r){var t=n.length;return n[t]=r,l[e]=t,"refVal"+t}function E(e,r){return"object"==typeof e||"boolean"==typeof e?{code:r,schema:e,inline:!0}:{code:r,$async:e&&!!e.$async}}function x(e){var r=u[e];return void 0===r&&(r=u[e]=c.length,c[r]=e),"pattern"+r}function F(e){switch(typeof e){case"boolean":case"number":return""+e;case"string":return Bi.toQuotedString(e);case"object":if(null===e)return"null";var r=zi(e),t=h[r];return void 0===t&&(t=h[r]=d.length,d[t]=e),"default"+t}}function k(e,r,t,a){if(!1!==o._opts.validateSchema){var i=e.definition.dependencies;if(i&&!i.every((function(e){return Object.prototype.hasOwnProperty.call(t,e)})))throw new Error("parent schema must have all required keywords: "+i.join(","));var n=e.definition.validateSchema;if(n&&!n(r)){var l="keyword schema is invalid: "+o.errorsText(n.errors);if("log"!=o._opts.validateSchema)throw new Error(l);o.logger.error(l)}}var c,u=e.definition.compile,d=e.definition.inline,h=e.definition.macro;if(u)c=u.call(o,r,t,a);else if(h)c=h.call(o,r,t,a),!1!==s.validateSchema&&o.validateSchema(c,!0);else if(d)c=d.call(o,a,e.keyword,r,t);else if(!(c=e.definition.validate))return;if(void 0===c)throw new Error('custom keyword "'+e.keyword+'"failed to compile');var f=p.length;return p[f]=c,{code:"customRule"+f,validate:c}}},Vo=gi,Mo=to,Uo=ni,Qo=Ii,Ho=vo,Ko=function(e,r){for(var t=0;t<r.length;t++){e=JSON.parse(JSON.stringify(e));var a,i=r[t].split("/"),o=e;for(a=1;a<i.length;a++)o=o[i[a]];for(a=0;a<_o.length;a++){var s=_o[a],n=o[s];n&&(o[s]={anyOf:[n,{$ref:"https://raw.githubusercontent.com/ajv-validator/ajv/master/lib/refs/data.json#"}]})}}return e},Go=Ha,Jo=rs;rs.prototype.validate=function(e,r){var t;if("string"==typeof e){if(!(t=this.getSchema(e)))throw new Error('no schema with key or ref "'+e+'"')}else{var a=this._addSchema(e);t=a.validate||this._compile(a)}var i=t(r);return!0!==t.$async&&(this.errors=t.errors),i},rs.prototype.compile=function(e,r){var t=this._addSchema(e,void 0,r);return t.validate||this._compile(t)},rs.prototype.addSchema=function(e,r,t,a){if(Array.isArray(e)){for(var i=0;i<e.length;i++)this.addSchema(e[i],void 0,t,a);return this}var o=this._getId(e);if(void 0!==o&&"string"!=typeof o)throw new Error("schema id must be string");return ns(this,r=Vo.normalizeId(r||o)),this._schemas[r]=this._addSchema(e,t,a,!0),this},rs.prototype.addMetaSchema=function(e,r,t){return this.addSchema(e,r,t,!0),this},rs.prototype.validateSchema=function(e,r){var t=e.$schema;if(void 0!==t&&"string"!=typeof t)throw new Error("$schema must be a string");if(t=t||this._opts.defaultMeta||function(e){var r=e._opts.meta;return e._opts.defaultMeta="object"==typeof r?e._getId(r)||r:e.getSchema(Xo)?Xo:void 0,e._opts.defaultMeta}(this),!t)return this.logger.warn("meta-schema not available"),this.errors=null,!0;var a=this.validate(t,e);if(!a&&r){var i="schema is invalid: "+this.errorsText();if("log"!=this._opts.validateSchema)throw new Error(i);this.logger.error(i)}return a},rs.prototype.getSchema=function(e){var r=ts(this,e);switch(typeof r){case"object":return r.validate||this._compile(r);case"string":return this.getSchema(r);case"undefined":return function(e,r){var t=Vo.schema.call(e,{schema:{}},r);if(t){var a=t.schema,i=t.root,o=t.baseId,s=zo.call(e,a,i,void 0,o);return e._fragments[r]=new Uo({ref:r,fragment:!0,schema:a,root:i,baseId:o,validate:s}),s}}(this,e)}},rs.prototype.removeSchema=function(e){if(e instanceof RegExp)return as(this,this._schemas,e),as(this,this._refs,e),this;switch(typeof e){case"undefined":return as(this,this._schemas),as(this,this._refs),this._cache.clear(),this;case"string":var r=ts(this,e);return r&&this._cache.del(r.cacheKey),delete this._schemas[e],delete this._refs[e],this;case"object":var t=this._opts.serialize,a=t?t(e):e;this._cache.del(a);var i=this._getId(e);i&&(i=Vo.normalizeId(i),delete this._schemas[i],delete this._refs[i])}return this},rs.prototype.addFormat=function(e,r){return"string"==typeof r&&(r=new RegExp(r)),this._formats[e]=r,this},rs.prototype.errorsText=function(e,r){if(!(e=e||this.errors))return"No errors";for(var t=void 0===(r=r||{}).separator?", ":r.separator,a=void 0===r.dataVar?"data":r.dataVar,i="",o=0;o<e.length;o++){var s=e[o];s&&(i+=a+s.dataPath+" "+s.message+t)}return i.slice(0,-t.length)},rs.prototype._addSchema=function(e,r,t,a){if("object"!=typeof e&&"boolean"!=typeof e)throw new Error("schema should be object or boolean");var i=this._opts.serialize,o=i?i(e):e,s=this._cache.get(o);if(s)return s;a=a||!1!==this._opts.addUsedSchema;var n=Vo.normalizeId(this._getId(e));n&&a&&ns(this,n);var l,c=!1!==this._opts.validateSchema&&!r;c&&!(l=n&&n==Vo.normalizeId(e.$schema))&&this.validateSchema(e,!0);var u=Vo.ids.call(this,e),d=new Uo({id:n,schema:e,localRefs:u,cacheKey:o,meta:t});return"#"!=n[0]&&a&&(this._refs[n]=d),this._cache.put(o,d),c&&l&&this.validateSchema(e,!0),d},rs.prototype._compile=function(e,r){if(e.compiling)return e.validate=i,i.schema=e.schema,i.errors=null,i.root=r||i,!0===e.schema.$async&&(i.$async=!0),i;var t,a;e.compiling=!0,e.meta&&(t=this._opts,this._opts=this._metaOpts);try{a=zo.call(this,e.schema,r,e.localRefs)}catch(r){throw delete e.validate,r}finally{e.compiling=!1,e.meta&&(this._opts=t)}return e.validate=a,e.refs=a.refs,e.refVal=a.refVal,e.root=a.root,a;function i(){var r=e.validate,t=r.apply(this,arguments);return i.errors=r.errors,t}},rs.prototype.compileAsync=function e(r,t,a){var i=this;if("function"!=typeof this._opts.loadSchema)throw new Error("options.loadSchema should be a function");"function"==typeof t&&(a=t,t=void 0);var o=s(r).then((function(){var e=i._addSchema(r,void 0,t);return e.validate||n(e)}));return a&&o.then((function(e){a(null,e)}),a),o;function s(r){var t=r.$schema;return t&&!i.getSchema(t)?e.call(i,{$ref:t},!0):Promise.resolve()}function n(e){try{return i._compile(e)}catch(r){if(r instanceof Oo)return function(r){var a=r.missingSchema;if(c(a))throw new Error("Schema "+a+" is loaded but "+r.missingRef+" cannot be resolved");var o=i._loadingSchemas[a];return o||(o=i._loadingSchemas[a]=i._opts.loadSchema(a)).then(l,l),o.then((function(e){if(!c(a))return s(e).then((function(){c(a)||i.addSchema(e,a,void 0,t)}))})).then((function(){return n(e)}));function l(){delete i._loadingSchemas[a]}function c(e){return i._refs[e]||i._schemas[e]}}(r);throw r}}};var Wo=Bo;rs.prototype.addKeyword=Wo.add,rs.prototype.getKeyword=Wo.get,rs.prototype.removeKeyword=Wo.remove,rs.prototype.validateKeyword=Wo.validate;var Zo=Ri;rs.ValidationError=Zo.Validation,rs.MissingRefError=Zo.MissingRef,rs.$dataMetaSchema=Ko;var Xo="http://json-schema.org/draft-07/schema",Yo=["removeAdditional","useDefaults","coerceTypes","strictDefaults"],es=["/properties"];function rs(e){if(!(this instanceof rs))return new rs(e);e=this._opts=Go.copy(e)||{},function(e){var r=e._opts.logger;if(!1===r)e.logger={log:ls,warn:ls,error:ls};else{if(void 0===r&&(r=console),!("object"==typeof r&&r.log&&r.warn&&r.error))throw new Error("logger must implement log, warn and error methods");e.logger=r}}(this),this._schemas={},this._refs={},this._fragments={},this._formats=Ho(e.format),this._cache=e.cache||new Mo,this._loadingSchemas={},this._compilations=[],this.RULES=function(){var e=[{type:"number",rules:[{maximum:["exclusiveMaximum"]},{minimum:["exclusiveMinimum"]},"multipleOf","format"]},{type:"string",rules:["maxLength","minLength","pattern","format"]},{type:"array",rules:["maxItems","minItems","items","contains","uniqueItems"]},{type:"object",rules:["maxProperties","minProperties","required","dependencies","propertyNames",{properties:["additionalProperties","patternProperties"]}]},{rules:["$ref","const","enum","not","anyOf","oneOf","allOf","if"]}],r=["type","$comment"];return e.all=$o(r),e.types=$o(["number","integer","string","array","object","boolean","null"]),e.forEach((function(t){t.rules=t.rules.map((function(t){var a;if("object"==typeof t){var i=Object.keys(t)[0];a=t[i],t=i,a.forEach((function(t){r.push(t),e.all[t]=!0}))}return r.push(t),e.all[t]={keyword:t,code:jo[t],implements:a}})),e.all.$comment={keyword:"$comment",code:jo.$comment},t.type&&(e.types[t.type]=t)})),e.keywords=$o(r.concat(["$schema","$id","id","$data","$async","title","description","default","definitions","examples","readOnly","writeOnly","contentMediaType","contentEncoding","additionalItems","then","else"])),e.custom={},e}(),this._getId=function(e){switch(e.schemaId){case"auto":return ss;case"id":return is;default:return os}}(e),e.loopRequired=e.loopRequired||1/0,"property"==e.errorDataPath&&(e._errorDataPathProperty=!0),void 0===e.serialize&&(e.serialize=Qo),this._metaOpts=function(e){for(var r=Go.copy(e._opts),t=0;t<Yo.length;t++)delete r[Yo[t]];return r}(this),e.formats&&function(e){for(var r in e._opts.formats){var t=e._opts.formats[r];e.addFormat(r,t)}}(this),e.keywords&&function(e){for(var r in e._opts.keywords){var t=e._opts.keywords[r];e.addKeyword(r,t)}}(this),function(e){var r;if(e._opts.$data&&(r=qo,e.addMetaSchema(r,r.$id,!0)),!1!==e._opts.meta){var t=Ro;e._opts.$data&&(t=Ko(t,es)),e.addMetaSchema(t,Xo,!0),e._refs["http://json-schema.org/schema"]=Xo}}(this),"object"==typeof e.meta&&this.addMetaSchema(e.meta),e.nullable&&this.addKeyword("nullable",{metaSchema:{type:"boolean"}}),function(e){var r=e._opts.schemas;if(r)if(Array.isArray(r))e.addSchema(r);else for(var t in r)e.addSchema(r[t],t)}(this)}function ts(e,r){return r=Vo.normalizeId(r),e._schemas[r]||e._refs[r]||e._fragments[r]}function as(e,r,t){for(var a in r){var i=r[a];i.meta||t&&!t.test(a)||(e._cache.del(i.cacheKey),delete r[a])}}function is(e){return e.$id&&this.logger.warn("schema $id ignored",e.$id),e.id}function os(e){return e.id&&this.logger.warn("schema id ignored",e.id),e.$id}function ss(e){if(e.$id&&e.id&&e.$id!=e.id)throw new Error("schema $id is different from id");return e.$id||e.id}function ns(e,r){if(e._schemas[r]||e._refs[r])throw new Error('schema with key or id "'+r+'" already exists')}function ls(){}var cs=rt(Jo);function us(e,r){let t=0;if(e!==r){const a=e.split("."),i=r.split(".");for(let e=0;e<a.length;e+=1){const r=Number.parseInt(a[e],10),o=Number.parseInt(i[e],10);if(r>o||Number.isNaN(o)){t=1;break}if(r<o){t=-1;break}}}return t}function ds(e){let r=n.Same,t=[];var a;if(void 0!==(a=e)&&/^([1-9]\d*|0)(\.(([1-9]\d*)|0)){2}$/u.test(a)&&void 0!==e){qa.sort(us);const a=us(e,qa[qa.length-1]);if(1===a?r=n.Newer:-1===a&&(r=n.Older),r===n.Newer||r===n.Same)t.push(e);else{for(let r=qa.length-2;r>=0;r-=1)if(us(e,qa[r])>=0){t=qa.slice(r,qa.length);break}0===t.length&&t.push(za)}}else r=n.Unrecognized,t.push(Va);return{versionStatus:r,versions:t}}async function hs(e,r){if(void 0!==r?.series)for(let t=0;t<r.series.length;t+=1){const a=r.series[t].type;if(!e.includes(a)){const r=await Ia(),i=Mr(r.invalidSeriesType,{receivedType:a,seriesIndex:`${t}`,expectedType:e.join(` ${r.or} `)});console.error(i)}}}function ps(e){return e&&"iLayer"in e&&e.iLayer}var fs;!function(){const e=new cs({allErrors:!0})}(),function(e){e.NONE="none",e.ROTATE="rotate",e.STAGGER="stagger",e.WRAP="wrap"}(fs||(fs={}));const ms={MonoSelection:"monoSelection",MultiSelection:"multiSelection",MultiSelectionWithCtrlKey:"multiSelectionWithCtrlKey",Zoom:"zoom",None:"none"},vs={FilterBySelection:"filterBySelection",FilterByExtent:"filterByExtent",Legend:"legend",RotateChart:"rotateChart",Selection:"selection",ClearSelection:"clearSelection",SwitchSelection:"switchSelection",Zoom:"zoom",FullExtent:"fullExtent",Configure:"configure"},gs={Active:"active",Inactive:"inactive"},ys={Enabled:"enabled",Disabled:"disabled"},bs={Ignore:"ignore",Throw:"throw"},ws={Ignore:"ignore",Refresh:"refresh"},Ps=ws,Ss=ws,Es={actionBar:"action-bar",customActionTop:"custom-action-top",customActionBelow:"custom-action-below",expandTooltip:"expand-tooltip"},xs={Chart:"chart",Text:"chartText",Overlay:"chartOverlay",Overlays:"chartOverlays",Legend:"chartLegend",CursorCrosshair:"cursorCrosshair",Axis:"chartAxis",GaugeAxisTick:"gaugeAxisTick",GaugeNeedle:"gaugeNeedle",CategoryAxisFormat:"category",NumberAxisFormat:"number",DateAxisFormat:"date",Guide:"chartGuide",ScatterSeries:"scatterSeries",PieSeries:"pieSeries",PieTick:"pieTick",GaugeSeries:"gaugeSeries",LineSeries:"lineSeries",BarSeries:"barSeries",HistogramSeries:"histogramSeries",BoxPlotSeries:"boxPlotSeries",RadarSeries:"radarSeries",ProbabilityPlotSeries:"probabilityPlotSeries",ProfileGraphSeries:"profileGraphSeries",ComboLineAndBarSeries:"comboLineAndBarSeries",Buffer:"buffer",SizePolicy:"sizeScale"},Fs={Same:"same",Newer:"newer",Older:"older",Unrecognized:"unrecognized"};function ks(e,r){const t=document.createElement("calcite-tooltip");return t.innerHTML=e,t.style.setProperty("opacity","1"),void 0!==r&&(t.referenceElement=r),document.body.appendChild(t),t}function Cs(e){return e?.remove(),null}const As=e=>{const r=e.detail,t=e.target,a=t.parentElement;if(null!==a)switch(r.actionId){case vs.FullExtent:a.resetZoom();break;case vs.RotateChart:a.rotation=r.actionActive;break;case vs.ClearSelection:a.clearSelection();break;case vs.Legend:a.legendVisibility=r.actionActive;break;case vs.Selection:a.actionMode=t.actionBarSelectionMode;break;case vs.Zoom:a.actionMode=ms.Zoom;break;case vs.SwitchSelection:a.switchSelection();break;case vs.FilterBySelection:a.filterBySelection=r.actionActive}},js=(e,r,t)=>{const a=e.target;a.removeEventListener("arcgisDefaultActionSelect",As),a.addEventListener("arcgisDefaultActionSelect",As);const i=a.assignedNodes().find((e=>"actionBarHideActionsProps"in e));if(void 0!==i){const e=[xs.HistogramSeries,xs.ScatterSeries,xs.PieSeries,xs.GaugeSeries],a=[xs.PieSeries,xs.GaugeSeries],o=[xs.PieSeries,xs.GaugeSeries];i.actionBarHideActionsProps={hideRotateChart:e.includes(r),hideZoom:a.includes(r),hideFullExtent:o.includes(r),hideLegend:r===xs.GaugeSeries,hideFilterBySelection:r===xs.GaugeSeries,hideClearSelection:r===xs.GaugeSeries,hideSwitchSelection:r===xs.GaugeSeries,hideSelection:r===xs.GaugeSeries,...i.actionBarHideActionsProps},$s(i,t)}};function $s(e,r){const t=e.parentElement,a=!!r?.legend&&(r.legend.visible??!0);t&&"legendVisibility"in t&&(e.legendToggle=t.legendVisibility??a?gs.Active:gs.Inactive),t&&"filterBySelection"in t&&(e.filterBySelectionToggle=!0===t.filterBySelection?gs.Active:gs.Inactive),t&&"rotation"in t&&(e.rotateChartToggle=!0===(t.rotation??r?.rotated)?gs.Active:gs.Inactive)}}}]);
//# sourceMappingURL=304.c2b3d92d.chunk.js.map